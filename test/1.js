/*!
 * by Dgrees
 * 
 */
/*! For license information please see app.min.js.LICENSE.txt */
!function (e) { function t (t) { for (var n, a, o = t[0], l = t[1], u = t[2], d = 0, _ = []; d < o.length; d++)a = o[d], Object.prototype.hasOwnProperty.call(s, a) && s[a] && _.push(s[a][0]), s[a] = 0; for (n in l) Object.prototype.hasOwnProperty.call(l, n) && (e[n] = l[n]); for (c && c(t); _.length;)_.shift()(); return r.push.apply(r, u || []), i() } function i () { for (var e, t = 0; t < r.length; t++) { for (var i = r[t], n = !0, o = 1; o < i.length; o++) { var l = i[o]; 0 !== s[l] && (n = !1) } n && (r.splice(t--, 1), e = a(a.s = i[0])) } return e } var n = {}, s = { 0: 0 }, r = []; function a (t) { if (n[t]) return n[t].exports; var i = n[t] = { i: t, l: !1, exports: {} }; return e[t].call(i.exports, i, i.exports, a), i.l = !0, i.exports } a.m = e, a.c = n, a.d = function (e, t, i) { a.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: i }) }, a.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, a.t = function (e, t) { if (1 & t && (e = a(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var i = Object.create(null); if (a.r(i), Object.defineProperty(i, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var n in e) a.d(i, n, function (t) { return e[t] }.bind(null, n)); return i }, a.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return a.d(t, "a", t), t }, a.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, a.p = ""; var o = window.webpackJsonp = window.webpackJsonp || [], l = o.push.bind(o); o.push = t, o = o.slice(); for (var u = 0; u < o.length; u++)t(o[u]); var c = l; r.push([59, 1]), i() }([, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = ""; with (obj) __p += '<div class="footer">\n    <div class="container">\n        <ul class="links">\n            \x3c!-- <li><a href="https://revistaelduende.com/descargate-la-revista/" target="_blank">Desc谩rgate la revista</a></li> --\x3e\n            \x3c!-- <li><a href="">Suscripciones</a></li>\n            <li><a href="">Contacto</a></li> --\x3e\n            <li><span>GRUPO DUENDE 2020</span></li>\n            <li><a href="https://revistaelduende.com/descargate-la-revista/sites/default/files/CIUDAD.COMUNICACION.Politica.de.privacidad.pdf" target="_blank">Pol铆tica de privacidad</a></li>\n        </ul>\n        <ul class="social">\n            <li><a href="https://www.facebook.com/DuendeRevista/" target="_blank">FB</a></li>\n            <li><a href="https://twitter.com/Elduenderevista" target="_blank">TW</a></li>\n            <li><a href="https://www.youtube.com/user/GrupoDuendeYT" target="_blank">YT</a></li>\n            <li><a href="https://www.instagram.com/revista_el_duende/" target="_blank">IG</a></li>\n        </ul>\n    </div>\n</div>\n'; return __p } }, , , , function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner home">\n    <div class="home__hero">\n        <div class="base">\n            <div class="base__content">\n                <div class="logo"></div>\n                <div class="label label--large">EXPLORADORES URBANOS</div>\n            </div>\n            ', slider[0].customcolor ? __p += '\n                <div class="base__layer" style="background-color: ' + (null == (__t = slider[i].color) ? "" : __t) + ';"></div>\n            ' : __p += '\n                <div class="base__layer" style="background-color: ' + (null == (__t = options.texts[slider[0].type.value]) ? "" : __t) + ';"></div>\n            ', __p += '\n        </div>\n        <div class="sliders">\n            <div class="sliders__controller slider">\n                '; for (var i = 0; i < slider.length; i++)__p += "\n                    ", slider[i].customcolor ? __p += '\n                        <div class="slider__item"><div class="controller" data-color="' + (null == (__t = slider[i].color) ? "" : __t) + '" data-index="' + (null == (__t = i) ? "" : __t) + '"></div></div>\n                    ' : __p += '\n                        <div class="slider__item"><div class="controller" data-color="' + (null == (__t = options.texts[slider[i].type.value]) ? "" : __t) + '" data-index="' + (null == (__t = i) ? "" : __t) + '"></div></div>\n                    ', __p += "\n                "; __p += '\n            </div>\n            <div class="sliders__backgrounds slider">\n                '; for (var i = 0; i < slider.length; i++)__p += '\n                <div class="slider__item">\n                    ', slider[i].customcolor ? __p += '\n                        <div class="background"><div class="background__bg background__bg-' + (null == (__t = slider[i].mask) ? "" : __t) + '" style="background-color: ' + (null == (__t = slider[i].color) ? "" : __t) + ';"></div></div>\n                    ' : __p += '\n                        <div class="background"><div class="background__bg background__bg-' + (null == (__t = slider[i].mask) ? "" : __t) + '" style="background-color: ' + (null == (__t = options.sections[slider[i].type.value]) ? "" : __t) + ';"></div></div>\n                    ', __p += "\n                </div>\n                "; __p += '\n            </div>\n            <div class="sliders__categories slider">\n                '; for (var i = 0; i < slider.length; i++)__p += '\n                <div class="slider__item">\n                    <div class="category">' + (null == (__t = slider[i].type.label.toUpperCase()) ? "" : __t) + "</div>\n                </div>\n                "; __p += '\n            </div>\n            <div class="sliders__images slider">\n                '; for (var i = 0; i < slider.length; i++)__p += '\n                <div class="slider__item">\n                    <div class="image" style="background-color: ' + (null == (__t = options.backgrounds[slider[i].type.value]) ? "" : __t) + '">\n                        ', slider[i].image && (__p += '\n                            <div class="image__bg image__bg-' + (null == (__t = slider[i].mask) ? "" : __t) + '" style="background-image: url(' + (null == (__t = slider[i].image.sizes["duendelandscape-medium"]) ? "" : __t) + ');"></div>\n                        '), __p += "\n                        ", slider[i].customcolor ? __p += '\n                            <div class="image__mask image__mask--' + (null == (__t = slider[i].mask) ? "" : __t) + '" style="background-color: ' + (null == (__t = slider[i].color) ? "" : __t) + ';"></div>\n                        ' : __p += '\n                            <div class="image__mask image__mask--' + (null == (__t = slider[i].mask) ? "" : __t) + '" style="background-color: ' + (null == (__t = options.sections[slider[i].type.value]) ? "" : __t) + ';"></div>\n                        ', __p += "\n                    </div>\n                </div>\n                "; __p += '\n            </div>\n            <div class="sliders__buttons slider">\n                '; for (var i = 0; i < slider.length; i++) { __p += "\n                    "; var link = slider[i].button.link; __p += '\n                    <div class="slider__item">\n                        ', slider[i].customcolor ? __p += '\n                            <a href="' + (null == (__t = link) ? "" : __t) + '" class="button" style="background: ' + (null == (__t = slider[i].color) ? "" : __t) + ' !important;" data-router-link><span><div>' + (null == (__t = slider[i].button.text) ? "" : __t) + "</div><div>" + (null == (__t = slider[i].button.text) ? "" : __t) + "</div></span></a>\n                        " : (__p += "\n                            ", this.router.isDesktop ? __p += '\n                                <a href="' + (null == (__t = link) ? "" : __t) + '" class="button" style="background: ' + (null == (__t = options.sections[slider[i].type.value]) ? "" : __t) + ' !important;" data-router-link><span><div>' + (null == (__t = slider[i].button.text) ? "" : __t) + "</div><div>" + (null == (__t = slider[i].button.text) ? "" : __t) + "</div></span></a>\n                            " : __p += '\n                                <a href="' + (null == (__t = link) ? "" : __t) + '" class="button" style="background: ' + (null == (__t = options.texts[slider[i].type.value]) ? "" : __t) + ' !important;" data-router-link><span><div>' + (null == (__t = slider[i].button.text) ? "" : __t) + "</div><div>" + (null == (__t = slider[i].button.text) ? "" : __t) + "</div></span></a>\n                            ", __p += "\n                        "), __p += "\n                    </div>\n                " } __p += '\n            </div>\n            <div class="sliders__texts slider">\n                '; for (var i = 0; i < slider.length; i++) { __p += '\n                <div class="slider__item">\n                    <div class="texts">\n                        <div class="texts__category"><span class="text">' + (null == (__t = slider[i].topic) ? "" : __t) + '</span><div class="line"><span class="line__inner"></span></div></div>\n                        '; var link = slider[i].button.link; __p += "\n                        ", this.router.isDesktop ? __p += '\n                            <a href="' + (null == (__t = link) ? "" : __t) + '" data-router-link><div class="texts__title">' + (null == (__t = slider[i].title) ? "" : __t) + "</div></a>\n                        " : __p += '\n                            <a href="' + (null == (__t = link) ? "" : __t) + '" data-router-link><div class="texts__title">' + (null == (__t = slider[i].title_mobile) ? "" : __t) + "</div></a>\n                        ", __p += "\n                    </div>\n                </div>\n                " } if (__p += '\n            </div>\n            <div class="sliders__navigation navigation">\n                <div class="navigation__item navigation__item--prev">\n                    <div class="icon"></div>\n                    <div class="icon"></div>\n                    <svg version="1.1" viewBox="0 0 400 400">\n                        <circle class="back" cx="200" cy="200" r="190"></circle>\n                        <circle class="front" cx="200" cy="200" r="190"></circle>\n                    </svg>\n                </div>\n                <div class="navigation__item navigation__item--next">\n                    <div class="icon"></div>\n                    <div class="icon"></div>\n                    <svg version="1.1" viewBox="0 0 400 400">\n                        <circle class="back" cx="200" cy="200" r="190"></circle>\n                        <circle class="front" cx="200" cy="200" r="190"></circle>\n                    </svg>\n                </div>\n                ', this.router.isDesktop || (__p += '\n                    <div class="scroll">SCROLL</div>\n                '), __p += "\n            </div>\n        </div>\n    </div>\n    ", bannersTop) { __p += "\n        "; var random = Math.floor(Math.random() * Object.values(bannersTop).length), banner = banners[Object.values(bannersTop)[random]]; __p += "\n        ", window.innerWidth > 600 ? (__p += "\n            ", banner.desktop.image && (__p += '\n                <div class="home__banner2">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="home_top" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--home_top banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                            <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        ") : (__p += "\n            ", banner.mobile.image && (__p += '\n                <div class="home__banner2">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="home_top" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--home_top banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                            <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        "), __p += "\n    " } __p += '\n    <div class="home__plans">\n        ', this.router.isDesktop && (__p += '\n            <div class="spine spine--plans"></div>\n            <div class="spinelabel spinelabel--plans">\n                <a href="/planes" class="spinelabel__inner" data-router-link>Planes</a>\n            </div>\n        '), __p += '\n        <div class="container container--medium">\n            <div class="columns">\n                <div class="columns__item">\n                    <div class="list">\n                        '; for (var i = 0; i < 2; i++)__p += '\n                            <a class="post" href="/planes/' + (null == (__t = data.planes[planes[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = data.planes[planes[i]].slug) ? "" : __t) + '" data-router-link>\n                                <div class="post__image">\n                                    <div class="mask"></div>\n                                    <div class="image">\n                                        <div class="image__bg" style="background-image: url(' + (null == (__t = data.planes[planes[i]].thumbnail.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                                    </div>\n                                </div>\n                                <div class="post__category">\n                                    <div class="post__category__name">' + (null == (__t = data.planes[planes[i]].category[0].name) ? "" : __t) + '</div>\n                                </div>\n                                <div class="post__content">\n                                    <div class="post__content__title">' + (null == (__t = data.planes[planes[i]].title) ? "" : __t) + "</div>\n                                </div>\n                            </a>\n                        "; __p += '\n                    </div>\n                </div>\n                <div class="columns__item">\n                    <div class="list">\n                        '; for (var i = 2; i < planes.length; i++)__p += '\n                            <a class="post" href="/planes/' + (null == (__t = data.planes[planes[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = data.planes[planes[i]].slug) ? "" : __t) + '" data-router-link>\n                                <div class="post__image">\n                                    <div class="mask"></div>\n                                    <div class="image">\n                                        <div class="image__bg" style="background-image: url(' + (null == (__t = data.planes[planes[i]].thumbnail.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                                    </div>\n                                </div>\n                                <div class="post__category">\n                                    <div class="post__category__name">' + (null == (__t = data.planes[planes[i]].category[0].name) ? "" : __t) + '</div>\n                                </div>\n                                <div class="post__content">\n                                    <div class="post__content__title">' + (null == (__t = data.planes[planes[i]].title) ? "" : __t) + "</div>\n                                </div>\n                            </a>\n                        "; __p += '\n                    </div>\n                </div>\n            </div>\n            \x3c!--a class="button button--plans" href="/planes" data-router-link>Planes</a--\x3e\n        </div>\n        ', this.router.isDesktop || (__p += '\n            <div class="spine spine--plans"></div>\n            <div class="spinelabel spinelabel--plans">\n                <a href="/planes" class="spinelabel__inner" data-router-link>Planes</a>\n            </div>\n        '), __p += '\n    </div>\n    <div class="home__routes">\n        <div class="spine spine--routes"></div>\n        <div class="spinelabel spinelabel--routes">\n            <a href="/rutas" class="spinelabel__inner" data-router-link>Rutas</a>\n        </div>\n        <div class="container container--full">\n            '; for (var i = 0; i < rutas.length; i++)__p += '\n            <div class="route">\n                <div class="image">\n                    ', this.router.isDesktop ? __p += '\n                        <div class="image__bg" style="background-image: url(' + (null == (__t = data.rutas[rutas[i]].image.sizes["duendelandscape-large"]) ? "" : __t) + ');"></div>\n                    ' : __p += '\n                        <div class="image__bg" style="background-image: url(' + (null == (__t = data.rutas[rutas[i]].image_mobile.sizes["duendelandscape-large"]) ? "" : __t) + ');"></div>\n                    ', __p += '\n                    <div class="image__gradient"></div>\n                </div>\n                ', this.router.isDesktop ? __p += '\n                    <a href="/rutas/' + (null == (__t = data.rutas[rutas[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = data.rutas[rutas[i]].slug) ? "" : __t) + '" class="routelink" data-router-link>\n                        <div class="title">' + (null == (__t = data.rutas[rutas[i]].title) ? "" : __t) + '</div>\n                        <div class="category">\n                            <div class="category__text">\n                                <div class="category__text__bg" style="background-image: url(' + (null == (__t = data.rutas[rutas[i]].stamp.text) ? "" : __t) + ');"></div>\n                            </div>\n                            <div class="category__icon">\n                                <div class="category__icon__bg" style="background-image: url(' + (null == (__t = data.rutas[rutas[i]].stamp.icon) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                    </a>\n                ' : __p += '\n                    <div class="info">\n                        <div class="category">\n                            <div class="category__text">\n                                <div class="category__text__bg" style="background-image: url(' + (null == (__t = data.rutas[rutas[i]].stamp.text) ? "" : __t) + ');"></div>\n                            </div>\n                            <div class="category__icon">\n                                <div class="category__icon__bg" style="background-image: url(' + (null == (__t = data.rutas[rutas[i]].stamp.icon) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                        <a href="/rutas/' + (null == (__t = data.rutas[rutas[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = data.rutas[rutas[i]].slug) ? "" : __t) + '" class="title routelink" data-router-link>' + (null == (__t = data.rutas[rutas[i]].title_mobile) ? "" : __t) + "</a>\n                    </div>\n                ", __p += "\n            </div>\n            "; __p += '\n        </div>\n        \x3c!--a class="button button--routes" href="/rutas-destacadas" data-router-link>Rutas</a--\x3e\n    </div>\n    <div class="home__magazine">\n        <div class="spine spine--magazine"></div>\n        <div class="spinelabel spinelabel--magazine">\n            <a href="/revista" class="spinelabel__inner" data-router-link>Revista</a>\n        </div>\n        <div class="container">\n            '; for (var i = 0; i < editions.length; i++)__p += '\n            <div class="magazine magazine--featured">\n                <a href="/revista/' + (null == (__t = data.articulos_editions[editions[i]].slug) ? "" : __t) + '" data-router-link class="magazine__image">\n                    <div class="shadow"></div>\n                    <img src="' + (null == (__t = data.articulos_editions[editions[i]].image.url) ? "" : __t) + '" alt="' + (null == (__t = data.articulos_editions[editions[i]].title) ? "" : __t) + '">\n                </a>\n                ', data.articulos_editions[editions[i]].number ? (__p += "\n                    ", this.router.isDesktop ? __p += '\n                        <div class="magazine__number">N潞 ' + (null == (__t = data.articulos_editions[editions[i]].slug) ? "" : __t) + "</div>\n                    " : __p += '\n                        <div class="magazine__number">潞' + (null == (__t = data.articulos_editions[editions[i]].slug) ? "" : __t) + "</div>\n                    ", __p += "\n                ") : __p += '\n                    <div class="magazine__number">REVISTA</div>\n                ', __p += '\n                \x3c!--div class="magazine__title">' + (null == (__t = data.articulos_editions[editions[i]].title) ? "" : __t) + "</div--\x3e\n                </div>\n            "; if (__p += '\n            \x3c!--a class="button button--magazine" href="/revista" data-router-link>Revista D</a--\x3e\n        </div>\n    </div>\n    ', bannersBottom) { __p += "\n        "; var random = Math.floor(Math.random() * Object.values(bannersBottom).length), banner = banners[Object.values(bannersBottom)[random]]; __p += "\n        ", window.innerWidth > 600 ? (__p += "\n            ", banner.desktop.image && (__p += '\n                <div class="home__banner2">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="home_bottom" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--home_bottom banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                            <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        ") : (__p += "\n            ", banner.mobile.image && (__p += '\n                <div class="home__banner2">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="home_bottom" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--home_bottom banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                            <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        "), __p += "\n    " } __p += '\n    <div class="home__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + '\n    </div>\n</div>\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n' } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { ediciones = Object.values(ediciones).reverse(), __p += '\n<div class="inner magazineFeatured">\n    <div class="magazineFeatured__hero">\n        <div class="container">\n            <div class="intro">\n                ', this.router.isDesktop ? __p += '\n                    <div class="intro__title label label--large">' + (null == (__t = content.title) ? "" : __t) + "</div>\n                " : __p += '\n                    <div class="intro__title label label--large"><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + "</div></div>\n                ", __p += '\n                <div class="intro__description wysiwyg wysiwyg--reg wysiwyg--medium">' + (null == (__t = content.description) ? "" : __t) + '</div>\n            </div>\n        </div>\n    </div>\n    <div class="magazineFeatured__featured">\n        <div class="container container--xsmall">\n            <div class="magazine magazine--featured">\n                <div class="magazine__mask"></div>\n                <a class="magazine__image" href="/revista/' + (null == (__t = ediciones[0].slug) ? "" : __t) + '" data-router-link>\n                    <div class="shadow"></div>\n                    <img src="' + (null == (__t = ediciones[0].image.url) ? "" : __t) + '" alt="' + (null == (__t = ediciones[0].title) ? "" : __t) + '">\n                </a>\n                ', ediciones[0].number ? (__p += "\n                    ", this.router.isDesktop ? __p += '\n                        <div class="magazine__number">N潞 ' + (null == (__t = ediciones[0].slug) ? "" : __t) + "</div>\n                    " : __p += '\n                        <div class="magazine__number">潞' + (null == (__t = ediciones[0].slug) ? "" : __t) + "</div>\n                    ", __p += "\n                ") : __p += '\n                    <div class="magazine__number">REVISTA</div>\n                ', __p += '\n            </div>\n        </div>\n    </div>\n    <div class="magazineFeatured__list">\n        <div class="container container--medium">\n            <div class="list">\n                '; for (var i = 1; i < ediciones.length; i++)__p += '\n                    <div class="magazine">\n                        <a href="/revista/' + (null == (__t = ediciones[i].slug) ? "" : __t) + '" class="magazine__image" data-router-link>\n                            <div class="shadow"></div>\n                            <img src="' + (null == (__t = ediciones[i].image.url) ? "" : __t) + '" alt="">\n                        </a>\n                        <div class="magazine__info">\n                            ', ediciones[i].number && (__p += '\n                                <div class="magazine__info__number"><span>o</span>' + (null == (__t = ediciones[i].slug) ? "" : __t) + "</div>\n                            "), __p += '\n                            <div class="magazine__info__title">' + (null == (__t = ediciones[i].title) ? "" : __t) + "</div>\n                        </div>\n                    </div>\n                "; __p += '\n            </div>\n        </div>\n    </div>\n    <div class="magazineFeatured__interview">\n        <div class="container">\n            <div class="label">Entrevista</div>\n            <div class="interview">\n                <div class="interview__quote"></div>\n                ', content.interview.link ? __p += '\n                    <a href="' + (null == (__t = content.interview.link) ? "" : __t) + '" class="interview__title link" alt="Leer entrevista" color="revista">' + (null == (__t = content.interview.title) ? "" : __t) + "</a>\n                " : __p += '\n                    <div class="interview__title">' + (null == (__t = content.interview.title) ? "" : __t) + "</div>\n                ", __p += '\n                <div class="interview__info">\n                    <div class="interview__info__title">' + (null == (__t = content.interview.info.title) ? "" : __t) + '</div>\n                    <div class="interview__info__subtitle">' + (null == (__t = content.interview.info.subtitle) ? "" : __t) + '</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="magazineFeatured__posts">\n        <div class="container container--medium">\n            <div class="label">Noticias</div>\n            <div class="list">\n                '; for (var i = 0; i < content.posts.posts.length; i++)__p += '\n                    <a class="post post--simple" href="/revista/' + (null == (__t = articulos[content.posts.posts[i]].edition[0].slug) ? "" : __t) + "/" + (null == (__t = articulos[content.posts.posts[i]].slug) ? "" : __t) + '" data-router-link>\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = articulos[content.posts.posts[i]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = articulos[content.posts.posts[i]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                        </div>\n                    </a>\n                "; if (__p += "\n            </div>\n            ", this.router.isDesktop ? __p += '\n                <a class="button button--magazine"><div>Noticias</div><div>Noticias</div></a>\n            ' : __p += '\n                <a class="button button--magazine"><div>Noticias</div></a>\n            ', __p += "\n        </div>\n    </div>\n    ", bannersBottom) { __p += "\n        "; var random = Math.floor(Math.random() * Object.values(bannersBottom).length), banner = banners[Object.values(bannersBottom)[random]]; __p += "\n        ", window.innerWidth > 600 ? (__p += "\n            ", banner.desktop.image && (__p += '\n                <div class="magazineFeatured__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="magazine_bottom" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--magazine_bottom banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                            <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        ") : (__p += "\n            ", banner.mobile.image && (__p += '\n                <div class="magazineFeatured__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="magazine_bottom" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--magazine_bottom banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                            <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        "), __p += "\n    " } __p += '\n    <div class="magazineFeatured__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner magazineArchive">\n    <div class="magazineArchive__hero">\n        <div class="container">\n            <div class="intro">\n                ', this.router.isDesktop ? __p += '\n                    <div class="intro__title">' + (null == (__t = edition.title) ? "" : __t) + '</div>\n                    <div class="intro__description wysiwyg wysiwyg--reg wysiwyg--medium">' + (null == (__t = edition.description) ? "" : __t) + "</div>\n                " : __p += '\n                    <div class="intro__title">' + (null == (__t = edition.title) ? "" : __t) + "</div>\n                ", __p += "\n            </div>\n        </div>\n        ", 1 == page && (__p += '\n            <div class="container container--image">\n                <div class="magazine magazine--hero">\n                    <div class="magazine__image">\n                        <div class="image">\n                            <div class="image__bg" style="background-image: url(' + (null == (__t = edition.cover.url) ? "" : __t) + ');"></div>\n                        </div>\n                        ', edition.number && (__p += "\n                            ", this.router.isDesktop ? __p += '\n                                <div class="magazine__number">N潞 ' + (null == (__t = edition.slug) ? "" : __t) + "</div>\n                            " : __p += '\n                                <div class="magazine__number">潞' + (null == (__t = edition.slug) ? "" : __t) + "</div>\n                            ", __p += "\n                        "), __p += "\n                    </div>\n                </div>\n                ", this.router.isDesktop || (__p += '\n                    <div class="container">\n                        <div class="intro__description wysiwyg wysiwyg--reg wysiwyg--medium">' + (null == (__t = edition.description) ? "" : __t) + "</div>\n                    </div>\n                "), __p += "\n            </div>\n        "), __p += '\n    </div>\n    <div class="magazineArchive__posts">\n        <div class="container container--medium">\n            <div class="list">\n                '; var from = (page - 1) * pageItems, to = Math.min(page * pageItems - 1, editionItems.length - 1), pages = Math.ceil(editionItems.length / pageItems); __p += "\n                "; for (var i = from; i <= to; i++) { __p += "\n                    "; var articulo = articulos[edition.items[i]]; __p += "\n                    ", this.router.isDesktop ? (__p += '\n                        <a class="post post--listed" href="/revista/' + (null == (__t = edition.slug) ? "" : __t) + "/" + (null == (__t = articulo.slug) ? "" : __t) + '" data-router-link>\n                            <div class="post__line"></div>\n                            <div class="post__info">\n                                <div class="post__info__date">' + (null == (__t = articulo.date) ? "" : __t) + '</div>\n                                <div class="post__info__line"></div>\n                                ', "advertorial" == articulo.format ? __p += '\n                                    <div class="post__info__author">ADVERTORIAL</span></div>\n                                ' : __p += '\n                                    <div class="post__info__author">Por <span>' + (null == (__t = articulo.author || "El Duende") ? "" : __t) + "</span></div>\n                                ", __p += '\n                            </div>\n                            <div class="post__image">\n                                <div class="mask"></div>\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = articulo.image.sizes["duendehorizontal-medium"]) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="post__content">\n                                <div class="post__content__title">' + (null == (__t = articulo.title) ? "" : __t) + '</div>\n                                <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = articulo.intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                            </div>\n                        </a>\n                    ") : (__p += '\n                        <a class="post post--listed" href="/revista/' + (null == (__t = edition.slug) ? "" : __t) + "/" + (null == (__t = articulo.slug) ? "" : __t) + '" data-router-link>\n                            <div class="post__line"></div>\n                            <div class="post__image">\n                                <div class="mask"></div>\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = articulo.image.sizes["duendehorizontal-medium"]) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="post__container">\n                                <div class="post__info">\n                                    <div class="post__info__date">' + (null == (__t = articulo.date) ? "" : __t) + '</div>\n                                    <div class="post__info__line"></div>\n                                    ', "advertorial" == articulo.format ? __p += '\n                                        <div class="post__info__author">ADVERTORIAL</span></div>\n                                    ' : __p += '\n                                        <div class="post__info__author">Por <span>' + (null == (__t = articulo.author || "El Duende") ? "" : __t) + "</span></div>\n                                    ", __p += '\n                                </div>\n                                <div class="post__content">\n                                    <div class="post__content__title">' + (null == (__t = articulo.title) ? "" : __t) + '</div>\n                                    <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = articulo.intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                                </div>\n                            </div>\n                        </a>\n                    "), __p += "\n                " } if (__p += "\n            </div>\n            ", pages > 1) { __p += '\n            <div class="pagination">\n                '; for (var i = 1; i <= pages; i++)__p += "\n                    ", 1 == i ? (__p += "\n                        ", page == i ? __p += '\n                            <span class="pagination__item">' + (null == (__t = i) ? "" : __t) + "</span>\n                        " : __p += '\n                            <a href="/revista/' + (null == (__t = edition.slug) ? "" : __t) + '" class="pagination__item" data-router-link>' + (null == (__t = i) ? "" : __t) + "</a>\n                        ", __p += "\n                    ") : (__p += "\n                        ", page == i ? __p += '\n                            <span class="pagination__item">' + (null == (__t = i) ? "" : __t) + "</span>\n                        " : __p += '\n                            <a href="/revista/' + (null == (__t = edition.slug + "/page/" + i) ? "" : __t) + '" class="pagination__item" data-router-link>' + (null == (__t = i) ? "" : __t) + "</a>\n                        ", __p += "\n                    "), __p += "\n                "; __p += "\n            </div>\n            " } if (__p += "\n            ", this.router.isDesktop ? __p += '\n                <a class="button button--magazine button--back" href="/revista" data-router-link><div>Volver</div><div>Volver</div></a>\n            ' : __p += '\n                <a class="button button--magazine button--back" href="/revista" data-router-link><div>Volver</div></a>\n            ', __p += "\n        </div>\n    </div>\n    ", bannersBottom) { __p += "\n        "; var random = Math.floor(Math.random() * Object.values(bannersBottom).length), banner = banners[Object.values(bannersBottom)[random]]; __p += "\n        ", window.innerWidth > 600 ? (__p += "\n            ", banner.desktop.image && (__p += '\n                <div class="magazineArchive__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="magazine_editions" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--magazine_editions banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                            <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        ") : (__p += "\n            ", banner.mobile.image && (__p += '\n                <div class="magazineArchive__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="magazine_editions" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--magazine_editions banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                            <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        "), __p += "\n    " } __p += '\n    <div class="magazineArchive__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner magazineSingle">\n    <div class="magazineSingle__hero">\n        ', "advertorial" == articulo.format && articulo.advertorial.background && (__p += '\n        <div class="background">\n            <div class="background__bg" style="background-image: url(' + (null == (__t = articulo.advertorial.background) ? "" : __t) + ');"></div>\n        </div>\n        '), __p += '\n        <div class="container">\n            <div class="info">\n                <div class="info__date">' + (null == (__t = articulo.date) ? "" : __t) + "</div>\n                ", "advertorial" == articulo.format ? __p += '\n                    <div class="info__author">ADVERTORIAL</span></div>\n                    <div class="info__logo"><img src="' + (null == (__t = articulo.advertorial.logo) ? "" : __t) + '"></div>\n                ' : __p += '\n                    <div class="info__author">Por <span>' + (null == (__t = articulo.author || "El Duende") ? "" : __t) + "</span></div>\n                ", __p += '\n            </div>\n            <div class="title">' + (null == (__t = articulo.title) ? "" : __t) + '</div>\n        </div>\n    </div>\n    <div class="magazineSingle__image">\n        <div class="container container--full">\n            <div class="image">\n                <div class="image__bg" style="background-image: url(' + (null == (__t = articulo.image.sizes["duendelandscape-large"]) ? "" : __t) + ');"></div>\n            </div>\n        </div>\n    </div>\n    <div class="magazineSingle__intro">\n        <div class="container">\n            <div class="intro">\n                <div class="intro__description wysiwyg wysiwyg--large"><i>' + (null == (__t = articulo.intro.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + "</i></div>\n            </div>\n        </div>\n    </div>\n    "; var content = articulo.content; __p += '\n    <div class="magazineSingle__flexible">\n    '; for (var i = 0; i < content.length; i++) { __p += "\n        "; var contentType = content[i].acf_fc_layout; if (__p += "\n        ", "wysiwyg" === contentType) __p += '\n            <div class="flexible flexible--wysiwyg">\n                <div class="container">\n                    <div class="wysiwyg wysiwyg--' + (null == (__t = 1 === content.length ? "center" : content[i].position) ? "" : __t) + '">\n                        ' + (null == (__t = content[i].wysiwyg) ? "" : __t) + "\n                    </div>\n                </div>\n            </div>\n        "; else if ("quote" === contentType) __p += '\n            <div class="flexible flexible--quote">\n                <div class="container">\n                    <div class="quote">\n                        <div class="quote__icon"></div>\n                        <div class="quote__title">' + (null == (__t = content[i].title.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + "</div>\n                    </div>\n                </div>\n            </div>\n        "; else if ("quote-image" === contentType) __p += '\n            <div class="flexible flexible--quote-image">\n                <div class="container">\n                    <div class="quote-image">\n                        ', this.router.isDesktop && (__p += '\n                            <div class="quote-image__icon"></div>\n                        '), __p += '\n                        <div class="quote-image__image">\n                            <div class="mask"></div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="mask2"></div>\n                            '), __p += '\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].image.sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                            </div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="overlay"></div>\n                            '), __p += "\n                        </div>\n                        ", this.router.isDesktop || (__p += '\n                            <div class="quote-image__icon"></div>\n                        '), __p += '\n                        <div class="quote-image__title">' + (null == (__t = content[i].title.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + "</div>\n                    </div>\n                </div>\n            </div>\n        "; else if ("qa" === contentType) { __p += '\n            <div class="flexible flexible--qa">\n                <div class="container container--small">\n                    '; for (var j = 0; j < content[i].qa.length; j++)__p += '\n                        <div class="qa">\n                            <div class="qa__question wysiwyg wysiwyg--medium wysiwyg--reg">' + (null == (__t = content[i].qa[j].question.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + '</div>\n                            <div class="qa__answer wysiwyg">' + (null == (__t = content[i].qa[j].answer) ? "" : __t) + "</div>\n                        </div>\n                    "; __p += "\n                </div>\n            </div>\n        " } else if ("gallery" === contentType) { if (__p += '\n            <div class="flexible flexible--gallery">\n                <div class="container">\n                    <div class="gallery">\n                        ', this.router.isDesktop) { __p += "\n                            ", content[i].gallery.length > 1 && (__p += '\n                                <div class="gallery__navigation">\n                                    <div class="gallery__navigation__left">\n                                        <div class="icon"></div>\n                                        <div class="icon"></div>\n                                    </div>\n                                    <div class="gallery__navigation__right">\n                                        <div class="icon"></div>\n                                        <div class="icon"></div>\n                                    </div>\n                                </div>\n                            '), __p += '\n                            <div class="gallery__inner">\n                                '; for (var j = 0; j < content[i].gallery.length; j++)__p += '\n                                    <div class="gallery__item">\n                                        <div class="image">\n                                            <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].gallery[j].url) ? "" : __t) + ');"></div>\n                                            <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].gallery[j].sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                                        </div>\n                                    </div>\n                                '; __p += "\n                            </div>\n                        " } else { __p += '\n                            <div class="gallery__inner">\n                                '; for (var j = 0; j < content[i].gallery.length; j++)__p += '\n                                    <div class="gallery__item">\n                                        <div class="image">\n                                            <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].gallery[j].url) ? "" : __t) + ');"></div>\n                                        </div>\n                                    </div>\n                                '; __p += "\n                            </div>\n                            ", content[i].gallery.length > 1 && (__p += '\n                                <div class="gallery__navigation">\n                                    <div class="gallery__navigation__left"><div class="icon"></div></div>\n                                    <div class="gallery__navigation__right"><div class="icon"></div></div>\n                                </div>\n                            '), __p += "\n                        " } __p += '\n                        <div class="gallery__count"><span>1</span><span>/' + (null == (__t = content[i].gallery.length) ? "" : __t) + "</span></div>\n                    </div>\n                </div>\n            </div>\n        " } else "video" === contentType ? (__p += '\n            <div class="flexible flexible--video">\n                <div class="container">\n                    <div class="video video--' + (null == (__t = content[i].type) ? "" : __t) + '">\n                        <div class="video__mask"></div>\n                        <div class="video__inner">\n                            <div class="video__player video__player--' + (null == (__t = content[i].ratio) ? "" : __t) + '">\n                                <div id="' + (null == (__t = content[i].video) ? "" : __t) + '"></div>\n                            </div>\n                            <div class="video__poster">\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].poster.sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="video__overlay"></div>\n                            '), __p += '\n                            <div class="video__trigger"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ') : __p += '\n            <div class="flexible flexible--error"></div>\n        '; __p += "\n    " } __p += '\n    </div>\n    <div class="magazineSingle__share">\n        <div class="container">\n            <ul class="share">\n                <li class="share__item"><a target="_blank" alt="Compartir en Twitter" href="https://twitter.com/share?url=' + (null == (__t = window.location.href) ? "" : __t) + '" class="share twitter"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir en Facebook" href="https://www.facebook.com/sharer/sharer.php?u=' + (null == (__t = window.location.href) ? "" : __t) + '" class="share facebook"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir por Whatsapp" href="https://wa.me/?text=' + (null == (__t = articulo.title + ": " + window.location.href) ? "" : __t) + '" class="share whatsapp"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir en Pinterest" href="https://pinterest.com/pin/create/button/?url=' + (null == (__t = window.location.href) ? "" : __t) + '&media=&description=" class="share pinterest"></a></li>\n            </ul>\n        </div>\n    </div>\n    '; var related = articulo.related || []; if (related.length < 2) { const articulosInEditionCleaned = [...articulosInEdition]; articulosInEditionCleaned.indexOf(articulo.id) >= 0 && articulosInEditionCleaned.splice(articulosInEditionCleaned.indexOf(articulo.id), 1), articulosInEditionCleaned.sort((function (e, t) { var i = articulos[e].date.split("/"), n = new Date(i[2], i[1] - 1, i[0]), s = articulos[t].date.split("/"); return new Date(s[2], s[1] - 1, s[0]) - n })); for (var i = 0; i < 3; i++)Number(Object.keys(articulos).reverse()[i]) !== articulo.id && articulosInEditionCleaned.push(Number(Object.keys(articulos).reverse()[i])); for (var i = 0; related.length < 2; i++)related.push(articulosInEditionCleaned[i]) } __p += '\n    <div class="magazineSingle__related">\n        ', this.router.isDesktop ? __p += '\n            <div class="spinelabel spinelabel--magazine">\n                <div class="spinelabel__inner">Relacionados</div>\n            </div>\n        ' : __p += '\n            <div class="spinelabel spinelabel--magazine">\n                <div class="spinelabel__inner">Relacionados</div><div class="spinelabel__inner">Relacionados</div><div class="spinelabel__inner">Relacionados</div><div class="spinelabel__inner">Relacionados</div>\n            </div>\n        ', __p += '\n        <div class="container">\n            <div class="list">\n                ', this.router.isDesktop || (__p += '\n                    <div class="list__inner">\n                '), __p += "\n                    "; for (var i = 0; i < related.length; i++) { __p += "\n                        "; var relatedArticulo = articulos[related[i]]; __p += '\n                        <a class="post post--small" href="/revista/' + (null == (__t = relatedArticulo.edition[0].slug) ? "" : __t) + "/" + (null == (__t = relatedArticulo.slug) ? "" : __t) + '" data-router-link>\n                            <div class="post__info">\n                                <div class="post__info__date">' + (null == (__t = relatedArticulo.date) ? "" : __t) + '</div>\n                                <div class="post__info__line"></div>\n                                ', "advertorial" == relatedArticulo.format ? __p += '\n                                    <div class="post__info__author">ADVERTORIAL</span></div>\n                                ' : __p += '\n                                    <div class="post__info__author">Por <span>' + (null == (__t = relatedArticulo.author || "El Duende") ? "" : __t) + "</span></div>\n                                ", __p += '\n                            </div>\n                            <div class="post__image">\n                                <div class="mask"></div>\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = relatedArticulo.image.url) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="post__content">\n                                <div class="post__content__title">' + (null == (__t = relatedArticulo.title) ? "" : __t) + "</div>\n                                ", this.router.isDesktop && (__p += '\n                                    <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = relatedArticulo.intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                                "), __p += "\n                            </div>\n                        </a>\n                    " } if (__p += "\n                ", this.router.isDesktop || (__p += "\n                    </div>\n                "), __p += "\n            </div>\n            ", this.router.isDesktop ? __p += '\n                <a class="button button--magazine button--back" href="/revista/' + (null == (__t = articulo.edition[0].slug) ? "" : __t) + '" data-router-link><div>Volver</div><div>Volver</div></a>\n            ' : __p += '\n                <a class="button button--magazine button--back" href="/revista/' + (null == (__t = articulo.edition[0].slug) ? "" : __t) + '" data-router-link><div>Volver</div></a>\n            ', __p += "\n        </div>\n    </div>\n    ", bannersBottom) { __p += "\n        "; var random = Math.floor(Math.random() * Object.values(bannersBottom).length), banner = banners[Object.values(bannersBottom)[random]]; __p += "\n        ", window.innerWidth > 600 ? (__p += "\n            ", banner.desktop.image && (__p += '\n                <div class="magazineSingle__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="article" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--article banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                            <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        ") : (__p += "\n            ", banner.mobile.image && (__p += '\n                <div class="magazineSingle__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="article" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--article banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                            <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        "), __p += "\n    " } __p += '\n    <div class="magazineSingle__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n", null != articulo.reading && "" != articulo.reading && (__p += '\n<div class="scroll">\n    <div class="timer"></div>\n    <div class="arrow"></div>\n    <svg version="1.1" viewBox="0 0 400 400">\n        <circle class="back" cx="200" cy="200" r="190"></circle>\n        <circle class="front" cx="200" cy="200" r="190"></circle>\n    </svg>\n</div>\n'), __p += "\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { var planesFeatured = planesFeatured || []; if (planesFeatured.length < 11) { const planesCleaned = Object.keys(planes).map(Number); for (var i = 0; i < planesFeatured.length; i++)planesCleaned.indexOf(planesFeatured[i]) >= 0 && planesCleaned.splice(planesCleaned.indexOf(planesFeatured[i]), 1); planesCleaned.sort((function (e, t) { var i = planes[e].date.split("/"), n = new Date(i[2], i[1] - 1, i[0]), s = planes[t].date.split("/"); return new Date(s[2], s[1] - 1, s[0]) - n })); for (var i = 0; planesFeatured.length < 11; i++)planesFeatured.push(planesCleaned[i]) } if (__p += '\n<div class="inner plansFeatured">\n    <div class="plansFeatured__hero">\n        <div class="container">\n            <div class="intro">\n                ', this.router.isDesktop ? __p += '\n                    <div class="intro__title label label--large">' + (null == (__t = content.title) ? "" : __t) + "</div>\n                " : __p += '\n                    <div class="intro__title label label--large"><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = content.title) ? "" : __t) + "</div></div>\n                ", __p += '\n                <div class="intro__description wysiwyg wysiwyg--reg wysiwyg--medium">' + (null == (__t = content.description) ? "" : __t) + "</div>\n                ", !this.router.isDesktop) { __p += '\n                    <div class="filter">\n                        '; for (const category in planesCategories) __p += '\n                            <div class="filter__item">\n                                <a href="/planes/' + (null == (__t = planesCategories[category].slug) ? "" : __t) + '" class="link" alt="' + (null == (__t = planesCategories[category].title) ? "" : __t) + '" data-router-link>\n                                    <div class="filter__item__name">' + (null == (__t = planesCategories[category].title) ? "" : __t) + "</div>\n                                </a>\n                            </div>\n                        "; __p += "\n                    </div>\n                " } if (__p += "\n            </div>\n        </div>\n    </div>\n    ", this.router.isDesktop) { __p += '\n        <div class="plansFeatured__filter">\n            <div class="container">\n                <div class="filter">\n                    '; for (const category in planesCategories) __p += '\n                        <div class="filter__item">\n                            <a href="/planes/' + (null == (__t = planesCategories[category].slug) ? "" : __t) + '" class="link" alt="' + (null == (__t = planesCategories[category].title) ? "" : __t) + '" data-router-link>\n                                <div class="circle"></div>\n                                <img src="' + (null == (__t = planesCategories[category].image) ? "" : __t) + '" alt="">\n                            </a>\n                        </div>\n                    '; __p += "\n                </div>\n            </div>\n        </div>\n    " } __p += '\n    <div class="plansFeatured__featured">\n        <div class="mask"></div>\n        <div class="container">\n            <a class="post post--featured" href="/planes/' + (null == (__t = planes[planesFeatured[0]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[0]].slug) ? "" : __t) + '" data-router-link>\n                <div class="post__image">\n                    <div class="mask"></div>\n                    <div class="image">\n                        <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[0]].image.sizes["duendelandscape-medium"]) ? "" : __t) + ');"></div>\n                    </div>\n                    ', this.router.isDesktop || (__p += '\n                        <div class="post__category">\n                            <div class="post__category__name">' + (null == (__t = planes[planesFeatured[0]].category[0].name) ? "" : __t) + '</div>\n                            <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[0]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[0]].category[0].name) ? "" : __t) + '"></div>\n                        </div>\n                    '), __p += "\n                </div>\n                ", this.router.isDesktop && (__p += '\n                <div class="post__category">\n                    <div class="post__category__name">' + (null == (__t = planes[planesFeatured[0]].category[0].name) ? "" : __t) + '</div>\n                    <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[0]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[0]].category[0].name) ? "" : __t) + '"></div>\n                </div>\n                '), __p += '\n                <div class="post__columns">\n                    <div class="post__columns__first">\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = planes[planesFeatured[0]].date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == planes[planesFeatured[0]].format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[0]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                        \x3c!--div class="post__content">\n                            <div class="post__content__description wysiwyg wysiwyg--small">Ha llegado el momento de escuchar a las bandas en directo. Mad Cool Talent 2019 se encuentra en su recta final.</div>\n                        </div--\x3e\n                    </div>\n                    <div class="post__columns__last">\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[0]].title) ? "" : __t) + '</div>\n                        </div>\n                    </div>\n                </div>\n            </a>\n        </div>\n    </div>\n    <div class="plansFeatured__list">\n        <div class="container container--large">\n            <div class="list list--0">\n                '; for (var i = 1; i < 3; i++)__p += '\n                    <a class="post post--default" href="/planes/' + (null == (__t = planes[planesFeatured[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[i]].slug) ? "" : __t) + '" data-router-link>\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = planes[planesFeatured[i]].date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == planes[planesFeatured[i]].format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[i]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[i]].thumbnail.sizes["duendelandscape-small"]) ? "" : __t) + ');"></div>\n                            </div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="image__category">\n                                    <div class="image__category__name">' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '</div>\n                                    <div class="image__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '"></div>\n                                </div>\n                            '), __p += "\n                        </div>\n                        ", this.router.isDesktop && (__p += '\n                            <div class="post__category">\n                                <div class="post__category__name">' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '</div>\n                                <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                        '), __p += '\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[i]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[i]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                        </div>\n                    </a>\n                "; if (__p += "\n                ", bannersTop) { __p += "\n                    "; var random = Math.floor(Math.random() * Object.values(bannersTop).length), banner = banners[Object.values(bannersTop)[random]]; __p += "\n                    ", window.innerWidth > 600 ? (__p += "\n                        ", banner.desktop.image && (__p += '\n                            <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="planes_top" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--planes_top banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                                <div class="banner__info">Especial <strong>publi</strong></div>\n                                <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                            </a>\n                        '), __p += "\n                    ") : (__p += "\n                        ", banner.mobile.image && (__p += '\n                            <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="planes_top" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--planes_top banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                                <div class="banner__info">Especial <strong>publi</strong></div>\n                                <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                            </a>\n                        '), __p += "\n                    "), __p += "\n                " } __p += '\n            </div>\n            <div class="list list--1">\n                <a class="post post--large" href="/planes/' + (null == (__t = planes[planesFeatured[3]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[3]].slug) ? "" : __t) + '" data-router-link>\n                    ', this.router.isDesktop ? (__p += '\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = planes[planesFeatured[3]].date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == planes[planesFeatured[3]].format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[3]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[3]].image.sizes["duendelandscape-small"]) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                        <div class="post__category">\n                            <div class="post__category__name">' + (null == (__t = planes[planesFeatured[3]].category[0].name) ? "" : __t) + '</div>\n                            <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[3]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[3]].category[0].name) ? "" : __t) + '"></div>\n                        </div>\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[3]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[3]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                        </div>\n                    ") : (__p += '\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[3]].image.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                        <div class="post__content">\n                            <div class="post__info">\n                                <div class="post__info__date">' + (null == (__t = planes[planesFeatured[3]].date) ? "" : __t) + '</div>\n                                <div class="post__info__line"></div>\n                                ', "advertorial" == planes[planesFeatured[3]].format ? __p += '\n                                    <div class="post__info__author">ADVERTORIAL</div>\n                                ' : __p += '\n                                    <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[3]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                                ", __p += '\n                            </div>\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[3]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[3]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + '</div>\n                            <div class="post__category">\n                                <div class="post__category__name">' + (null == (__t = planes[planesFeatured[3]].category[0].name) ? "" : __t) + '</div>\n                                <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[3]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[3]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                        </div>\n                    '), __p += '\n                </a>\n                <a class="post post--default" href="/planes/' + (null == (__t = planes[planesFeatured[4]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[4]].slug) ? "" : __t) + '" data-router-link>\n                    <div class="post__info">\n                        <div class="post__info__date">' + (null == (__t = planes[planesFeatured[4]].date) ? "" : __t) + '</div>\n                        <div class="post__info__line"></div>\n                        ', "advertorial" == planes[planesFeatured[4]].format ? __p += '\n                            <div class="post__info__author">ADVERTORIAL</div>\n                        ' : __p += '\n                            <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[4]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                        ", __p += '\n                    </div>\n                    <div class="post__image">\n                        <div class="mask"></div>\n                        <div class="image">\n                            <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[4]].thumbnail.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                        </div>\n                        ', this.router.isDesktop || (__p += '\n                            <div class="post__category">\n                                <div class="post__category__name">' + (null == (__t = planes[planesFeatured[4]].category[0].name) ? "" : __t) + '</div>\n                                <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[4]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[4]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                        '), __p += "\n                    </div>\n                    ", this.router.isDesktop && (__p += '\n                        <div class="post__category">\n                            <div class="post__category__name">' + (null == (__t = planes[planesFeatured[4]].category[0].name) ? "" : __t) + '</div>\n                            <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[4]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[4]].category[0].name) ? "" : __t) + '"></div>\n                        </div>\n                    '), __p += '\n                    <div class="post__content">\n                        <div class="post__content__title">' + (null == (__t = planes[planesFeatured[4]].title) ? "" : __t) + '</div>\n                        <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[4]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + '</div>\n                    </div>\n                </a>\n            </div>\n            <div class="list list--2">\n                '; for (var i = 5; i < 7; i++)__p += '\n                    <a class="post post--small" href="/planes/' + (null == (__t = planes[planesFeatured[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[i]].slug) ? "" : __t) + '" data-router-link>\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = planes[planesFeatured[i]].date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == planes[planesFeatured[i]].format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[i]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[i]].thumbnail.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                            </div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="image__category">\n                                    <div class="image__category__name">' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '</div>\n                                    <div class="image__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '"></div>\n                                </div>\n                            '), __p += "\n                        </div>\n                        ", this.router.isDesktop && (__p += '\n                            <div class="post__category">\n                                <div class="post__category__name">' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '</div>\n                                <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                        '), __p += '\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[i]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[i]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                        </div>\n                    </a>\n                "; __p += '\n            </div>\n            <div class="list list--1">\n                <a class="post post--large" href="/planes/' + (null == (__t = planes[planesFeatured[7]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[7]].slug) ? "" : __t) + '" data-router-link>\n                    ', this.router.isDesktop ? (__p += '\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = planes[planesFeatured[7]].date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == planes[planesFeatured[7]].format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[7]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[7]].image.sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                        <div class="post__category">\n                            <div class="post__category__name">' + (null == (__t = planes[planesFeatured[7]].category[0].name) ? "" : __t) + '</div>\n                            <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[7]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[7]].category[0].name) ? "" : __t) + '"></div>\n                        </div>\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[7]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[7]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                        </div>\n                    ") : (__p += '\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[7]].image.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                        <div class="post__content">\n                            <div class="post__info">\n                                <div class="post__info__date">' + (null == (__t = planes[planesFeatured[7]].date) ? "" : __t) + '</div>\n                                <div class="post__info__line"></div>\n                                ', "advertorial" == planes[planesFeatured[7]].format ? __p += '\n                                    <div class="post__info__author">ADVERTORIAL</div>\n                                ' : __p += '\n                                    <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[7]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                                ", __p += '\n                            </div>\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[7]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[7]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + '</div>\n                            <div class="post__category">\n                                <div class="post__category__name">' + (null == (__t = planes[planesFeatured[7]].category[0].name) ? "" : __t) + '</div>\n                                <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[7]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[7]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                        </div>\n                    '), __p += '\n                </a>\n                <a class="post post--default" href="/planes/' + (null == (__t = planes[planesFeatured[8]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[8]].slug) ? "" : __t) + '" data-router-link>\n                    <div class="post__info">\n                        <div class="post__info__date">' + (null == (__t = planes[planesFeatured[8]].date) ? "" : __t) + '</div>\n                        <div class="post__info__line"></div>\n                        ', "advertorial" == planes[planesFeatured[8]].format ? __p += '\n                            <div class="post__info__author">ADVERTORIAL</div>\n                        ' : __p += '\n                            <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[8]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                        ", __p += '\n                    </div>\n                    <div class="post__image">\n                        <div class="mask"></div>\n                        <div class="image">\n                            <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[8]].thumbnail.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                        </div>\n                        ', this.router.isDesktop || (__p += '\n                            <div class="post__category">\n                                <div class="post__category__name">' + (null == (__t = planes[planesFeatured[8]].category[0].name) ? "" : __t) + '</div>\n                                <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[8]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[8]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                        '), __p += "\n                    </div>\n                    ", this.router.isDesktop && (__p += '\n                        <div class="post__category">\n                            <div class="post__category__name">' + (null == (__t = planes[planesFeatured[8]].category[0].name) ? "" : __t) + '</div>\n                            <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[8]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[8]].category[0].name) ? "" : __t) + '"></div>\n                        </div>\n                    '), __p += '\n                    <div class="post__content">\n                        <div class="post__content__title">' + (null == (__t = planes[planesFeatured[8]].title) ? "" : __t) + '</div>\n                        <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[8]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + '</div>\n                    </div>\n                </a>\n            </div>\n            <div class="list list--0">\n                '; for (var i = 9; i < 11; i++)__p += '\n                    <a class="post post--default" href="/planes/' + (null == (__t = planes[planesFeatured[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[planesFeatured[i]].slug) ? "" : __t) + '" data-router-link>\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = planes[planesFeatured[i]].date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == planes[planesFeatured[i]].format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = planes[planesFeatured[i]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = planes[planesFeatured[i]].thumbnail.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                            </div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="image__category">\n                                    <div class="image__category__name">' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '</div>\n                                    <div class="image__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '"></div>\n                                </div>\n                            '), __p += "\n                        </div>\n                        ", this.router.isDesktop && (__p += '\n                            <div class="post__category">\n                                <div class="post__category__name">' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '</div>\n                                <div class="post__category__icon"><img src="' + (null == (__t = planesCategories[planes[planesFeatured[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = planes[planesFeatured[i]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                        '), __p += '\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = planes[planesFeatured[i]].title) ? "" : __t) + '</div>\n                            <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[planesFeatured[i]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                        </div>\n                    </a>\n                "; if (__p += "\n                ", bannersBottom) { __p += "\n                    "; var random = Math.floor(Math.random() * Object.values(bannersBottom).length), banner = banners[Object.values(bannersBottom)[random]]; __p += "\n                    ", window.innerWidth > 600 ? (__p += "\n                        ", banner.desktop.image && (__p += '\n                            <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="planes_bottom" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--planes_bottom banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                                <div class="banner__info">Especial <strong>publi</strong></div>\n                                <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                            </a>\n                        '), __p += "\n                    ") : (__p += "\n                        ", banner.mobile.image && (__p += '\n                            <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="planes_bottom" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--planes_bottom banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                                <div class="banner__info">Especial <strong>publi</strong></div>\n                                <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                            </a>\n                        '), __p += "\n                    "), __p += "\n                " } __p += '\n            </div>\n        </div>\n    </div>\n    <div class="plansFeatured__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner plansCategory">\n    <div class="plansCategory__hero">\n        <div class="container container--large">\n            <div class="filter">\n                <div class="filter__item">\n                    <a href="/planes/" data-router-link class="link" alt="Volver">\n                        <div class="circle"></div>\n                        <img src="' + (null == (__t = category.image) ? "" : __t) + '" alt="Volver">\n                    </a>\n                </div>\n            </div>\n            <div class="intro">\n                ', this.router.isDesktop ? __p += '\n                    <div class="intro__title label label--large">' + (null == (__t = category.title) ? "" : __t) + "</div>\n                " : __p += '\n                    <div class="intro__title label label--large"><div class="intro__title__item">' + (null == (__t = category.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = category.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = category.title) ? "" : __t) + '</div><div class="intro__title__item">' + (null == (__t = category.title) ? "" : __t) + "</div></div>\n                ", __p += '\n                <div class="intro__description wysiwyg wysiwyg--reg wysiwyg--medium">' + (null == (__t = category.description) ? "" : __t) + "</div>\n            </div>\n        </div>\n    </div>\n    ", 1 == page && (__p += '\n    <div class="plansCategory__featured">\n        <div class="container">\n            <a class="post post--featured" href="/planes/' + (null == (__t = planes[categoryItems[0]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[categoryItems[0]].slug) ? "" : __t) + '" data-router-link>\n                <div class="post__image">\n                    <div class="mask"></div>\n                    <div class="image">\n                        <div class="image__bg" style="background-image: url(' + (null == (__t = planes[categoryItems[0]].image.sizes["duendelandscape-medium"]) ? "" : __t) + ');"></div>\n                    </div>\n                </div>\n                <div class="post__category" style="display: none;">\n                    <div class="post__category__name">' + (null == (__t = planes[categoryItems[0]].category[0].title) ? "" : __t) + '</div>\n                    <div class="post__category__icon"></div>\n                </div>\n                <div class="post__columns">\n                    <div class="post__columns__first">\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = planes[categoryItems[0]].date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == planes[categoryItems[0]].format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</span></div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = planes[categoryItems[0]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                    </div>\n                    <div class="post__columns__last">\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = planes[categoryItems[0]].title) ? "" : __t) + "</div>\n                        </div>\n                    </div>\n                </div>\n            </a>\n        </div>\n    </div>\n    "), __p += '\n    <div class="plansCategory__posts">\n        <div class="container container--medium">\n            <div class="list">\n                '; var from = 1 == page ? 1 : (page - 1) * pageItems, to = Math.min(page * pageItems - 1, categoryItems.length - 1), pages = Math.ceil(categoryItems.length / pageItems); __p += "\n                "; for (var i = from; i <= to; i++)__p += "\n                    ", this.router.isDesktop ? (__p += '\n                        <a class="post post--listed" href="/planes/' + (null == (__t = planes[categoryItems[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[categoryItems[i]].slug) ? "" : __t) + '" data-router-link>\n                            <div class="post__line"></div>\n                            <div class="post__info">\n                                <div class="post__info__date">' + (null == (__t = planes[categoryItems[i]].date) ? "" : __t) + '</div>\n                                <div class="post__info__line"></div>\n                                ', "advertorial" == planes[categoryItems[i]].format ? __p += '\n                                    <div class="post__info__author">ADVERTORIAL</span></div>\n                                ' : __p += '\n                                    <div class="post__info__author">Por <span>' + (null == (__t = planes[categoryItems[i]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                                ", __p += '\n                            </div>\n                            <div class="post__image">\n                                <div class="mask"></div>\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = planes[categoryItems[i]].image.sizes["duendehorizontal-medium"]) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="post__content">\n                                <div class="post__content__title">' + (null == (__t = planes[categoryItems[i]].title) ? "" : __t) + '</div>\n                                <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[categoryItems[i]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                            </div>\n                        </a>\n                    ") : (__p += '\n                        <a class="post post--listed" href="/planes/' + (null == (__t = planes[categoryItems[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = planes[categoryItems[i]].slug) ? "" : __t) + '" data-router-link>\n                            <div class="post__line"></div>\n                            <div class="post__image">\n                                <div class="mask"></div>\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = planes[categoryItems[i]].image.sizes["duendehorizontal-medium"]) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="post__info">\n                                <div class="post__info__date">' + (null == (__t = planes[categoryItems[i]].date) ? "" : __t) + '</div>\n                                <div class="post__info__line"></div>\n                                ', "advertorial" == planes[categoryItems[i]].format ? __p += '\n                                    <div class="post__info__author">ADVERTORIAL</span></div>\n                                ' : __p += '\n                                    <div class="post__info__author">Por <span>' + (null == (__t = planes[categoryItems[i]].author || "El DUENDE") ? "" : __t) + "</span></div>\n                                ", __p += '\n                            </div>\n                            <div class="post__content">\n                                <div class="post__content__title">' + (null == (__t = planes[categoryItems[i]].title) ? "" : __t) + '</div>\n                                <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = planes[categoryItems[i]].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                            </div>\n                        </a>\n                    "), __p += "\n                "; if (__p += "\n            </div>\n            ", pages > 1) { __p += '\n            <div class="pagination">\n                '; for (var i = 1; i <= pages; i++)__p += "\n                    ", 1 == i ? (__p += "\n                        ", page == i ? __p += '\n                            <span class="pagination__item">' + (null == (__t = i) ? "" : __t) + "</span>\n                        " : __p += '\n                            <a href="/planes/' + (null == (__t = category.slug) ? "" : __t) + '" class="pagination__item" data-router-link>' + (null == (__t = i) ? "" : __t) + "</a>\n                        ", __p += "\n                    ") : (__p += "\n                        ", page == i ? __p += '\n                            <span class="pagination__item">' + (null == (__t = i) ? "" : __t) + "</span>\n                        " : __p += '\n                            <a href="/planes/' + (null == (__t = category.slug + "/page/" + i) ? "" : __t) + '" class="pagination__item" data-router-link>' + (null == (__t = i) ? "" : __t) + "</a>\n                        ", __p += "\n                    "), __p += "\n                "; __p += "\n            </div>\n            " } if (__p += "\n            ", this.router.isDesktop ? __p += '\n                <a class="button button--plans button--back" href="/planes" data-router-link><div>Volver</div><div>Volver</div></a>\n            ' : __p += '\n                <a class="button button--plans button--back" href="/planes" data-router-link><div>Volver</div></a>\n            ', __p += "\n        </div>\n    </div>\n    ", bannersBottom) { __p += "\n        "; var random = Math.floor(Math.random() * Object.values(bannersBottom).length), banner = banners[Object.values(bannersBottom)[random]]; __p += "\n        ", window.innerWidth > 600 ? (__p += "\n            ", banner.desktop.image && (__p += '\n                <div class="plansCategory__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="plans_category" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--plans_category banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                            <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        ") : (__p += "\n            ", banner.mobile.image && (__p += '\n                <div class="plansCategory__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="plans_category" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--plans_category banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                            <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        "), __p += "\n    " } __p += '\n    <div class="plansCategory__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner plansSingle">\n    <div class="plansSingle__hero">\n        ', "advertorial" == plan.format && plan.advertorial.background && (__p += '\n        <div class="background">\n            <div class="background__bg" style="background-image: url(' + (null == (__t = plan.advertorial.background) ? "" : __t) + ');"></div>\n        </div>\n        '), __p += '\n        <div class="container">\n            <div class="info">\n                <div class="info__date">' + (null == (__t = plan.date) ? "" : __t) + "</div>\n                ", "advertorial" == plan.format ? __p += '\n                    <div class="info__author">ADVERTORIAL</span></div>\n                    <div class="info__logo"><img src="' + (null == (__t = plan.advertorial.logo) ? "" : __t) + '"></div>\n                ' : __p += '\n                    <div class="info__author">Por <span>' + (null == (__t = plan.author || "El Duende") ? "" : __t) + "</span></div>\n                ", __p += '\n            </div>\n            <div class="title">' + (null == (__t = plan.title) ? "" : __t) + '</div>\n        </div>\n    </div>\n    <div class="plansSingle__image">\n        <div class="container container--full">\n            <div class="image">\n                <div class="image__bg" style="background-image: url(' + (null == (__t = plan.image.sizes["duendelandscape-large"]) ? "" : __t) + ');"></div>\n            </div>\n        </div>\n    </div>\n    <div class="plansSingle__intro">\n        <div class="container">\n            <div class="intro">\n                <div class="intro__description wysiwyg wysiwyg--large"><i>' + (null == (__t = plan.intro.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + "</i></div>\n            </div>\n        </div>\n    </div>\n    "; var content = plan.content; __p += '\n    <div class="plansSingle__flexible">\n    '; for (var i = 0; i < content.length; i++) { __p += "\n        "; var contentType = content[i].acf_fc_layout; if (__p += "\n        ", "wysiwyg" === contentType) __p += '\n            <div class="flexible flexible--wysiwyg">\n                <div class="container">\n                    <div class="wysiwyg wysiwyg--' + (null == (__t = 1 === content.length ? "center" : content[i].position) ? "" : __t) + '">\n                        ' + (null == (__t = content[i].wysiwyg) ? "" : __t) + "\n                    </div>\n                </div>\n            </div>\n        "; else if ("quote" === contentType) __p += '\n            <div class="flexible flexible--quote">\n                <div class="container">\n                    <div class="quote">\n                        <div class="quote__icon"></div>\n                        <div class="quote__title">' + (null == (__t = content[i].title.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + "</div>\n                    </div>\n                </div>\n            </div>\n        "; else if ("quote-image" === contentType) __p += '\n            <div class="flexible flexible--quote-image">\n                <div class="container">\n                    <div class="quote-image">\n                        ', this.router.isDesktop && (__p += '\n                            <div class="quote-image__icon"></div>\n                        '), __p += '\n                        <div class="quote-image__image">\n                            <div class="mask"></div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="mask2"></div>\n                            '), __p += '\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].image.sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                            </div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="overlay"></div>\n                            '), __p += "\n                        </div>\n                        ", this.router.isDesktop || (__p += '\n                            <div class="quote-image__icon"></div>\n                        '), __p += '\n                        <div class="quote-image__title">' + (null == (__t = content[i].title.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + "</div>\n                    </div>\n                </div>\n            </div>\n        "; else if ("qa" === contentType) { __p += '\n            <div class="flexible flexible--qa">\n                <div class="container container--small">\n                    '; for (var j = 0; j < content[i].qa.length; j++)__p += '\n                        <div class="qa">\n                            <div class="qa__question wysiwyg wysiwyg--medium wysiwyg--reg">' + (null == (__t = content[i].qa[j].question.replace(/(<([^>]+)>)/gi, "")) ? "" : __t) + '</div>\n                            <div class="qa__answer wysiwyg">' + (null == (__t = content[i].qa[j].answer) ? "" : __t) + "</div>\n                        </div>\n                    "; __p += "\n                </div>\n            </div>\n        " } else if ("gallery" === contentType) { if (__p += '\n            <div class="flexible flexible--gallery">\n                <div class="container">\n                    <div class="gallery">\n                        ', this.router.isDesktop) { __p += "\n                            ", content[i].gallery.length > 1 && (__p += '\n                            <div class="gallery__navigation">\n                                <div class="gallery__navigation__left">\n                                    <div class="icon"></div>\n                                    <div class="icon"></div>\n                                </div>\n                                <div class="gallery__navigation__right">\n                                    <div class="icon"></div>\n                                    <div class="icon"></div>\n                                </div>\n                            </div>\n                            '), __p += '\n                            <div class="gallery__inner">\n                                '; for (var j = 0; j < content[i].gallery.length; j++)__p += '\n                                    <div class="gallery__item">\n                                        <div class="image">\n                                            <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].gallery[j].sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                                            ', content[i].gallery[j].caption && (__p += '<div class="image__caption">' + (null == (__t = content[i].gallery[j].caption) ? "" : __t) + "</div>"), __p += "\n                                        </div>\n                                    </div>\n                                "; __p += "\n                            </div>\n                        " } else { __p += '\n                            <div class="gallery__inner">\n                                '; for (var j = 0; j < content[i].gallery.length; j++)__p += '\n                                    <div class="gallery__item">\n                                        <div class="image">\n                                            <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].gallery[j].sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                                            ', content[i].gallery[j].caption && (__p += '<div class="image__caption">' + (null == (__t = content[i].gallery[j].caption) ? "" : __t) + "</div>"), __p += "\n                                        </div>\n                                    </div>\n                                "; __p += "\n                            </div>\n                            ", content[i].gallery.length > 1 && (__p += '\n                                <div class="gallery__navigation">\n                                    <div class="gallery__navigation__left">\n                                        <div class="icon"></div>\n                                    </div>\n                                    <div class="gallery__navigation__right">\n                                        <div class="icon"></div>\n                                    </div>\n                                </div>\n                            '), __p += "\n                        " } __p += '\n                        <div class="gallery__count"><span>1</span><span>/' + (null == (__t = content[i].gallery.length) ? "" : __t) + "</span></div>\n                    </div>\n                </div>\n            </div>\n        " } else "video" === contentType ? (__p += '\n            <div class="flexible flexible--video">\n                <div class="container">\n                    <div class="video video--' + (null == (__t = content[i].type) ? "" : __t) + '">\n                        <div class="video__mask"></div>\n                        <div class="video__inner">\n                            <div class="video__player video__player--' + (null == (__t = content[i].ratio) ? "" : __t) + '">\n                                <div id="' + (null == (__t = content[i].video) ? "" : __t) + '"></div>\n                            </div>\n                            <div class="video__poster">\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = content[i].poster.sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            ', this.router.isDesktop || (__p += '\n                                <div class="video__overlay"></div>\n                            '), __p += '\n                            <div class="video__trigger"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ') : __p += '\n            <div class="flexible flexible--error"></div>\n        '; __p += "\n    " } __p += '\n    </div>\n    <div class="plansSingle__share">\n        <div class="container">\n            <ul class="share">\n                <li class="share__item"><a target="_blank" alt="Compartir en Twitter" href="https://twitter.com/share?url=' + (null == (__t = window.location.href) ? "" : __t) + '" class="share twitter"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir en Facebook" href="https://www.facebook.com/sharer/sharer.php?u=' + (null == (__t = window.location.href) ? "" : __t) + '" class="share facebook"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir por Whatsapp" href="https://wa.me/?text=' + (null == (__t = plan.title + ": " + window.location.href) ? "" : __t) + '" class="share whatsapp"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir en Pinterest" href="https://pinterest.com/pin/create/button/?url=' + (null == (__t = window.location.href) ? "" : __t) + '&media=&description=" class="share pinterest"></a></li>\n            </ul>\n        </div>\n    </div>\n    '; var related = plan.related || []; if (related.length < 2) { const planesInCategoryCleaned = [...planesInCategory]; planesInCategoryCleaned.indexOf(plan.id) >= 0 && planesInCategoryCleaned.splice(planesInCategoryCleaned.indexOf(plan.id), 1), planesInCategoryCleaned.sort((function (e, t) { var i = planes[e].date.split("/"), n = new Date(i[2], i[1] - 1, i[0]), s = planes[t].date.split("/"); return new Date(s[2], s[1] - 1, s[0]) - n })); for (var i = 0; i < 3; i++)Number(Object.keys(planes).reverse()[i]) !== plan.id && planesInCategoryCleaned.push(Number(Object.keys(planes).reverse()[i])); for (var i = 0; related.length < 2; i++)related.push(planesInCategoryCleaned[i]) } __p += '\n    <div class="plansSingle__related">\n        ', this.router.isDesktop ? __p += '\n            <div class="spinelabel spinelabel--plans">\n                <div class="spinelabel__inner">Relacionados</div>\n            </div>\n        ' : __p += '\n            <div class="spinelabel spinelabel--plans">\n                <div class="spinelabel__inner">Relacionados</div><div class="spinelabel__inner">Relacionados</div><div class="spinelabel__inner">Relacionados</div><div class="spinelabel__inner">Relacionados</div>\n            </div>\n        ', __p += '\n        <div class="container">\n            <div class="list">\n                ', this.router.isDesktop || (__p += '\n                    <div class="list__inner">\n                '), __p += "\n                "; for (var i = 0; i < related.length; i++) { __p += "\n                    "; var relatedPlan = planes[related[i]]; __p += '\n                    <a class="post post--small" href="/planes/' + (null == (__t = relatedPlan.category[0].slug) ? "" : __t) + "/" + (null == (__t = relatedPlan.slug) ? "" : __t) + '" data-router-link>\n                        <div class="post__info">\n                            <div class="post__info__date">' + (null == (__t = relatedPlan.date) ? "" : __t) + '</div>\n                            <div class="post__info__line"></div>\n                            ', "advertorial" == relatedPlan.format ? __p += '\n                                <div class="post__info__author">ADVERTORIAL</span></div>\n                            ' : __p += '\n                                <div class="post__info__author">Por <span>' + (null == (__t = relatedPlan.author || "El Duende") ? "" : __t) + "</span></div>\n                            ", __p += '\n                        </div>\n                        <div class="post__image">\n                            <div class="mask"></div>\n                            <div class="image">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = relatedPlan.image.url) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                        <div class="post__content">\n                            <div class="post__content__title">' + (null == (__t = relatedPlan.title) ? "" : __t) + "</div>\n                            ", this.router.isDesktop && (__p += '\n                                <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = relatedPlan.intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                            "), __p += "\n                        </div>\n                    </a>\n                " } if (__p += "\n                ", this.router.isDesktop || (__p += "\n                    </div>\n                "), __p += "\n            </div>\n            ", this.router.isDesktop ? __p += '\n                <a class="button button--plans button--back" href="/planes/' + (null == (__t = plan.category[0].slug) ? "" : __t) + '" data-router-link><div>Volver</div><div>Volver</div></a>\n            ' : __p += '\n                <a class="button button--plans button--back" href="/planes/' + (null == (__t = plan.category[0].slug) ? "" : __t) + '" data-router-link><div>Volver</div></a>\n            ', __p += "\n        </div>\n    </div>\n    ", bannersBottom) { __p += "\n        "; var random = Math.floor(Math.random() * Object.values(bannersBottom).length), banner = banners[Object.values(bannersBottom)[random]]; __p += "\n        ", window.innerWidth > 600 ? (__p += "\n            ", banner.desktop.image && (__p += '\n                <div class="plansSingle__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="plan" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--plan banner--' + (null == (__t = banner.desktop.format) ? "" : __t) + '">\n                            <div class="banner__bg ' + (null == (__t = banner.link) ? "" : __t) + '" style="background-image: url(' + (null == (__t = banner.desktop.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        ") : (__p += "\n            ", banner.mobile.image && (__p += '\n                <div class="plansSingle__banner">\n                    <div class="container">\n                        <a href="' + (null == (__t = banner.link) ? "" : __t) + '" target="_blank" banner-id="plan" banner-campaign="' + (null == (__t = banner.campaign) ? "" : __t) + '" class="banner banner--plan banner--' + (null == (__t = banner.mobile.format) ? "" : __t) + '">\n                            <div class="banner__bg" style="background-image: url(' + (null == (__t = banner.mobile.image.url) ? "" : __t) + ');"></div>\n                        </a>\n                    </div>\n                </div>\n            '), __p += "\n        "), __p += "\n    " } __p += '\n    <div class="plansSingle__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n", null != plan.reading && "" != plan.reading && (__p += '\n<div class="scroll">\n    <div class="timer"></div>\n    <div class="arrow"></div>\n    <svg version="1.1" viewBox="0 0 400 400">\n        <circle class="back" cx="200" cy="200" r="190"></circle>\n        <circle class="front" cx="200" cy="200" r="190"></circle>\n    </svg>\n</div>\n'), __p += "\n" } return __p } }, , function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner routesFeatured">\n    <div class="routesFeatured__slider">\n        <div class="sliders">\n            <div class="sliders__controller slider">\n                '; for (var i = 0; i < destacadas.length; i++)__p += '\n                <div class="slider__item"><div class="controller" data-index=""></div></div>\n                '; __p += '\n            </div>\n            <div class="sliders__images slider">\n                '; for (var i = 0; i < destacadas.length; i++)__p += '\n                <div class="slider__item">\n                    <div class="image">\n                        ', this.router.isDesktop ? __p += '\n                            <div class="image__bg" style="background-image: url(' + (null == (__t = rutas[destacadas[i]].image.sizes["duendelandscape-large"]) ? "" : __t) + ');"></div>\n                        ' : __p += '\n                            <div class="image__bg" style="background-image: url(' + (null == (__t = rutas[destacadas[i]].image_mobile.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                        ', __p += '\n                    </div>\n                    <div class="mask"></div>\n                </div>\n                '; __p += '\n            </div>\n            <div class="sliders__gradient slider">\n                <div class="slider__item">\n                    <div class="mask"></div>\n                </div>\n            </div>\n            <div class="sliders__info slider">\n                '; for (var i = 0; i < destacadas.length; i++)__p += '\n                    <div class="slider__item">\n                        <div class="info">\n                            <div class="info__distance">\n                                <div class="icon"><div class="icon__bg"></div></div>\n                                <div class="text">' + (null == (__t = rutas[destacadas[i]].info.distance) ? "" : __t) + ' KM</div>\n                            </div>\n                            <div class="info__locations">\n                                <div class="icon"><div class="icon__bg"></div></div>\n                                <div class="text">' + (null == (__t = rutas[destacadas[i]].info.spots || rutas[destacadas[i]].spots.length) ? "" : __t) + '</div>\n                            </div>\n                            <div class="info__time">\n                                <div class="icon"><div class="icon__bg"></div></div>\n                                <div class="text">' + (null == (__t = rutas[destacadas[i]].info.duration.split(".")[0] || 0 + "h " + (60 / (10 / rutas[destacadas[i]].info.duration.split(".")[1]) || 0) + "'") ? "" : __t) + '</div>\n                            </div>\n                            <div class="info__audios">\n                                <div class="icon"><div class="icon__bg"></div></div>\n                                <div class="text">' + (null == (__t = rutas[destacadas[i]].info.audios || 0) ? "" : __t) + "</div>\n                            </div>\n                        </div>\n                    </div>\n                "; __p += '\n            </div>\n            <div class="sliders__texts slider">\n                '; for (var i = 0; i < destacadas.length; i++)__p += "\n                    ", this.router.isDesktop ? __p += '\n                        <a href="/rutas/' + (null == (__t = rutas[destacadas[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = rutas[destacadas[i]].slug) ? "" : __t) + '" class="slider__item routelink" data-router-link>\n                            <div class="title">' + (null == (__t = rutas[destacadas[i]].title) ? "" : __t) + "</div>\n                        </a>\n                    " : __p += '\n                        <a href="/rutas/' + (null == (__t = rutas[destacadas[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = rutas[destacadas[i]].slug) ? "" : __t) + '" class="slider__item routelink" data-router-link>\n                            <div class="title">' + (null == (__t = rutas[destacadas[i]].title_mobile) ? "" : __t) + "</div>\n                        </a>\n                    ", __p += "\n                "; __p += '\n            </div>\n            <div class="sliders__categories slider">\n                '; for (var i = 0; i < destacadas.length; i++)__p += '\n                    <div class="slider__item">\n                        <div class="category">\n                            <div class="category__text">\n                                <div class="category__text__bg" style="background-image: url(' + (null == (__t = rutas[destacadas[i]].stamp.text) ? "" : __t) + ');"></div>\n                            </div>\n                            <div class="category__icon">\n                                <div class="category__icon__bg" style="background-image: url(' + (null == (__t = rutas[destacadas[i]].stamp.icon) ? "" : __t) + ');"></div>\n                            </div>\n                        </div>\n                    </div>\n                '; __p += '\n            </div>\n            <div class="sliders__button">\n                ', this.router.isDesktop ? __p += '\n                    <a class="button button--routes button--back" href="/rutas" data-router-link><div>Ver todas</div><div>Ver todas</div></a>\n                ' : __p += '\n                    <a class="button" href="/rutas" data-router-link>Ver todas</a>\n                ', __p += '\n            </div>\n            <div class="sliders__navigation">\n                <div class="bullets">\n                    '; for (var i = 0; i < destacadas.length; i++)__p += '\n                    <div class="bullets__item">\n                        <div class="dot" data-index="' + (null == (__t = i) ? "" : __t) + '">\n                            <div class="dot__inner"></div>\n                            <div class="dot__outer">\n                                <svg version="1.1" viewBox="0 0 400 400">\n                                    <circle class="back" cx="200" cy="200" r="190"></circle>\n                                    <circle class="front" cx="200" cy="200" r="190"></circle>\n                                </svg>\n                            </div>\n                        </div>\n                    </div>\n                    '; __p += '\n                </div>\n                \x3c!--div class="line">\n                    <div class="line__inner"></div>\n                </div>\n                <a href="/rutas" class="link" data-router-link>Ver todas</a>\n                <div class="arrow">\n                    <div class="arrow__inner">\n                        <div class="arrow__inner__middle"></div>\n                        <div class="arrow__inner__top"></div>\n                        <div class="arrow__inner__bottom"></div>\n                    </div>\n                </div--\x3e\n            </div>\n            \x3c!--div class="sliders__navigation">\n                <div class="navigation">\n                    <div class="navigation__item navigation__item--prev">\n                        <div class="icon"></div>\n                        <svg version="1.1" viewBox="0 0 400 400">\n                            <circle class="back" cx="200" cy="200" r="190"></circle>\n                            <circle class="front" cx="200" cy="200" r="190"></circle>\n                        </svg>\n                    </div>\n                    <div class="navigation__item navigation__item--next">\n                        <div class="icon"></div>\n                        <svg version="1.1" viewBox="0 0 400 400">\n                            <circle class="back" cx="200" cy="200" r="190"></circle>\n                            <circle class="front" cx="200" cy="200" r="190"></circle>\n                        </svg>\n                    </div>\n                </div>\n            </div--\x3e\n        </div>\n    </div>\n</div>\n', this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { if (rutasArray = Object.values(rutas), category = Object.values(categories), __p += '\n<div class="routesArchive">\n    <div class="routesArchive__hero">\n        <div class="container">\n            <div class="intro">\n                <div class="intro__title label label--large">' + (null == (__t = content.title) ? "" : __t) + '</div>\n                <div class="intro__description wysiwyg wysiwyg--reg wysiwyg--medium">' + (null == (__t = content.description) ? "" : __t) + '</div>\n            </div>\n            <div class="progress">\n                <div class="progress__count">\n                    <span class="progress__count__current">4</span> / <span class="progress__count__total"></span>\n                </div>\n                <div class="progress__bar">\n                    <div class="progress__bar__inner"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="routesArchive__items">\n        ', this.router.isDesktop) { __p += '\n            <div class="inner">\n                '; for (var i = 0; i < rutasArray.length; i++)__p += '\n                    <a href="/rutas/' + (null == (__t = rutasArray[i].category[0].slug) ? "" : __t) + "/" + (null == (__t = rutasArray[i].slug) ? "" : __t) + '" class="route" data-router-link>\n                        <div class="image" style="background-color: ">\n                            <div class="image__bg" style="background-image: url(' + (null == (__t = rutasArray[i].image.sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                        </div>\n                        <div class="mask"></div>\n                        <div class="category">\n                            <div class="category__name">' + (null == (__t = rutasArray[i].category[0].name) ? "" : __t) + '</div>\n                            <div class="category__icon"><img src="' + (null == (__t = categories[rutasArray[i].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = rutasArray[i].category[0].name) ? "" : __t) + '"></div>\n                        </div>\n                        <div class="title">' + (null == (__t = rutasArray[i].title) ? "" : __t) + "</div>\n                    </a>\n                "; __p += "\n            </div>\n        " } else { __p += '\n            <div class="inner">\n                '; for (var i = 0; i < category.length; i++) { __p += '\n                    <div class="inner__route">\n                        <div class="category">\n                            <div class="category__name">' + (null == (__t = category[i].title) ? "" : __t) + '</div>\n                            <div class="category__icon"><img src="' + (null == (__t = category[i].image_black) ? "" : __t) + '" alt="' + (null == (__t = category[i].title) ? "" : __t) + '"></div>\n                        </div>\n                        <div class="slider">\n                            '; for (var j = 0; j < category[i].all.length; j++)__p += '\n                                <a href="/rutas/' + (null == (__t = rutas[category[i].all[j]].category[0].slug) ? "" : __t) + "/" + (null == (__t = rutas[category[i].all[j]].slug) ? "" : __t) + '" class="route" data-router-link>\n                                    <div class="image" style="background-color: ">\n                                        <div class="image__bg" style="background-image: url(' + (null == (__t = rutas[category[i].all[j]].image_mobile.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                                    </div>\n                                    <div class="mask"></div>\n                                    <div class="title">' + (null == (__t = rutas[category[i].all[j]].title_mobile) ? "" : __t) + '</div>\n                                    <div class="info">\n                                        <div class="info__distance">\n                                            <div class="icon"><div class="icon__bg"></div></div>\n                                            <div class="text">' + (null == (__t = rutas[category[i].all[j]].info.distance) ? "" : __t) + ' KM</div>\n                                        </div>\n                                        <div class="info__locations">\n                                            <div class="icon"><div class="icon__bg"></div></div>\n                                            <div class="text">' + (null == (__t = rutas[category[i].all[j]].info.spots || rutas[category[i].all[j]].spots.length) ? "" : __t) + '</div>\n                                        </div>\n                                        <div class="info__time">\n                                            <div class="icon"><div class="icon__bg"></div></div>\n                                            <div class="text">' + (null == (__t = rutas[category[i].all[j]].info.duration.split(".")[0] || 0 + "h " + (60 / (10 / rutas[category[i].all[j]].info.duration.split(".")[1]) || 0) + "'") ? "" : __t) + '</div>\n                                        </div>\n                                        <div class="info__audios">\n                                            <div class="icon"><div class="icon__bg"></div></div>\n                                            <div class="text">' + (null == (__t = rutas[category[i].all[j]].info.audios || 0) ? "" : __t) + "</div>\n                                        </div>\n                                    </div>\n                                </a>\n                            "; __p += "\n                        </div>\n                    </div>\n                " } __p += "\n            </div>\n        " } __p += "\n    </div>\n    ", this.router.isDesktop || (__p += '\n        <div class="routesArchive__footer">\n            ' + (null == (__t = footer()) ? "" : __t) + "\n        </div>\n    "), __p += "\n</div>\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner routesSingle">\n    <div class="routesSingle__hero">\n        <div class="image">\n            ', this.router.isDesktop ? __p += '\n                <div class="image__bg" style="background-image: url(' + (null == (__t = ruta.image.sizes["duendelandscape-large"]) ? "" : __t) + ');"></div>\n            ' : __p += '\n                <div class="image__bg" style="background-image: url(' + (null == (__t = ruta.image_mobile.sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n            ', __p += '\n            <div class="image__gradient"></div>\n        </div>\n        ', this.router.isDesktop ? __p += '\n            <div class="title">' + (null == (__t = ruta.title) ? "" : __t) + '</div>\n            <div class="category">\n                <div class="category__text">\n                    <div class="category__text__bg" style="background-image: url(' + (null == (__t = ruta.stamp.text) ? "" : __t) + ');"></div>\n                </div>\n                <div class="category__icon">\n                    <div class="category__icon__bg" style="background-image: url(' + (null == (__t = ruta.stamp.icon) ? "" : __t) + ');"></div>\n                </div>\n            </div>\n        ' : __p += '\n            <div class="info">\n                <div class="category">\n                    <div class="category__text">\n                        <div class="category__text__bg" style="background-image: url(' + (null == (__t = ruta.stamp.text) ? "" : __t) + ');"></div>\n                    </div>\n                    <div class="category__icon">\n                        <div class="category__icon__bg" style="background-image: url(' + (null == (__t = ruta.stamp.icon) ? "" : __t) + ');"></div>\n                    </div>\n                </div>\n                <div class="title">' + (null == (__t = ruta.title_mobile) ? "" : __t) + "</div>\n            </div>\n        ", __p += '\n    </div>\n    <div class="routesSingle__intro">\n        <div class="container">\n            ', this.router.isDesktop ? (__p += '\n                <div class="columns">\n                    <div class="columns__item">\n                        <div class="quote">\n                            <div class="quote__icon"></div>\n                            <div class="quote__label">' + (null == (__t = ruta.quote.author || "El Duende") ? "" : __t) + '</div>\n                            <div class="quote__title">' + (null == (__t = ruta.quote.text) ? "" : __t) + '</div>\n                        </div>\n                    </div>\n                    <div class="columns__item">\n                        ', "" !== ruta.video.id && (__p += '\n                            <div class="video video--' + (null == (__t = ruta.video.type) ? "" : __t) + '">\n                                <div class="video__inner">\n                                    <div class="video__player video__player--' + (null == (__t = ruta.video.ratio) ? "" : __t) + '">\n                                        <div id="' + (null == (__t = ruta.video.id) ? "" : __t) + '"></div>\n                                    </div>\n                                    <div class="video__poster">\n                                        <div class="image">\n                                            <div class="image__bg" style="background-image: url(' + (null == (__t = ruta.video.poster.sizes["duendelandscape-small"]) ? "" : __t) + ');"></div>\n                                        </div>\n                                    </div>\n                                    <div class="video__trigger"><span>Video gu铆a</span></div>\n                                </div>\n                            </div>\n                        '), __p += '\n                        <div class="excerpt wysiwyg wysiwyg--large">' + (null == (__t = ruta.excerpt) ? "" : __t) + '</div>\n                        <div class="description wysiwyg">' + (null == (__t = ruta.description) ? "" : __t) + "</div>\n                    </div>\n                </div>\n            ") : (__p += "\n                ", "" !== ruta.video.id && (__p += '\n                    <div class="video video--' + (null == (__t = ruta.video.type) ? "" : __t) + '">\n                        <div class="video__inner">\n                            <div class="video__player video__player--' + (null == (__t = ruta.video.ratio) ? "" : __t) + '">\n                                <div id="' + (null == (__t = ruta.video.id) ? "" : __t) + '"></div>\n                            </div>\n                            <div class="video__poster">\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = ruta.video.poster.sizes["duendelandscape-xsmall"]) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="video__trigger"></div>\n                        </div>\n                    </div>\n                '), __p += '\n                <div class="quote">\n                    <div class="quote__icon"></div>\n                    <div class="quote__label">' + (null == (__t = ruta.quote.author || "El Duende") ? "" : __t) + '</div>\n                    <div class="quote__title">' + (null == (__t = ruta.quote.text) ? "" : __t) + '</div>\n                </div>\n                <div class="excerpt wysiwyg wysiwyg--large">' + (null == (__t = ruta.excerpt) ? "" : __t) + '</div>\n                <div class="description wysiwyg">' + (null == (__t = ruta.description) ? "" : __t) + "</div>\n            "), __p += '\n        </div>\n    </div>\n    <div class="routesSingle__content">\n        '; for (var i = 0; i < ruta.spots.length; i++) { if (__p += '\n        <div class="spot">\n            <div class="spot__hero">\n                <div class="mask"></div>\n                <div class="title">\n                    <div class="title__mask"></div>\n                    <div class="title__inner">' + (null == (__t = ruta.spots[i].title) ? "" : __t) + '</div>\n                </div>\n                <div class="info">\n                    <div class="info__address">' + (null == (__t = ruta.spots[i].info.address) ? "" : __t) + '</div>\n                    <div class="info__website">' + (null == (__t = ruta.spots[i].info.website) ? "" : __t) + '</div>\n                    <div class="info__mail">' + (null == (__t = ruta.spots[i].info.mail) ? "" : __t) + '</div>\n                    <div class="info__phone">' + (null == (__t = ruta.spots[i].info.phone) ? "" : __t) + '</div>\n                </div>\n                <div class="image">\n                    <div class="image__bg" style="background-image: url(' + (null == (__t = ruta.spots[i].image.sizes["duendelandscape-medium"]) ? "" : __t) + ');"></div>\n                </div>\n                <div class="megatitle">\n                    <span>' + (null == (__t = ruta.spots[i].title) ? "" : __t) + '</span>\n                </div>\n            </div>\n            <div class="spot__content">\n                <div class="container">\n                    <div class="columns">\n                        <div class="columns__left">\n                            <div class="columns__left__inner">\n                                <div class="label">' + (null == (__t = ruta.spots[i].content.label) ? "" : __t) + '</div>\n                                <div class="excerpt">' + (null == (__t = ruta.spots[i].content.excerpt) ? "" : __t) + '</div>\n                                <div class="actions">\n                                    ', ruta.spots[i].map.url && (__p += '<div class="actions__map"><a href="' + (null == (__t = ruta.spots[i].map.url) ? "" : __t) + '" class="link" alt="Ver en Google Maps" color="rutas" target="_blank"></a></div>'), __p += "\n                                    ", (ruta.spots[i].audios.mp3 || ruta.spots[i].audios.ogg || ruta.spots[i].audios.wav) && (__p += '\n                                    <a class="actions__audio link" alt="Escuchar audio" data-rel="' + (null == (__t = i) ? "" : __t) + '" color="rutas">\n                                        ', this.router.isDesktop && (__p += "\n                                        <audio controls>\n                                            ", ruta.spots[i].audios.mp3 && (__p += '<source src="' + (null == (__t = ruta.spots[i].audios.mp3) ? "" : __t) + '" type="audio/mpeg">'), __p += "\n                                            ", ruta.spots[i].audios.ogg && (__p += '<source src="' + (null == (__t = ruta.spots[i].audios.ogg) ? "" : __t) + '" type="audio/ogg">'), __p += "\n                                            ", ruta.spots[i].audios.wav && (__p += '<source src="' + (null == (__t = ruta.spots[i].audios.wav) ? "" : __t) + '" type="audio/wav">'), __p += "\n                                            Your browser does not support the audio element.\n                                        </audio>\n                                        "), __p += "\n                                    </a>\n                                    "), __p += '\n                                </div>\n                            </div>\n                        </div>\n                        <div class="columns__right">\n                            <div class="columns__right__inner">\n                                ', ruta.spots[i].content.gallery) { __p += '\n                                    <div class="gallery">\n                                        <div class="gallery__inner">\n                                            '; for (var j = 0; j < ruta.spots[i].content.gallery.length; j++)__p += '\n                                                <div class="gallery__item">\n                                                    <div class="image">\n                                                        <div class="image__bg" style="background-image: url(' + (null == (__t = ruta.spots[i].content.gallery[j].sizes["duendevertical-medium"]) ? "" : __t) + ');"></div>\n                                                    </div>\n                                                </div>\n                                            '; if (__p += '\n                                        </div>\n                                        <div class="gallery__dots dots">\n                                            ', ruta.spots[i].content.gallery.length > 1) { __p += "\n                                                "; for (var j = 0; j < ruta.spots[i].content.gallery.length; j++)__p += '\n                                                    <div class="dots__item"><span>' + (null == (__t = j) ? "" : __t) + "</span></div>\n                                                "; __p += "\n                                            " } __p += "\n                                        </div>\n                                    </div>\n                                " } __p += '\n                                <div class="description wysiwyg">' + (null == (__t = ruta.spots[i].content.description) ? "" : __t) + "</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        " } __p += '\n    </div>\n    <div class="routesSingle__share">\n        <div class="container">\n            <ul class="share">\n                <li class="share__item"><a target="_blank" alt="Compartir en Twitter" href="https://twitter.com/home?status=' + (null == (__t = window.location.href) ? "" : __t) + '" class="share twitter"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir en Facebook" href="https://www.facebook.com/sharer/sharer.php?u=' + (null == (__t = window.location.href) ? "" : __t) + '" class="share facebook"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir por Whatsapp" href="https://wa.me/?text=' + (null == (__t = ruta.title + ": " + window.location.href) ? "" : __t) + '" class="share whatsapp"></a></li>\n                <li class="share__item"><a target="_blank" alt="Compartir en Pinterest" href="https://pinterest.com/pin/create/button/?url=' + (null == (__t = window.location.href) ? "" : __t) + '&media=&description=" class="share pinterest"></a></li>\n            </ul>\n        </div>\n    </div>\n    '; var related = ruta.related.length > 0 ? ruta.related : []; if (0 == related.length) { const rutasCloned = Object.keys(rutas); rutasCloned.indexOf(String(ruta.id)) >= 0 && rutasCloned.splice(rutasCloned.indexOf(String(ruta.id)), 1), related = rutasCloned[Math.floor(Math.random() * rutasCloned.length)] } __p += '\n    <div class="routesSingle__related">\n        <a href="/rutas/' + (null == (__t = rutas[related].category[0].slug) ? "" : __t) + "/" + (null == (__t = rutas[related].slug) ? "" : __t) + '" class="route" data-router-link>\n            ', this.router.isDesktop ? __p += '\n                <div class="image">\n                    <div class="image__bg" style="background-image: url(' + (null == (__t = rutas[related].image.url) ? "" : __t) + ');"></div>\n                    <div class="image__gradient"></div>\n                </div>\n                <div class="title">' + (null == (__t = rutas[related].title) ? "" : __t) + '</div>\n                <div class="category">\n                    <div class="category__text">\n                        <div class="category__text__bg" style="background-image: url(' + (null == (__t = rutas[related].stamp.text) ? "" : __t) + ');"></div>\n                    </div>\n                    <div class="category__icon">\n                        <div class="category__icon__bg" style="background-image: url(' + (null == (__t = rutas[related].stamp.icon) ? "" : __t) + ');"></div>\n                    </div>\n                </div>\n            ' : __p += '\n                <div class="image">\n                    <div class="image__bg" style="background-image: url(' + (null == (__t = rutas[related].image_mobile.url) ? "" : __t) + ');"></div>\n                    <div class="image__gradient"></div>\n                </div>\n                <div class="info">\n                    <div class="category">\n                        <div class="category__text">\n                            <div class="category__text__bg" style="background-image: url(' + (null == (__t = rutas[related].stamp.text) ? "" : __t) + ');"></div>\n                        </div>\n                        <div class="category__icon">\n                            <div class="category__icon__bg" style="background-image: url(' + (null == (__t = rutas[related].stamp.icon) ? "" : __t) + ');"></div>\n                        </div>\n                    </div>\n                    <div class="title">' + (null == (__t = rutas[related].title_mobile) ? "" : __t) + "</div>\n                </div>\n            ", __p += "\n        </a>\n    </div>\n    "; var rutasRelated = [...Object.keys(rutas)]; if (rutasRelated.indexOf(String(ruta.id)) >= 0 && rutasRelated.splice(rutasRelated.indexOf(String(ruta.id)), 1), __p += "\n    ", this.router.isDesktop) { __p += '\n    <div class="routesSingle__items">\n        <div class="label">Rutas relacionadas</div>\n        <div class="reveal">\n            <div class="reveal__detector"></div>\n            <div class="reveal__inner">\n                <div class="inner">\n                    '; for (var i = 0; i < Math.min(4, rutasRelated.length); i++)__p += '\n                        <a href="/rutas/' + (null == (__t = rutas[rutasRelated[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = rutas[rutasRelated[i]].slug) ? "" : __t) + '" class="route" data-router-link>\n                            <div class="image" style="background-color: ">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = rutas[rutasRelated[i]].image.sizes["duendehorizontal-large"]) ? "" : __t) + ');"></div>\n                            </div>\n                            <div class="mask"></div>\n                            <div class="category">\n                                <div class="category__name">' + (null == (__t = rutas[rutasRelated[i]].category[0].name) ? "" : __t) + '</div>\n                                <div class="category__icon"><img src="' + (null == (__t = categories[rutas[rutasRelated[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = rutas[rutasRelated[i]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                            <div class="title">' + (null == (__t = rutas[rutasRelated[i]].title) ? "" : __t) + "</div>\n                        </a>\n                    "; __p += "\n                </div>\n            </div>\n        </div>\n    </div>\n    " } else { __p += '\n    <div class="routesSingle__items">\n        <div class="label">\n            <div class="label__inner">Rutas relacionadas</div>\n            <div class="label__inner">Rutas relacionadas</div>\n            <div class="label__inner">Rutas relacionadas</div>\n            <div class="label__inner">Rutas relacionadas</div>\n        </div>\n        <div class="reveal">\n            <div class="reveal__detector"></div>\n            <div class="reveal__inner">\n                <div class="related">\n                    '; for (var i = 0; i < Math.min(4, rutasRelated.length); i++)__p += '\n                        <a href="/rutas/' + (null == (__t = rutas[rutasRelated[i]].category[0].slug) ? "" : __t) + "/" + (null == (__t = rutas[rutasRelated[i]].slug) ? "" : __t) + '" class="route" data-router-link>\n                            <div class="image" style="background-color: ">\n                                <div class="image__bg" style="background-image: url(' + (null == (__t = rutas[rutasRelated[i]].image_mobile.url) ? "" : __t) + ');"></div>\n                                <div class="image__gradient"></div>\n                            </div>\n                            <div class="mask"></div>\n                            <div class="category">\n                                <div class="category__name">' + (null == (__t = rutas[rutasRelated[i]].category[0].name) ? "" : __t) + '</div>\n                                <div class="category__icon"><img src="' + (null == (__t = categories[rutas[rutasRelated[i]].category[0].slug].image) ? "" : __t) + '" alt="' + (null == (__t = rutas[rutasRelated[i]].category[0].name) ? "" : __t) + '"></div>\n                            </div>\n                            <div class="title">' + (null == (__t = rutas[rutasRelated[i]].title_mobile) ? "" : __t) + "</div>\n                        </a>\n                    "; __p += '\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="routesSingle__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n    " } if (__p += "\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += '\n<div class="routesNavigation">\n    <div class="background"></div>\n    <div class="inner">\n        <div class="routesNavigation__map">\n            ' + (null == (__t = ruta.map) ? "" : __t) + '\n        </div>\n        <div class="routesNavigation__info">\n            <div class="info__distance">\n                <span class="icon icon--distance"></span>\n                <span class="text">' + (null == (__t = ruta.info.distance) ? "" : __t) + ' KM</span>\n            </div>\n            <div class="info__locations">\n                <span class="icon icon--location"></span>\n                <span class="text">' + (null == (__t = ruta.info.spots || ruta.spots.length) ? "" : __t) + '</span>\n            </div>\n            <div class="info__time">\n                <span class="icon icon--time"></span>\n                <span class="text">' + (null == (__t = ruta.info.duration.split(".")[0] + "h " + 60 / (10 / ruta.info.duration.split(".")[1]) + "'") ? "" : __t) + '</span>\n            </div>\n            <div class="info__audios">\n                <span class="icon icon--audio"></span>\n                <span class="text">' + (null == (__t = ruta.info.audios || 0) ? "" : __t) + "</span>\n            </div>\n        </div>\n        ", this.router.isDesktop) { __p += '\n        <div class="routesNavigation__spots">\n            <div class="distance">KM <strong>2,1</strong></div>\n            <div class="spots">\n                <div class="back">\n                    <div class="back__inner">\n                        <div class="progress"></div>\n                        <div class="start"></div>\n                        '; for (var i = 0; i < ruta.spots.length; i++)__p += '\n                            <div class="spot">\n                                <div class="spot__title">' + (null == (__t = ruta.spots[i].title) ? "" : __t) + '</div>\n                                <div class="spot__dot"></div>\n                                <div class="spot__audio"></div>\n                            </div>\n                        '; __p += '\n                        <div class="end"></div>\n                    </div>\n                </div>\n                <div class="front">\n                    <div class="front__inner">\n                        <div class="progress"></div>\n                        <div class="start"></div>\n                        '; for (var i = 0; i < ruta.spots.length; i++)__p += '\n                            <div class="spot">\n                                <div class="spot__title">' + (null == (__t = ruta.spots[i].title) ? "" : __t) + '</div>\n                                <div class="spot__dot"></div>\n                                <div class="spot__audio"></div>\n                            </div>\n                        '; __p += '\n                        <div class="end"></div>\n                    </div>\n                </div>\n                <div class="walker">\n                    <div class="walker__inner"></div>\n                </div>\n            </div>\n            <div class="time"><strong>0h 42鈥�</strong></div>\n        </div>\n        ' } else { __p += '\n            <div class="routesNavigation__spots">\n                <div class="spots">\n                    <div class="stops">PARADAS</div>\n                    <div class="text">\n                        <div class="text__inner">\n                            '; for (var i = 0; i < ruta.spots.length; i++)__p += '\n                                <div class="spot">\n                                    <div class="spot__title">' + (null == (__t = ruta.spots[i].title) ? "" : __t) + "</div>\n                                </div>\n                            "; __p += "\n                        </div>\n                    </div>\n                </div>\n            </div>\n        " } if (__p += '\n        <div class="routesNavigation__trigger">\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="209px" height="40px" viewBox="0 0 209 40" style="enable-background:new 0 0 209 40;" xml:space="preserve">\n                <filter id="dropshadow" height="130%">\n                    <feGaussianBlur in="SourceAlpha" stdDeviation="3"/> \x3c!-- stdDeviation is how much to blur --\x3e\n                    <feOffset dx="2" dy="2" result="offsetblur"/> \x3c!-- how much to offset --\x3e\n                    <feComponentTransfer>\n                    <feFuncA type="linear" slope="0.2"/> \x3c!-- slope is the opacity of the shadow --\x3e\n                    </feComponentTransfer>\n                    <feMerge>\n                    <feMergeNode/> \x3c!-- this contains the offset blurred image --\x3e\n                    <feMergeNode in="SourceGraphic"/> \x3c!-- this contains the element that the filter is applied to --\x3e\n                    </feMerge>\n                </filter>\n                <path d="M104,34C68,34,77,0,0,0c0,0,209,0,209,0C131,0,140,34,104,34z" style="filter:url(#dropshadow)"/>\n            </svg>\n            <div class="icon"></div>\n        </div>\n    </div>\n</div>\n', !this.router.isDesktop) { __p += '\n<div class="routesPlaylist">\n    <div class="header">\n        <div class="title">Playlist</div>\n    </div>\n    <div class="list">\n        '; for (var i = 0; i < ruta.spots.length; i++)__p += "\n            ", ruta.spots[i].audios.mp3 || ruta.spots[i].audios.ogg || ruta.spots[i].audios.wav ? (__p += '\n                <div class="list__item">\n                    <div class="spot">\n                        <div class="spot__icon"></div>\n                        <div class="spot__title">' + (null == (__t = ruta.spots[i].title) ? "" : __t) + '</div>\n                        <div class="spot__audio">\n                            <audio controls>\n                                ', ruta.spots[i].audios.mp3 && (__p += '<source src="' + (null == (__t = ruta.spots[i].audios.mp3) ? "" : __t) + '" type="audio/mpeg">'), __p += "\n                                ", ruta.spots[i].audios.ogg && (__p += '<source src="' + (null == (__t = ruta.spots[i].audios.ogg) ? "" : __t) + '" type="audio/ogg">'), __p += "\n                                ", ruta.spots[i].audios.wav && (__p += '<source src="' + (null == (__t = ruta.spots[i].audios.wav) ? "" : __t) + '" type="audio/wav">'), __p += "\n                                Your browser does not support the audio element.\n                            </audio>\n                        </div>\n                    </div>\n                </div>\n            ") : __p += '\n                <div class="list__item disabled">\n                    <div class="spot"></div>\n                </div>\n            ', __p += "\n        "; __p += '\n    </div>\n    <div class="audio">\n        <audio controls>\n            <source src="" type="audio/mpeg">\n            <source src="" type="audio/ogg">\n            <source src="" type="audio/wav">\n            Your browser does not support the audio element.\n        </audio>\n        <div class="expander"></div>\n    </div>\n    \x3c!--div class="trigger"></div--\x3e\n</div>\n' } __p += "\n" } return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { __p += '<div class="inner searchArchive">\n    <div class="searchArchive__hero">\n        <div class="container container--large">\n            <div class="info">\n                <div class="info__results"><span>' + (null == (__t = items.length) ? "" : __t) + "</span> RESULTADOS ", search && (__p += "PARA"), __p += '</div>\n                <div class="info__term"><span>' + (null == (__t = search) ? "" : __t) + '</span></div>\n            </div>\n            <div class="form">\n                <div class="input">\n                    <input type="text" value="' + (null == (__t = search) ? "" : __t) + '">\n                    <div class="search"></div>\n                </div>\n                <div class="options">\n                    <div class="options__item">\n                        ', categories.includes("planes") || categories.includes("all") ? __p += '\n                            <span class="checkbox checkbox--planes"><input type="checkbox" name="type" checked="checked" value="planes"></span>\n                        ' : __p += '\n                            <span class="checkbox checkbox--planes"><input type="checkbox" name="type" value="planes"></span>\n                        ', __p += '\n                        <span class="minilabel">Planes</span>\n                    </div>\n                    <div class="options__item">\n                        ', categories.includes("rutas") || categories.includes("all") ? __p += '\n                            <span class="checkbox checkbox--rutas"><input type="checkbox" name="type" checked="checked" value="rutas"></span>\n                        ' : __p += '\n                            <span class="checkbox checkbox--rutas"><input type="checkbox" name="type" value="rutas"></span>\n                        ', __p += '\n                        <span class="minilabel">Rutas</span>\n                    </div>\n                    <div class="options__item">\n                        ', categories.includes("revista") || categories.includes("all") ? __p += '\n                            <span class="checkbox checkbox--revista"><input type="checkbox" name="type" checked="checked" value="revista"></span>\n                        ' : __p += '\n                            <span class="checkbox checkbox--revista"><input type="checkbox" name="type" value="revista"></span>\n                        ', __p += '\n                        <span class="minilabel">El Duende</span>\n                    </div>\n                </div>\n            </div>\n            <div class="results">VER <a href="/buscar" data-router-link><span>28</span> RESULTADOS</a></div>\n            <div class="noresults">LO SENTIMOS, NO SE ENCONTRARON RESULTADOS.</div>\n        </div>\n        ', this.router.isDesktop || (__p += '\n            <div class="closer">\n                <span></span>\n                <span></span>\n            </div>\n        '), __p += '\n    </div>\n    <div class="searchArchive__posts">\n        <div class="container container--medium">\n            <div class="list">\n                '; var from = (page - 1) * pageItems, to = Math.min(page * pageItems - 1, items.length - 1), pages = Math.ceil(items.length / pageItems); __p += "\n                "; for (var i = from; i <= to; i++)__p += "\n                    ", "revista" === items[i].type ? __p += '\n                    <a class="post post--listed post--' + (null == (__t = items[i].type) ? "" : __t) + '" href="/' + (null == (__t = items[i].type) ? "" : __t) + "/" + (null == (__t = items[i].edition[0].slug) ? "" : __t) + "/" + (null == (__t = items[i].slug) ? "" : __t) + '" data-router-link>\n                    ' : ("planes" === items[i].type || "rutas" === items[i].type) && (__p += '\n                    <a class="post post--listed post--' + (null == (__t = items[i].type) ? "" : __t) + '" href="/' + (null == (__t = items[i].type) ? "" : __t) + "/" + (null == (__t = items[i].category[0].slug) ? "" : __t) + "/" + (null == (__t = items[i].slug) ? "" : __t) + '" data-router-link>\n                    '), __p += "\n                        ", this.router.isDesktop ? (__p += '\n                            <div class="post__line"></div>\n                            <div class="post__info">\n                                <div class="post__info__date">' + (null == (__t = items[i].date) ? "" : __t) + '</div>\n                                <div class="post__info__line"></div>\n                                <div class="post__info__author">Por <span>' + (null == (__t = items[i].author || "El DUENDE") ? "" : __t) + '</span></div>\n                            </div>\n                            <div class="post__image">\n                                <div class="mask"></div>\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = items[i].image.url) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="post__content">\n                                <div class="post__content__title">' + (null == (__t = items[i].title) ? "" : __t) + "</div>\n                                ", items[i].intro && (__p += '\n                                    <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = items[i].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                                "), __p += "\n                            </div>\n                        ") : (__p += '\n                            <div class="post__line"></div>\n                            <div class="post__image">\n                                <div class="mask"></div>\n                                <div class="image">\n                                    <div class="image__bg" style="background-image: url(' + (null == (__t = items[i].image.url) ? "" : __t) + ');"></div>\n                                </div>\n                            </div>\n                            <div class="post__container">\n                                <div class="post__info">\n                                    <div class="post__info__date">' + (null == (__t = items[i].date) ? "" : __t) + '</div>\n                                    <div class="post__info__line"></div>\n                                    <div class="post__info__author">Por <span>' + (null == (__t = items[i].author || "El DUENDE") ? "" : __t) + '</span></div>\n                                </div>\n                                <div class="post__content">\n                                    <div class="post__content__title">' + (null == (__t = items[i].title) ? "" : __t) + "</div>\n                                    ", items[i].intro && (__p += '\n                                        <div class="post__content__description wysiwyg wysiwyg--small">' + (null == (__t = items[i].intro.replace(/(<([^>]+)>)/gi, "").substring(0, 185) + "...") ? "" : __t) + "</div>\n                                    "), __p += "\n                                </div>\n                            </div>\n                        "), __p += "\n                    </a>\n                "; if (__p += "\n            </div>\n            ", pages > 1) { __p += '\n            <div class="pagination">\n                '; for (var i = 1; i <= pages; i++)__p += "\n                    ", 1 == i ? (__p += "\n                        ", page == i ? __p += '\n                            <span class="pagination__item">' + (null == (__t = i) ? "" : __t) + "</span>\n                        " : (__p += '\n                            <a href="/buscar/' + (null == (__t = categories) ? "" : __t), search && (__p += "/" + (null == (__t = search) ? "" : __t)), __p += '" class="pagination__item" data-router-link>' + (null == (__t = i) ? "" : __t) + "</a>\n                        "), __p += "\n                    ") : (__p += "\n                        ", page == i ? __p += '\n                            <span class="pagination__item">' + (null == (__t = i) ? "" : __t) + "</span>\n                        " : (__p += "\n                        <a href=/buscar/" + (null == (__t = categories) ? "" : __t), search && (__p += "/" + (null == (__t = search) ? "" : __t)), __p += "/page/" + (null == (__t = i) ? "" : __t) + ' class="pagination__item" data-router-link>' + (null == (__t = i) ? "" : __t) + "</a>\n                        "), __p += "\n                    "), __p += "\n                "; __p += "\n            </div>\n            " } __p += "\n            ", this.router.isDesktop ? __p += '\n                <a class="button button--back" href="/" data-router-link><div>Volver</div><div>Volver</div></a>\n            ' : __p += '\n                <a class="button button--back" href="/" data-router-link><div>Volver</div></a>\n            ', __p += '\n        </div>\n    </div>\n    <div class="searchArchive__footer">\n        ' + (null == (__t = footer()) ? "" : __t) + "\n    </div>\n</div>\n", this.router.isDesktop && (__p += '\n<div class="scrollbar">\n    <div class="bar"></div>\n</div>\n'), __p += "\n" } return __p } }, , , , , function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) __p += '<div id="logo">\n    <a href="/" class="logo" data-router-link>\n        <div class="logo__icon"></div>\n        <div class="logo__text"><span></span></div>\n    </a>\n</div>\n<div id="menu">\n    <div class="opener">\n        ', this.router.isDesktop ? __p += '\n            <span class="line"></span>\n            <span class="text">Men煤</span>\n        ' : __p += '\n            <span class="line top"></span>\n            <span class="line middle"></span>\n            <span class="line bottom"></span>\n        ', __p += '\n    </div>\n    <div class="background"></div>\n    ', this.router.isDesktop ? __p += '\n        <div class="maskh">\n            <div class="maskh__bg"></div>\n            <div class="maskh__left">\n                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 200 1000" style="enable-background:new 0 0 200 1000;" xml:space="preserve">\n                    <path d="M200,1000H100c0,0,0-201,0-500c0-284,0-500,0-500h100V1000z"/>\n                </svg>\n            </div>\n            <div class="maskh__right">\n                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 200 1000" style="enable-background:new 0 0 200 1000;" xml:space="preserve">\n                    <path class="st0" d="M0,1000h100c0,0,0-201,0-500c0-284,0-500,0-500H0V1000z"/>\n                </svg>\n            </div>\n        </div>\n    ' : __p += '\n        <div class="maskh">\n            <div class="maskh__bg"></div>\n        </div>\n    ', __p += '\n    <div class="maskv">\n        <div class="maskv__bg"></div>\n    </div>\n    <div class="inner">\n        <div class="center">\n            <ul class="main">\n                <li>\n                    <a href="/" class="default home" data-router-link>\n                        <span class="line"></span>\n                        <span class="text">Inicio</span>\n                    </a>\n                </li>\n                <li>\n                    <a href="/planes" class="planes plansFeatured" data-router-link>\n                        <span class="line"></span>\n                        <span class="text">Planes</span>\n                    </a>\n                </li>\n                <li>\n                    <a href="/rutas-destacadas" class="rutas routesFeatured" data-router-link>\n                        <span class="line"></span>\n                        <span class="text">Rutas</span>\n                    </a>\n                </li>\n                <li>\n                    <a href="/revista" class="revista magazineFeatured" data-router-link>\n                        <span class="line"></span>\n                        <span class="text">El Duende</span>\n                    </a>\n                </li>\n            </ul>\n            \x3c!-- <ul class="secondary">\n                <li><a href="https://revistaelduende.com/descargate-la-revista/" target="_blank">Desc谩rgate la revista</a></li>\n                <li><a href="">Suscripciones</a></li>\n                <li><a href="">Contacto</a></li>\n            </ul> --\x3e\n            <ul class="social">\n                <li><a href="https://www.facebook.com/DuendeRevista/" target="_blank">FB</a></li>\n                <li><a href="https://twitter.com/Elduenderevista" target="_blank">TW</a></li>\n                <li><a href="https://www.youtube.com/user/GrupoDuendeYT" target="_blank">YT</a></li>\n                <li><a href="https://www.instagram.com/revista_el_duende/" target="_blank">IG</a></li>\n            </ul>\n            <div class="copyright">\n                <span class="text">Grupo Duende 2020</span>\n                <ul>\n                    <li><a href="https://revistaelduende.com/descargate-la-revista/sites/default/files/CIUDAD.COMUNICACION.Politica.de.privacidad.pdf" target="_blank">Pol铆tica de privacidad</a></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="newsletter"></div>\n    <div class="closer">\n        <span></span>\n        <span></span>\n    </div>\n</div>\n', this.router.isDesktop ? __p += '\n<div id="cursor">\n    <div class="dot"></div>\n    <div class="view">\x3c!--Leer--\x3e</div>\n    <div class="viewlarge"><span></span></div>\n</div>\n' : __p += '\n    <div id="notice">\n        <div class="wrapper">\n            <div class="rotate"></div>\n            <div class="notice__text">Por favor gira tu dispositivo para ver el contenido</div>\n        </div>\n    </div>\n', __p += "\n"; return __p } }, function (module, exports) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) __p += '<div id="search">\n    <div class="mask"></div>\n    <div class="content">\n        <div class="center">\n            <div class="title">\n                <div class="line line--1">Explora</div>\n                <div class="line line--2">la ciudad</div>\n            </div>\n            <div class="form">\n                <div class="input">\n                    <input type="text">\n                    <div class="search"></div>\n                </div>\n                <div class="description wysiwyg">Busca en la revista, planes o rutas y encuentra donde act煤a tu artista favorito, los sitios de marcha de moda, donde comer o comprar, el nombre de una sala, las exposiciones m谩s cool...</div>\n                <div class="options">\n                    <div class="options__item"><span class="checkbox checkbox--planes"><input type="checkbox" name="type" value="planes"></span><span class="minilabel">Planes</span></div>\n                    <div class="options__item"><span class="checkbox checkbox--rutas"><input type="checkbox" name="type" value="rutas"></span><span class="minilabel">Rutas</span></div>\n                    <div class="options__item"><span class="checkbox checkbox--revista"><input type="checkbox" name="type" value="revista"></span><span class="minilabel">El Duende</span></div>\n                </div>\n            </div>\n            <div class="results">VER <a href="/buscar" data-router-link><span>28</span> RESULTADOS</a></div>\n            <div class="noresults">LO SENTIMOS, NO SE ENCONTRARON RESULTADOS.</div>\n        </div>\n    </div>\n    ', this.router.isDesktop || (__p += '\n        <div class="closer">\n            <span></span>\n            <span></span>\n        </div>\n    '), __p += '\n    <div class="trigger">\n        <div class="eye eye--left">\n            <div class="eye__inner">\n                <div class="eye__inner__light"></div>\n            </div>\n        </div>\n        <div class="eye eye--right">\n            <div class="eye__inner">\n                <div class="eye__inner__light"></div>\n            </div>\n        </div>\n    </div>\n    <div class="reactive"></div>\n</div>\n'; return __p } }, , function (module, exports, __webpack_require__) { module.exports = function (obj) { obj || (obj = {}); var __t, __p = "", __j = Array.prototype.join; function print () { __p += __j.call(arguments, "") } with (obj) { var $i; __p += '<div id="content"></div>\n', __p += "\n" } return __p } }, function (e, t, i) { }, , , function (e, t, i) { }, function (e, t, i) { }, , , , , , , function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { }, function (e, t, i) { "use strict"; i.r(t); i(25); var n = function (e, t) { return e.indexOf(t) > -1 }, s = { array: function (e) { return Array.isArray(e) }, object: function (e) { return n(Object.prototype.toString.call(e), "Object") }, path: function (e) { return s.obj(e) && e.hasOwnProperty("totalLength") }, svg: function (e) { return e instanceof SVGElement }, node: function (e) { return e.nodeType || s.svg(e) }, nodeList: function (e) { return e instanceof NodeList || e instanceof HTMLCollection }, string: function (e) { return "string" == typeof e }, number: function (e) { return !isNaN(parseFloat(e)) && isFinite(e) }, function: function (e) { return "function" == typeof e }, undefined: function (e) { return void 0 === e }, hex: function (e) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e) }, rgb: function (e) { return /^rgb/.test(e) }, hsl: function (e) { return /^hsl/.test(e) }, color: function (e) { return s.hex(e) || s.rgb(e) || s.hsl(e) } }; function r (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var a = function () { function e () { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this._eventCache = [] } var t, i, n; return t = e, (i = [{ key: "_removeEvent", value: function (e) { this._eventCache[e].node.removeEventListener(this._eventCache[e].action, this._eventCache[e].cb), this._eventCache.splice(e, 1) } }, { key: "add", value: function (e, t, i) { for (var n = this, r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], a = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5], l = s.nodeList(e) || s.array(e) ? e : [e], u = function (e) { var s = !1 !== r ? function (t) { i.call(r, t, a, l[e]) } : function (t) { i(t, a, l[e]) }; n._eventCache.push({ node: l[e], action: t, func: i, cb: s, routerLink: o }), l[e].addEventListener(t, s) }, c = 0; c < l.length; c++)u(c) } }, { key: "remove", value: function (e, t, i) { for (var n = s.nodeList(e) || s.array(e) ? e : [e], r = 0; r < n.length; r++)for (var a = 0; a < this._eventCache.length;)this._eventCache[a].node !== n[r] || this._eventCache[a].routerLink ? a++ : t && i ? this._eventCache[a].action === t && this._eventCache[a].func === i ? this._removeEvent(a) : a++ : t ? this._eventCache[a].action === t ? this._removeEvent(a) : a++ : i ? this._eventCache[a].func === i ? this._removeEvent(a) : a++ : this._removeEvent(a) } }, { key: "removeAll", value: function () { for (var e = 0; e < this._eventCache.length;)this._eventCache[e].routerLink ? e++ : this._removeEvent(e) } }, { key: "_removeAll", value: function () { for (; this._eventCache.length > 0;)this._removeEvent(0) } }]) && r(t.prototype, i), n && r(t, n), e }(); function o (e) { return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function l (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var u = { FIRST: 1, LAST: 2, BEFORE: 3, AFTER: 4 }, c = function () { }, d = function () { function e (t) { if (function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), !("object" === o(t) && t.eventHub && t.store && t.router && t.templateFunction)) throw new Error("This component needs event hub, store, router and a template function references."); this.eventHub = t.eventHub, this.store = t.store, this.router = t.router, this._templateFunction = t.templateFunction, this._parent = t.parent || this.store.main || document.body, this._insertPosition = t.insertPosition ? u[t.insertPosition] : u.FIRST, this._insertReference = t.insertReference || !1, this._templateData = t.templateData || {}, this.store.client && this.store.client.lang && !this._templateData.lang && (this._templateData.lang = this.store.client.lang), this._templateStyles = t.templateStyles || {}, this._templateDomNodes = [], this._initialRenderDelay = t.initialRenderDelay || 0, this.firstResize = !0, this.isLeaving = !1, this.events = new a } var t, i, n; return t = e, (i = [{ key: "preloadItems", value: function (e) { return { main: [], secondary: [] } } }, { key: "render", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c, t = arguments.length > 1 ? arguments[1] : void 0, i = arguments.length > 2 ? arguments[2] : void 0; this.beforeMount(t), this._mount(e, i) } }, { key: "beforeMount", value: function (e) { } }, { key: "_mount", value: function (e, t) { var i = document.createElement("div"); i.innerHTML = this._templateFunction(this._templateData), this.router.instance && this.events.add(i.querySelectorAll("a[data-router-link]"), "click", this.router.instance.clickLink, !1, !1, !0); for (var n = i.children.length, s = 0; s < n; s++) { for (var r in this._templateDomNodes.push(i.children[0]), this._templateStyles) this._templateDomNodes[s].style[r] = this._templateStyles[r]; 0 === s ? this._insertPosition === u.FIRST ? this._parent.insertAdjacentElement("afterbegin", this._templateDomNodes[s]) : this._insertPosition === u.LAST ? this._parent.insertAdjacentElement("beforeend", this._templateDomNodes[s]) : this._insertPosition === u.BEFORE && this._insertReference ? this._insertReference.insertAdjacentElement("beforebegin", this._templateDomNodes[s]) : this._insertPosition === u.AFTER && this._insertReference && this._insertReference.insertAdjacentElement("afterend", this._templateDomNodes[s]) : this._templateDomNodes[s - 1].insertAdjacentElement("afterend", this._templateDomNodes[s]) } i = null, this._mounted(e, t) } }, { key: "_mounted", value: function (e, t) { this.selectors(), this.setup(t), this._resizeEnter(e, t) } }, { key: "_resizeEnter", value: function (e, t) { var i = this; this.resize(this.store.client.sizes.width, this.store.client.sizes.height), setTimeout((function () { i.resize(i.store.client.sizes.width, i.store.client.sizes.height) }), 1e3), this.firstResize = !1, this.enter(e, t) } }, { key: "selectors", value: function () { } }, { key: "setup", value: function (e) { } }, { key: "observerAnimationInit", value: function (e) { } }, { key: "observerAnimationTrigger", value: function (e) { } }, { key: "observerParallaxInit", value: function (e, t) { } }, { key: "observerParallaxTrigger", value: function (e) { } }, { key: "resize", value: function (e, t) { } }, { key: "enter", value: function (e, t) { e() } }, { key: "routeChanged", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c; arguments.length > 1 && arguments[1], e() } }, { key: "destroy", value: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c; this.isLeaving = !0, this.leave((function () { e.afterLeave(); for (var i = 0; i < e._templateDomNodes.length; i++)e._parent.removeChild(e._templateDomNodes[i]); e.events._removeAll(), e._templateDomNodes = null, e._parent = null, e._insertReference = null, t() })) } }, { key: "leave", value: function (e) { e() } }, { key: "afterLeave", value: function () { } }]) && l(t.prototype, i), n && l(t, n), e }(), _ = i(4); function h (e) { return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function p (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function v (e, t) { return !t || "object" !== h(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function y () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function g (e) { return (g = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function f (e, t) { return (f = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var m = { DESKTOP: 1, MOBILE: 2, TABLET: 3, MIXED: 4 }, b = { NONE: 1, VERTICAL: 2, HORIZONTAL: 3 }, D = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && f(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = g(t); if (y()) { var n = g(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return v(this, e) }); function a (e) { var t; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, e)).store.rootUrl = window.location.protocol + "//" + window.location.host; var i, n, s, o = _.getParser(window.navigator.userAgent).parsedResult; return t._setOS(o), t._setDevice(o), t._addClasses(), t._sayHello(), t._appType = m[e.appType] || m.DESKTOP, t._parent = document.querySelector("#app"), t._orientation = b[e.orientation] || b.NONE, t._resize = function () { t.store.client.sizes.width = window.innerWidth, t.store.client.sizes.height = window.innerHeight, t.resize(t.store.client.sizes.width, t.store.client.sizes.height), t.router.resize(t.store.client.sizes.width, t.store.client.sizes.height), t._appType !== m.DESKTOP && t._checkOrientation() }, t._debouncedResize = (i = t._resize, n = 150, function () { clearTimeout(s), s = setTimeout(i, n) }), t } return i = a, (n = [{ key: "_setOS", value: function (e) { switch (e.os.name.toLowerCase()) { case "macos": this.store.client.os = "mac"; break; case "ios": this.store.client.os = "ios"; break; default: this.store.client.os = "windows" } } }, { key: "_setDevice", value: function (e) { switch (this.store.client.device = "desktop" === e.platform.type ? "desktop" : "mobile", e.browser.name) { case "Internet Explorer": this.store.client.browser = "explorer"; break; case "Microsoft Edge": this.store.client.browser = "edge"; break; case "Firefox": this.store.client.browser = "firefox"; break; case "Safari": this.store.client.browser = "safari"; break; default: this.store.client.browser = "chrome" } } }, { key: "_addClasses", value: function () { var e = document.querySelector("html"); e.classList.add(this.store.client.device), e.classList.add(this.store.client.os), e.classList.add(this.store.client.browser) } }, { key: "_sayHello", value: function () { "chrome" === this.store.client.browser || "firefox" === this.store.client.browser ? window.console.log.apply(console, ["%c Developed by Dgrees ", "display: block; padding: 5px; background: #351330; line-height: 40px; color: #ffffff;"]) : window.console.log("Developed by Dgrees") } }, { key: "_mounted", value: function (e, t) { this.store.main = this._parent.querySelector("#content"), this.selectors(), this.setup(t), this.createEasings(), this.events.add(window, "resize", this._debouncedResize), this._resize(), this._resizeEnter(e, !0) } }, { key: "createEasings", value: function () { } }, { key: "_checkOrientation", value: function () { this._orientation === b.NONE && this.rotateDevice(this.store.client.sizes.width > this.store.client.sizes.height ? 0 : 1), this._orientation === b.VERTICAL ? this.store.client.sizes.width > this.store.client.sizes.height ? this.rotateDevice(!0) : this.rotateDevice(!1) : this._orientation === b.HORIZONTAL && (this.store.client.sizes.height > this.store.client.sizes.width ? this.rotateDevice(!0) : this.rotateDevice(!1)) } }, { key: "rotateDevice", value: function (e) { } }]) && p(i.prototype, n), s && p(i, s), a }(d), $ = i(0), S = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi, w = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi, k = Math.PI / 180, x = (Math.PI, Math.sin), C = Math.cos, q = Math.abs, O = Math.sqrt, A = (Math.atan2, function (e) { return "number" == typeof e }), P = function (e) { return ~~(1e5 * e + (e < 0 ? -.5 : .5)) / 1e5 }; function T (e, t, i, n, s, r, a, o, l) { if (e !== o || t !== l) { i = q(i), n = q(n); var u = s % 360 * k, c = C(u), d = x(u), _ = Math.PI, h = 2 * _, p = (e - o) / 2, v = (t - l) / 2, y = c * p + d * v, g = -d * p + c * v, f = y * y, m = g * g, b = f / (i * i) + m / (n * n); b > 1 && (i = O(b) * i, n = O(b) * n); var D = i * i, $ = n * n, S = (D * $ - D * m - $ * f) / (D * m + $ * f); S < 0 && (S = 0); var w = (r === a ? -1 : 1) * O(S), A = w * (i * g / n), P = w * (-n * y / i), T = (e + o) / 2 + (c * A - d * P), F = (t + l) / 2 + (d * A + c * P), E = (y - A) / i, I = (g - P) / n, j = (-y - A) / i, R = (-g - P) / n, z = E * E + I * I, L = (I < 0 ? -1 : 1) * Math.acos(E / O(z)), N = (E * R - I * j < 0 ? -1 : 1) * Math.acos((E * j + I * R) / O(z * (j * j + R * R))); isNaN(N) && (N = _), !a && N > 0 ? N -= h : a && N < 0 && (N += h), L %= h, N %= h; var B, M = Math.ceil(q(N) / (h / 4)), H = [], V = N / M, Y = 4 / 3 * x(V / 2) / (1 + C(V / 2)), U = c * i, G = d * i, W = d * -n, X = c * n; for (B = 0; B < M; B++)y = C(s = L + B * V), g = x(s), E = C(s += V), I = x(s), H.push(y - Y * g, g + Y * y, E + Y * I, I - Y * E, E, I); for (B = 0; B < H.length; B += 2)y = H[B], g = H[B + 1], H[B] = y * U + g * W + T, H[B + 1] = y * G + g * X + F; return H[B - 2] = o, H[B - 1] = l, H } } function F (e) { var t, i, n, s, r, a, o, l, u, c, d, _, h, p, v, y = (e + "").replace(w, (function (e) { var t = +e; return t < 1e-4 && t > -1e-4 ? 0 : t })).match(S) || [], g = [], f = 0, m = 0, b = y.length, D = 0, $ = "ERROR: malformed path: " + e, k = function (e, t, i, n) { c = (i - e) / 3, d = (n - t) / 3, o.push(e + c, t + d, i - c, n - d, i, n) }; if (!e || !isNaN(y[0]) || isNaN(y[1])) return console.log($), g; for (t = 0; t < b; t++)if (h = r, isNaN(y[t]) ? a = (r = y[t].toUpperCase()) !== y[t] : t--, n = +y[t + 1], s = +y[t + 2], a && (n += f, s += m), t || (l = n, u = s), "M" === r) o && (o.length < 8 ? g.length -= 1 : D += o.length), f = l = n, m = u = s, o = [n, s], g.push(o), t += 2, r = "L"; else if ("C" === r) o || (o = [0, 0]), a || (f = m = 0), o.push(n, s, f + 1 * y[t + 3], m + 1 * y[t + 4], f += 1 * y[t + 5], m += 1 * y[t + 6]), t += 6; else if ("S" === r) c = f, d = m, "C" !== h && "S" !== h || (c += f - o[o.length - 4], d += m - o[o.length - 3]), a || (f = m = 0), o.push(c, d, n, s, f += 1 * y[t + 3], m += 1 * y[t + 4]), t += 4; else if ("Q" === r) c = f + 2 / 3 * (n - f), d = m + 2 / 3 * (s - m), a || (f = m = 0), f += 1 * y[t + 3], m += 1 * y[t + 4], o.push(c, d, f + 2 / 3 * (n - f), m + 2 / 3 * (s - m), f, m), t += 4; else if ("T" === r) c = f - o[o.length - 4], d = m - o[o.length - 3], o.push(f + c, m + d, n + 2 / 3 * (f + 1.5 * c - n), s + 2 / 3 * (m + 1.5 * d - s), f = n, m = s), t += 2; else if ("H" === r) k(f, m, f = n, m), t += 1; else if ("V" === r) k(f, m, f, m = n + (a ? m - f : 0)), t += 1; else if ("L" === r || "Z" === r) "Z" === r && (n = l, s = u, o.closed = !0), ("L" === r || q(f - n) > .5 || q(m - s) > .5) && (k(f, m, n, s), "L" === r && (t += 2)), f = n, m = s; else if ("A" === r) { if (p = y[t + 4], v = y[t + 5], c = y[t + 6], d = y[t + 7], i = 7, p.length > 1 && (p.length < 3 ? (d = c, c = v, i--) : (d = v, c = p.substr(2), i -= 2), v = p.charAt(1), p = p.charAt(0)), _ = T(f, m, +y[t + 1], +y[t + 2], +y[t + 3], +p, +v, (a ? f : 0) + 1 * c, (a ? m : 0) + 1 * d), t += i, _) for (i = 0; i < _.length; i++)o.push(_[i]); f = o[o.length - 2], m = o[o.length - 1] } else console.log($); return (t = o.length) < 6 ? (g.pop(), t = 0) : o[0] === o[t - 2] && o[1] === o[t - 1] && (o.closed = !0), g.totalPoints = D + t, g } function E (e) { A(e[0]) && (e = [e]); var t, i, n, s, r = "", a = e.length; for (i = 0; i < a; i++) { for (s = e[i], r += "M" + P(s[0]) + "," + P(s[1]) + " C", t = s.length, n = 2; n < t; n++)r += P(s[n++]) + "," + P(s[n++]) + " " + P(s[n++]) + "," + P(s[n++]) + " " + P(s[n++]) + "," + P(s[n]) + " "; s.closed && (r += "z") } return r } var I, j, R = function () { return I || "undefined" != typeof window && (I = window.gsap) && I.registerPlugin && I }, z = function () { (I = R()) ? (I.registerEase("_CE", H.create), j = 1) : console.warn("Please gsap.registerPlugin(CustomEase)") }, L = function (e) { return ~~(1e3 * e + (e < 0 ? -.5 : .5)) / 1e3 }, N = /[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi, B = /[cLlsSaAhHvVtTqQ]/g, M = function e (t, i, n, s, r, a, o, l, u, c, d) { var _, h = (t + n) / 2, p = (i + s) / 2, v = (n + r) / 2, y = (s + a) / 2, g = (r + o) / 2, f = (a + l) / 2, m = (h + v) / 2, b = (p + y) / 2, D = (v + g) / 2, $ = (y + f) / 2, S = (m + D) / 2, w = (b + $) / 2, k = o - t, x = l - i, C = Math.abs((n - o) * x - (s - l) * k), q = Math.abs((r - o) * x - (a - l) * k); return c || (c = [{ x: t, y: i }, { x: o, y: l }], d = 1), c.splice(d || c.length - 1, 0, { x: S, y: w }), (C + q) * (C + q) > u * (k * k + x * x) && (_ = c.length, e(t, i, h, p, m, b, S, w, u, c, d), e(S, w, D, $, g, f, o, l, u, c, d + 1 + (c.length - _))), c }, H = function () { function e (e, t, i) { j || z(), this.id = e, this.setData(t, i) } var t = e.prototype; return t.setData = function (e, t) { t = t || {}; var i, n, s, r, a, o, l, u, c, d = (e = e || "0,0,1,1").match(N), _ = 1, h = [], p = [], v = t.precision || 1, y = v <= 1; if (this.data = e, (B.test(e) || ~e.indexOf("M") && e.indexOf("C") < 0) && (d = F(e)[0]), 4 === (i = d.length)) d.unshift(0, 0), d.push(1, 1), i = 8; else if ((i - 2) % 6) throw "Invalid CustomEase"; for (0 == +d[0] && 1 == +d[i - 2] || function (e, t, i) { i || 0 === i || (i = Math.max(+e[e.length - 1], +e[1])); var n, s = -1 * +e[0], r = -i, a = e.length, o = 1 / (+e[a - 2] + s), l = -t || (Math.abs(+e[a - 1] - +e[1]) < .01 * (+e[a - 2] - +e[0]) ? function (e) { var t, i = e.length, n = 1e20; for (t = 1; t < i; t += 6)+e[t] < n && (n = +e[t]); return n }(e) + r : +e[a - 1] + r); for (l = l ? 1 / l : -o, n = 0; n < a; n += 2)e[n] = (+e[n] + s) * o, e[n + 1] = (+e[n + 1] + r) * l }(d, t.height, t.originY), this.segment = d, r = 2; r < i; r += 6)n = { x: +d[r - 2], y: +d[r - 1] }, s = { x: +d[r + 4], y: +d[r + 5] }, h.push(n, s), M(n.x, n.y, +d[r], +d[r + 1], +d[r + 2], +d[r + 3], s.x, s.y, 1 / (2e5 * v), h, h.length - 1); for (i = h.length, r = 0; r < i; r++)l = h[r], u = h[r - 1] || l, l.x > u.x || u.y !== l.y && u.x === l.x || l === u ? (u.cx = l.x - u.x, u.cy = l.y - u.y, u.n = l, u.nx = l.x, y && r > 1 && Math.abs(u.cy / u.cx - h[r - 2].cy / h[r - 2].cx) > 2 && (y = 0), u.cx < _ && (u.cx ? _ = u.cx : (u.cx = .001, r === i - 1 && (u.x -= .001, _ = Math.min(_, .001), y = 0)))) : (h.splice(r--, 1), i--); if (a = 1 / (i = 1 / _ + 1 | 0), o = 0, l = h[0], y) { for (r = 0; r < i; r++)c = r * a, l.nx < c && (l = h[++o]), n = l.y + (c - l.x) / l.cx * l.cy, p[r] = { x: c, cx: a, y: n, cy: 0, nx: 9 }, r && (p[r - 1].cy = n - p[r - 1].y); p[i - 1].cy = h[h.length - 1].y - n } else { for (r = 0; r < i; r++)l.nx < r * a && (l = h[++o]), p[r] = l; o < h.length - 1 && (p[r - 1] = h[h.length - 2]) } return this.ease = function (e) { var t = p[e * i | 0] || p[i - 1]; return t.nx < e && (t = t.n), t.y + (e - t.x) / t.cx * t.cy }, this.ease.custom = this, this.id && I.registerEase(this.id, this.ease), this }, t.getSVGData = function (t) { return e.getSVGData(this, t) }, e.create = function (t, i, n) { return new e(t, i, n).ease }, e.register = function (e) { I = e, z() }, e.get = function (e) { return I.parseEase(e) }, e.getSVGData = function (t, i) { var n, s, r, a, o, l, u, c, d, _, h = (i = i || {}).width || 100, p = i.height || 100, v = i.x || 0, y = (i.y || 0) + p, g = I.utils.toArray(i.path)[0]; if (i.invert && (p = -p, y = 0), "string" == typeof t && (t = I.parseEase(t)), t.custom && (t = t.custom), t instanceof e) n = E(function (e, t, i, n, s, r, a) { for (var o, l, u, c, d, _ = e.length; --_ > -1;)for (l = (o = e[_]).length, u = 0; u < l; u += 2)c = o[u], d = o[u + 1], o[u] = c * t + d * n + r, o[u + 1] = c * i + d * s + a; return e._dirty = 1, e }([t.segment], h, 0, 0, -p, v, y)); else { for (n = [v, y], a = 1 / (u = Math.max(5, 200 * (i.precision || 1))), c = 5 / (u += 2), d = L(v + a * h), s = ((_ = L(y + t(a) * -p)) - y) / (d - v), r = 2; r < u; r++)o = L(v + r * a * h), l = L(y + t(r * a) * -p), (Math.abs((l - _) / (o - d) - s) > c || r === u - 1) && (n.push(d, _), s = (l - _) / (o - d)), d = o, _ = l; n = "M" + n.join(",") } return g && g.setAttribute("d", n), n }, e }(); R() && I.registerPlugin(H), H.version = "3.0.4"; var V = i(2), Y = i(20); function U (e) { return (U = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function G (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var W = function () { }, X = (document.querySelector("html"), ["before", "preloadHide", "show", "after"]), Q = 1, Z = 2, K = 3, J = 4, ee = function () { function e (t) { var i = this; if (function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), "object" !== U(t) || !t.eventHub || !t.store || !t.routes) throw new Error("The router needs options, event hub, store and routes."); this.eventHub = t.eventHub, this.store = t.store, this._routes = t.routes, this.currentRoute = { index: null, params: {} }, this._routesRegexp = this._createRegxp(), this._base = t.base && "" !== t.base ? this._normalize(t.base) : "", this._onSameRoute = t.onSameRoute || W, this._allowSectionUpdate = !0 === t.allowSectionUpdate, this._updateSection = !1, this.currentSection = null, this.newSection = null, this._guards = {}, X.forEach((function (e) { i._guards[e] = [] })), this._preloader = new V, this._secondaryPreloader = new V, this._sectionLeft = !1, this._sectionPreloaded = !1, this._titleBase = t.titleBase || "", this._titleSeparator = t.titleSeparator || "", this._allowNavigation = !1 !== t.allowNavigation, this.clickLink = function (e, t, n) { if (!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey || e.defaultPrevented || void 0 !== e.button && 0 !== e.button || n.target)) { var s = n.pathname; e.preventDefault(), i.go(s) } }, this._onpopstate = function (e) { null !== i.currentSection && i._handle(window.location.pathname, J) }, this._guards.before.push((function (e, t, n, s) { i._allowNavigation = !1, i._allowSectionUpdate && i.currentRoute.index === t && (i._updateSection = !1), s() })), this._guards.preloadHide.push((function (e, t, n, s) { if (i._updateSection) i.currentSection.routeChanged(s, n); else { i.newSection = new e.component(n, null === i.currentSection); var r = i.newSection.preloadItems(n); i._preloadItems(i._preloader, r.main, (function () { i._sectionPreloaded = !0, i._checkSection(s) })), i._preloadItems(i._secondaryPreloader, r.secondary), null !== i.currentSection ? i.currentSection.destroy((function () { i._sectionLeft = !0, i._checkSection(s) })) : (i._sectionLeft = !0, i._checkSection(s)) } })), this._guards.show.push((function (e, t, n, s) { e.title && "" !== e.title && (document.title = (i._titleBase + " " + i._titleSeparator + " " + e.title).trim()), i._updateSection ? s() : i.newSection.render(s, n, null === i.currentSection) })), this._guards.after.push((function (e, t, n, s) { i._updateSection ? i._updateSection = !1 : (i.currentSection = i.newSection, i.newSection = null), i.currentRoute.index = t, i.currentRoute.params = n, i._allowNavigation = !0, s() })), window.addEventListener("popstate", this._onpopstate, !1) } var t, i, n; return t = e, (i = [{ key: "_createRegxp", value: function () { for (var e = [], t = 0; t < this._routes.length; t++) { var i = [], n = Object(Y.a)(this._routes[t].path, i); e.push({ regex: n, keys: i }) } return e } }, { key: "_normalize", value: function (e) { return e.length > 0 && "/" !== e[0] && (e = "/" + e), e.length > 1 && "/" === e[e.length - 1] && (e = e.slice(0, -1)), e } }, { key: "_removeBase", value: function (e) { return 0 === e.indexOf(this._base) && (e = e.substr(this._base.length), e = this._normalize(e)), e } }, { key: "_checkSection", value: function (e) { this._sectionLeft && this._sectionPreloaded && (this._sectionLeft = !1, this._sectionPreloaded = !1, e()) } }, { key: "_preloadItems", value: function (e, t, i) { if (t && 0 !== t.length) { e.reset(), e.onComplete.detachAll(); for (var n = 0; n < t.length; n++)e.resources[t[n]] || e.add(t[n]); i && e.onComplete.once(i), e.load() } else i && i() } }, { key: "_handle", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "/", t = arguments.length > 1 ? arguments[1] : void 0; e = this._normalize(e), e = "" !== this._base ? this._removeBase(e) : e; var i = this._checkPath(e); if (!1 !== i) { if (t !== J) { var n = "" === this._base ? e : "/" === e ? this._base : this._base + e; t === Q ? history.pushState({ path: n }, null, n) : history.replaceState({ path: n }, null, n) } t !== Z && this._proccessGuards(i) } } }, { key: "_checkPath", value: function (e) { var t = this; if (!1 === this._allowNavigation) return !1; var i, n = null; for (i = 0; i < this._routesRegexp.length && null === (n = this._routesRegexp[i].regex.exec(e)); i++); if (null === n) return setTimeout((function () { t.redirect("/") }), 0), !1; for (var s = {}, r = 1, a = n.length; r < a; ++r) { var o = this._routesRegexp[i].keys[r - 1], l = "string" == typeof n[r] ? decodeURIComponent(n[r]) : n[r]; o && (s[o.name] = l) } return this.currentRoute.index === i && JSON.stringify(this.currentRoute.params) === JSON.stringify(s) ? (this._onSameRoute(this.currentRoute), !1) : { index: i, params: s } } }, { key: "_proccessGuards", value: function (e) { var t = this, i = X.length, n = this._guards[X[0]].length, s = 0, r = 0; !function a () { r === n && (r = 0, (s += 1) < i && (n = t._guards[X[s]].length)), s !== i && t._guards[X[s]][r++](t._routes[e.index], e.index, e.params, a) }() } }, { key: "addGuard", value: function (e, t) { this._guards[e] && this._guards[e].splice(this._guards[e].length - 1, 0, t) } }, { key: "init", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.pathname; this.redirect(e) } }, { key: "go", value: function (e) { this._handle(e, Q) } }, { key: "redirect", value: function (e) { this._handle(e, K) } }, { key: "replace", value: function (e) { this._handle(e, Z) } }]) && G(t.prototype, i), n && G(t, n), e }(), te = { main: null, rootUrl: null, appData: null, client: { browser: "", device: "", lang: "en", os: "", sizes: { width: window.innerWidth, height: window.innerHeight }, mousePosition: { x: window.innerWidth / 2, y: window.innerHeight / 2 } } }, ie = i(3), ne = { navigate: new ie, playHomeSlider: new ie, pauseHomeSlider: new ie }, se = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi, re = /(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi, ae = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi, oe = /(^[#\.][a-z]|[a-y][a-z])/i, le = Math.PI / 180, ue = (Math.PI, Math.sin), ce = Math.cos, de = Math.abs, _e = Math.sqrt, he = (Math.atan2, function (e) { return "string" == typeof e }), pe = function (e) { return "number" == typeof e }, ve = function (e) { return Math.round(1e5 * e) / 1e5 || 0 }; function ye (e) { var t, i = 0; for (e.reverse(); i < e.length; i += 2)t = e[i], e[i] = e[i + 1], e[i + 1] = t; e.reversed = !e.reversed } var ge = { rect: "rx,ry,x,y,width,height", circle: "r,cx,cy", ellipse: "rx,ry,cx,cy", line: "x1,x2,y1,y2" }; function fe (e, t) { var i, n, s, r, a, o, l, u, c, d, _, h, p, v, y, g, f, m, b, D, $, S, w = e.tagName.toLowerCase(), k = .552284749831; return "path" !== w && e.getBBox ? (o = function (e, t) { var i, n = document.createElementNS("http://www.w3.org/2000/svg", "path"), s = [].slice.call(e.attributes), r = s.length; for (t = "," + t + ","; --r > -1;)i = s[r].nodeName.toLowerCase(), t.indexOf("," + i + ",") < 0 && n.setAttributeNS(null, i, s[r].nodeValue); return n }(e, "x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"), S = function (e, t) { for (var i = t ? t.split(",") : [], n = {}, s = i.length; --s > -1;)n[i[s]] = +e.getAttribute(i[s]) || 0; return n }(e, ge[w]), "rect" === w ? (r = S.rx, a = S.ry, n = S.x, s = S.y, d = S.width - 2 * r, _ = S.height - 2 * a, i = r || a ? "M" + (g = (v = (p = n + r) + d) + r) + "," + (m = s + a) + " V" + (b = m + _) + " C" + [g, D = b + a * k, y = v + r * k, $ = b + a, v, $, v - (v - p) / 3, $, p + (v - p) / 3, $, p, $, h = n + r * (1 - k), $, n, D, n, b, n, b - (b - m) / 3, n, m + (b - m) / 3, n, m, n, f = s + a * (1 - k), h, s, p, s, p + (v - p) / 3, s, v - (v - p) / 3, s, v, s, y, s, g, f, g, m].join(",") + "z" : "M" + (n + d) + "," + s + " v" + _ + " h" + -d + " v" + -_ + " h" + d + "z") : "circle" === w || "ellipse" === w ? ("circle" === w ? u = (r = a = S.r) * k : (r = S.rx, u = (a = S.ry) * k), i = "M" + ((n = S.cx) + r) + "," + (s = S.cy) + " C" + [n + r, s + u, n + (l = r * k), s + a, n, s + a, n - l, s + a, n - r, s + u, n - r, s, n - r, s - u, n - l, s - a, n, s - a, n + l, s - a, n + r, s - u, n + r, s].join(",") + "z") : "line" === w ? i = "M" + S.x1 + "," + S.y1 + " L" + S.x2 + "," + S.y2 : "polyline" !== w && "polygon" !== w || (i = "M" + (n = (c = (e.getAttribute("points") + "").match(re) || []).shift()) + "," + (s = c.shift()) + " L" + c.join(","), "polygon" === w && (i += "," + n + "," + s + "z")), o.setAttribute("d", De(o._gsRawPath = be(i))), t && e.parentNode && (e.parentNode.insertBefore(o, e), e.parentNode.removeChild(e)), o) : e } function me (e, t, i, n, s, r, a, o, l) { if (e !== o || t !== l) { i = de(i), n = de(n); var u = s % 360 * le, c = ce(u), d = ue(u), _ = Math.PI, h = 2 * _, p = (e - o) / 2, v = (t - l) / 2, y = c * p + d * v, g = -d * p + c * v, f = y * y, m = g * g, b = f / (i * i) + m / (n * n); b > 1 && (i = _e(b) * i, n = _e(b) * n); var D = i * i, $ = n * n, S = (D * $ - D * m - $ * f) / (D * m + $ * f); S < 0 && (S = 0); var w = (r === a ? -1 : 1) * _e(S), k = w * (i * g / n), x = w * (-n * y / i), C = (e + o) / 2 + (c * k - d * x), q = (t + l) / 2 + (d * k + c * x), O = (y - k) / i, A = (g - x) / n, P = (-y - k) / i, T = (-g - x) / n, F = O * O + A * A, E = (A < 0 ? -1 : 1) * Math.acos(O / _e(F)), I = (O * T - A * P < 0 ? -1 : 1) * Math.acos((O * P + A * T) / _e(F * (P * P + T * T))); isNaN(I) && (I = _), !a && I > 0 ? I -= h : a && I < 0 && (I += h), E %= h, I %= h; var j, R = Math.ceil(de(I) / (h / 4)), z = [], L = I / R, N = 4 / 3 * ue(L / 2) / (1 + ce(L / 2)), B = c * i, M = d * i, H = d * -n, V = c * n; for (j = 0; j < R; j++)y = ce(s = E + j * L), g = ue(s), O = ce(s += L), A = ue(s), z.push(y - N * g, g + N * y, O + N * A, A - N * O, O, A); for (j = 0; j < z.length; j += 2)y = z[j], g = z[j + 1], z[j] = y * B + g * H + C, z[j + 1] = y * M + g * V + q; return z[j - 2] = o, z[j - 1] = l, z } } function be (e) { var t, i, n, s, r, a, o, l, u, c, d, _, h, p, v, y = (e + "").replace(ae, (function (e) { var t = +e; return t < 1e-4 && t > -1e-4 ? 0 : t })).match(se) || [], g = [], f = 0, m = 0, b = y.length, D = 0, $ = "ERROR: malformed path: " + e, S = function (e, t, i, n) { c = (i - e) / 3, d = (n - t) / 3, o.push(e + c, t + d, i - c, n - d, i, n) }; if (!e || !isNaN(y[0]) || isNaN(y[1])) return console.log($), g; for (t = 0; t < b; t++)if (h = r, isNaN(y[t]) ? a = (r = y[t].toUpperCase()) !== y[t] : t--, n = +y[t + 1], s = +y[t + 2], a && (n += f, s += m), t || (l = n, u = s), "M" === r) o && (o.length < 8 ? g.length -= 1 : D += o.length), f = l = n, m = u = s, o = [n, s], g.push(o), t += 2, r = "L"; else if ("C" === r) o || (o = [0, 0]), a || (f = m = 0), o.push(n, s, f + 1 * y[t + 3], m + 1 * y[t + 4], f += 1 * y[t + 5], m += 1 * y[t + 6]), t += 6; else if ("S" === r) c = f, d = m, "C" !== h && "S" !== h || (c += f - o[o.length - 4], d += m - o[o.length - 3]), a || (f = m = 0), o.push(c, d, n, s, f += 1 * y[t + 3], m += 1 * y[t + 4]), t += 4; else if ("Q" === r) c = f + 2 / 3 * (n - f), d = m + 2 / 3 * (s - m), a || (f = m = 0), f += 1 * y[t + 3], m += 1 * y[t + 4], o.push(c, d, f + 2 / 3 * (n - f), m + 2 / 3 * (s - m), f, m), t += 4; else if ("T" === r) c = f - o[o.length - 4], d = m - o[o.length - 3], o.push(f + c, m + d, n + 2 / 3 * (f + 1.5 * c - n), s + 2 / 3 * (m + 1.5 * d - s), f = n, m = s), t += 2; else if ("H" === r) S(f, m, f = n, m), t += 1; else if ("V" === r) S(f, m, f, m = n + (a ? m - f : 0)), t += 1; else if ("L" === r || "Z" === r) "Z" === r && (n = l, s = u, o.closed = !0), ("L" === r || de(f - n) > .5 || de(m - s) > .5) && (S(f, m, n, s), "L" === r && (t += 2)), f = n, m = s; else if ("A" === r) { if (p = y[t + 4], v = y[t + 5], c = y[t + 6], d = y[t + 7], i = 7, p.length > 1 && (p.length < 3 ? (d = c, c = v, i--) : (d = v, c = p.substr(2), i -= 2), v = p.charAt(1), p = p.charAt(0)), _ = me(f, m, +y[t + 1], +y[t + 2], +y[t + 3], +p, +v, (a ? f : 0) + 1 * c, (a ? m : 0) + 1 * d), t += i, _) for (i = 0; i < _.length; i++)o.push(_[i]); f = o[o.length - 2], m = o[o.length - 1] } else console.log($); return (t = o.length) < 6 ? (g.pop(), t = 0) : o[0] === o[t - 2] && o[1] === o[t - 1] && (o.closed = !0), g.totalPoints = D + t, g } function De (e) { pe(e[0]) && (e = [e]); var t, i, n, s, r = "", a = e.length; for (i = 0; i < a; i++) { for (s = e[i], r += "M" + ve(s[0]) + "," + ve(s[1]) + " C", t = s.length, n = 2; n < t; n++)r += ve(s[n++]) + "," + ve(s[n++]) + " " + ve(s[n++]) + "," + ve(s[n++]) + " " + ve(s[n++]) + "," + ve(s[n]) + " "; s.closed && (r += "z") } return r } function $e (e) { return ($e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var Se, we, ke, xe, Ce, qe = function () { return Se || "undefined" != typeof window && (Se = window.gsap) && Se.registerPlugin && Se }, Oe = Math.atan2, Ae = Math.cos, Pe = Math.sin, Te = Math.sqrt, Fe = Math.PI, Ee = 2 * Fe, Ie = .3 * Fe, je = .7 * Fe, Re = /[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi, ze = /(^[#\.][a-z]|[a-y][a-z])/gi, Le = /[achlmqstvz]/gi, Ne = function (e) { return console && console.warn(e) }, Be = function (e) { var t, i = e.length, n = 0, s = 0; for (t = 0; t < i; t++)n += e[t++], s += e[t]; return [n / (i / 2), s / (i / 2)] }, Me = function (e) { var t, i, n, s = e.length, r = e[0], a = r, o = e[1], l = o; for (n = 6; n < s; n += 6)(t = e[n]) > r ? r = t : t < a && (a = t), (i = e[n + 1]) > o ? o = i : i < l && (l = i); return e.centerX = (r + a) / 2, e.centerY = (o + l) / 2, e.size = (r - a) * (o - l) }, He = function (e, t) { void 0 === t && (t = 3); for (var i, n, s, r, a, o, l, u, c, d, _, h, p, v, y, g, f = e.length, m = e[0][0], b = m, D = e[0][1], $ = D, S = 1 / t; --f > -1;)for (i = (a = e[f]).length, r = 6; r < i; r += 6)for (c = a[r], d = a[r + 1], _ = a[r + 2] - c, v = a[r + 3] - d, h = a[r + 4] - c, y = a[r + 5] - d, p = a[r + 6] - c, g = a[r + 7] - d, o = t; --o > -1;)(n = ((l = S * o) * l * p + 3 * (u = 1 - l) * (l * h + u * _)) * l + c) > m ? m = n : n < b && (b = n), (s = (l * l * g + 3 * u * (l * y + u * v)) * l + d) > D ? D = s : s < $ && ($ = s); return e.centerX = (m + b) / 2, e.centerY = (D + $) / 2, e.left = b, e.width = m - b, e.top = $, e.height = D - $, e.size = (m - b) * (D - $) }, Ve = function (e, t) { return t.length - e.length }, Ye = function (e, t) { var i = e.size || Me(e), n = t.size || Me(t); return Math.abs(n - i) < (i + n) / 20 ? t.centerX - e.centerX || t.centerY - e.centerY : n - i }, Ue = function (e, t) { var i, n, s = e.slice(0), r = e.length, a = r - 2; for (t |= 0, i = 0; i < r; i++)n = (i + t) % a, e[i++] = s[n], e[i] = s[n + 1] }, Ge = function (e, t, i, n, s) { var r, a, o, l, u = e.length, c = 0, d = u - 2; for (i *= 6, a = 0; a < u; a += 6)l = e[r = (a + i) % d] - (t[a] - n), o = e[r + 1] - (t[a + 1] - s), c += Te(o * o + l * l); return c }, We = function (e, t, i) { var n, s, r, a = e.length, o = Be(e), l = Be(t), u = l[0] - o[0], c = l[1] - o[1], d = Ge(e, t, 0, u, c), _ = 0; for (r = 6; r < a; r += 6)(s = Ge(e, t, r / 6, u, c)) < d && (d = s, _ = r); if (i) for (ye(n = e.slice(0)), r = 6; r < a; r += 6)(s = Ge(n, t, r / 6, u, c)) < d && (d = s, _ = -r); return _ / 6 }, Xe = function (e, t, i) { for (var n, s, r, a, o, l, u = e.length, c = 1e20, d = 0, _ = 0; --u > -1;)for (l = (n = e[u]).length, o = 0; o < l; o += 6)s = n[o] - t, r = n[o + 1] - i, (a = Te(s * s + r * r)) < c && (c = a, d = n[o], _ = n[o + 1]); return [d, _] }, Qe = function (e, t, i, n, s, r) { var a, o, l, u, c = t.length, d = 0, _ = Math.min(e.size || Me(e), t[i].size || Me(t[i])) * n, h = 1e20, p = e.centerX + s, v = e.centerY + r; for (a = i; a < c && !((t[a].size || Me(t[a])) < _); a++)o = t[a].centerX - p, l = t[a].centerY - v, (u = Te(o * o + l * l)) < h && (d = a, h = u); return u = t[d], t.splice(d, 1), u }, Ze = function (e, t) { var i, n, s, r, a, o, l, u, c, d, _, h, p, v, y = 0, g = e.length, f = t / ((g - 2) / 6); for (p = 2; p < g; p += 6)for (y += f; y > .999999;)i = e[p - 2], n = e[p - 1], s = e[p], r = e[p + 1], a = e[p + 2], o = e[p + 3], l = e[p + 4], u = e[p + 5], c = i + (s - i) * (v = 1 / ((Math.floor(y) || 1) + 1)), c += ((_ = s + (a - s) * v) - c) * v, _ += (a + (l - a) * v - _) * v, d = n + (r - n) * v, d += ((h = r + (o - r) * v) - d) * v, h += (o + (u - o) * v - h) * v, e.splice(p, 4, i + (s - i) * v, n + (r - n) * v, c, d, c + (_ - c) * v, d + (h - d) * v, _, h, a + (l - a) * v, o + (u - o) * v), p += 6, g += 6, y--; return e }, Ke = function (e, t, i, n, s) { var r, a, o, l, u, c, d, _ = t.length - e.length, h = _ > 0 ? t : e, p = _ > 0 ? e : t, v = 0, y = "complexity" === n ? Ve : Ye, g = "position" === n ? 0 : "number" == typeof n ? n : .8, f = p.length, m = "object" === $e(i) && i.push ? i.slice(0) : [i], b = "reverse" === m[0] || m[0] < 0, D = "log" === i; if (p[0]) { if (h.length > 1 && (e.sort(y), t.sort(y), h.size || He(h), p.size || He(p), c = h.centerX - p.centerX, d = h.centerY - p.centerY, y === Ye)) for (f = 0; f < p.length; f++)h.splice(f, 0, Qe(p[f], h, f, g, c, d)); if (_) for (_ < 0 && (_ = -_), h[0].length > p[0].length && Ze(p[0], (h[0].length - p[0].length) / 6 | 0), f = p.length; v < _;)h[f].size || Me(h[f]), l = (o = Xe(p, h[f].centerX, h[f].centerY))[0], u = o[1], p[f++] = [l, u, l, u, l, u, l, u], p.totalPoints += 8, v++; for (f = 0; f < e.length; f++)r = t[f], a = e[f], (_ = r.length - a.length) < 0 ? Ze(r, -_ / 6 | 0) : _ > 0 && Ze(a, _ / 6 | 0), b && !1 !== s && !a.reversed && ye(a), (i = m[f] || 0 === m[f] ? m[f] : "auto") && (a.closed || Math.abs(a[0] - a[a.length - 2]) < .5 && Math.abs(a[1] - a[a.length - 1]) < .5 ? "auto" === i || "log" === i ? (m[f] = i = We(a, r, !f || !1 === s), i < 0 && (b = !0, ye(a), i = -i), Ue(a, 6 * i)) : "reverse" !== i && (f && i < 0 && ye(a), Ue(a, 6 * (i < 0 ? -i : i))) : !b && ("auto" === i && Math.abs(r[0] - a[0]) + Math.abs(r[1] - a[1]) + Math.abs(r[r.length - 2] - a[a.length - 2]) + Math.abs(r[r.length - 1] - a[a.length - 1]) > Math.abs(r[0] - a[a.length - 2]) + Math.abs(r[1] - a[a.length - 1]) + Math.abs(r[r.length - 2] - a[0]) + Math.abs(r[r.length - 1] - a[1]) || i % 2) ? (ye(a), m[f] = -1, b = !0) : "auto" === i ? m[f] = 0 : "reverse" === i && (m[f] = -1), a.closed !== r.closed && (a.closed = r.closed = !1)); return D && Ne("shapeIndex:[" + m.join(",") + "]"), e.shapeIndex = m, m } }, Je = function (e, t) { var i, n, s, r, a, o, l, u = 0, c = parseFloat(e[0]), d = parseFloat(e[1]), _ = c + "," + d + " "; for (i = .5 * t / (.5 * (s = e.length) - 1), n = 0; n < s - 2; n += 2) { if (u += i, o = parseFloat(e[n + 2]), l = parseFloat(e[n + 3]), u > .999999) for (a = 1 / (Math.floor(u) + 1), r = 1; u > .999999;)_ += (c + (o - c) * a * r).toFixed(2) + "," + (d + (l - d) * a * r).toFixed(2) + " ", u--, r++; _ += o + "," + l + " ", c = o, d = l } return _ }, et = function (e) { var t = e[0].match(Re) || [], i = e[1].match(Re) || [], n = i.length - t.length; n > 0 ? e[0] = Je(t, n) : e[1] = Je(i, -n) }, tt = function (e) { return isNaN(e) ? et : function (t) { et(t), t[1] = function (e, t) { if (!t) return e; var i, n, s, r = e.match(Re) || [], a = r.length, o = ""; for ("reverse" === t ? (n = a - 1, i = -2) : (n = (2 * (parseInt(t, 10) || 0) + 1 + 100 * a) % a, i = 2), s = 0; s < a; s += 2)o += r[n - 1] + "," + r[n] + " ", n = (n + i) % a; return o }(t[1], parseInt(e, 10)) } }, it = function (e, t) { for (var i, n, s, r, a, o, l, u, c, d, _, h, p = e.length, v = .2 * (t || 1); --p > -1;) { for (_ = (n = e[p]).isSmooth = n.isSmooth || [0, 0, 0, 0], h = n.smoothData = n.smoothData || [0, 0, 0, 0], _.length = 4, u = n.length - 2, l = 6; l < u; l += 6)s = n[l] - n[l - 2], r = n[l + 1] - n[l - 1], a = n[l + 2] - n[l], o = n[l + 3] - n[l + 1], c = Oe(r, s), d = Oe(o, a), (i = Math.abs(c - d) < v) && (h[l - 2] = c, h[l + 2] = d, h[l - 1] = Te(s * s + r * r), h[l + 3] = Te(a * a + o * o)), _.push(i, i, 0, 0, i, i); n[u] === n[0] && n[u + 1] === n[1] && (s = n[0] - n[u - 2], r = n[1] - n[u - 1], a = n[2] - n[0], o = n[3] - n[1], c = Oe(r, s), d = Oe(o, a), Math.abs(c - d) < v && (h[u - 2] = c, h[2] = d, h[u - 1] = Te(s * s + r * r), h[3] = Te(a * a + o * o), _[u - 2] = _[u - 1] = !0)) } return e }, nt = function (e) { var t = e.trim().split(" "); return { x: (~e.indexOf("left") ? 0 : ~e.indexOf("right") ? 100 : isNaN(parseFloat(t[0])) ? 50 : parseFloat(t[0])) / 100, y: (~e.indexOf("top") ? 0 : ~e.indexOf("bottom") ? 100 : isNaN(parseFloat(t[1])) ? 50 : parseFloat(t[1])) / 100 } }, st = "Use MorphSVGPlugin.convertToPath() to convert to a path before morphing.", rt = function (e, t, i, n) { var s, r, a, o = this._origin, l = this._eOrigin, u = e[i] - o.x, c = e[i + 1] - o.y, d = Te(u * u + c * c), _ = Oe(c, u); return u = t[i] - l.x, c = t[i + 1] - l.y, s = Oe(c, u) - _, r = (a = s) !== a % Fe ? a + (a < 0 ? Ee : -Ee) : a, !n && ke && Math.abs(r + ke.ca) < Ie && (n = ke), this._anchorPT = ke = { _next: this._anchorPT, t: e, sa: _, ca: n && r * n.ca < 0 && Math.abs(r) > je ? s : r, sl: d, cl: Te(u * u + c * c) - d, i: i } }, at = function (e) { Se = qe(), Ce = Ce || Se && Se.plugins.morphSVG, Se && Ce ? (we = Se.utils.toArray, document, Ce.prototype._tweenRotation = rt, xe = 1) : e && Ne("Please gsap.registerPlugin(MorphSVGPlugin)") }, ot = { version: "3.2.6", name: "morphSVG", register: function (e, t) { Se = e, Ce = t, at() }, init: function (e, t, i, n, s) { var r, a, o, l, u, c, d, _, h, p, v, y, g, f, m, b, D, $, S, w, k, x, C = e.nodeType ? window.getComputedStyle(e) : {}, q = C.fill + "", O = !("none" === q || "0" === (q.match(Re) || [])[3] || "evenodd" === C.fillRule), A = (t.origin || "50 50").split(","); if (xe || at(1), u = "POLYLINE" === (r = (e.nodeName + "").toUpperCase()) || "POLYGON" === r, "PATH" !== r && !u && !t.prop) return Ne("Cannot morph a <" + r + "> element. " + st), !1; if (a = "PATH" === r ? "d" : "points", ("string" == typeof t || t.getBBox || t[0]) && (t = { shape: t }), !t.prop && "function" != typeof e.setAttribute) return !1; if (l = function (e, t, i) { var n, s; return (!("string" == typeof e) || ze.test(e) || (e.match(Re) || []).length < 3) && ((n = we(e)[0]) ? (s = (n.nodeName + "").toUpperCase(), t && "PATH" !== s && (n = fe(n, !1), s = "PATH"), e = n.getAttribute("PATH" === s ? "d" : "points") || "", n === i && (e = n.getAttributeNS(null, "data-original") || e)) : (Ne("WARNING: invalid morph to: " + e), e = !1)), e }(t.shape || t.d || t.points || "", "d" === a, e), u && Le.test(l)) return Ne("A <" + r + "> cannot accept path data. " + st), !1; if (c = t.shapeIndex || 0 === t.shapeIndex ? t.shapeIndex : "auto", d = t.map || ot.defaultMap, this._prop = t.prop, this._render = t.render || ot.defaultRender, this._apply = "updateTarget" in t ? t.updateTarget : ot.defaultUpdateTarget, this._rnd = Math.pow(10, isNaN(t.precision) ? 2 : +t.precision), this._tween = i, l) { if (this._target = e, D = "object" === $e(t.precompile), p = this._prop ? e[this._prop] : e.getAttribute(a), this._prop || e.getAttributeNS(null, "data-original") || e.setAttributeNS(null, "data-original", p), "d" === a || this._prop) { if (p = be(D ? t.precompile[0] : p), v = be(D ? t.precompile[1] : l), !D && !Ke(p, v, c, d, O)) return !1; for ("log" !== t.precompile && !0 !== t.precompile || Ne('precompile:["' + De(p) + '","' + De(v) + '"]'), (k = "linear" !== (t.type || ot.defaultType)) && (p = it(p, t.smoothTolerance), v = it(v, t.smoothTolerance), p.size || He(p), v.size || He(v), w = nt(A[0]), this._origin = p.origin = { x: p.left + w.x * p.width, y: p.top + w.y * p.height }, A[1] && (w = nt(A[1])), this._eOrigin = { x: v.left + w.x * v.width, y: v.top + w.y * v.height }), this._rawPath = e._gsRawPath = p, g = p.length; --g > -1;)for (m = p[g], b = v[g], _ = m.isSmooth || [], h = b.isSmooth || [], f = m.length, ke = 0, y = 0; y < f; y += 2)b[y] === m[y] && b[y + 1] === m[y + 1] || (k ? _[y] && h[y] ? ($ = m.smoothData, S = b.smoothData, x = y + (y === f - 4 ? 7 - f : 5), this._controlPT = { _next: this._controlPT, i: y, j: g, l1s: $[y + 1], l1c: S[y + 1] - $[y + 1], l2s: $[x], l2c: S[x] - $[x] }, o = this._tweenRotation(m, b, y + 2), this._tweenRotation(m, b, y, o), this._tweenRotation(m, b, x - 1, o), y += 4) : this._tweenRotation(m, b, y) : (o = this.add(m, y, m[y], b[y]), o = this.add(m, y + 1, m[y + 1], b[y + 1]) || o)) } else o = this.add(e, "setAttribute", e.getAttribute(a) + "", l + "", n, s, 0, tt(c), a); k && (this.add(this._origin, "x", this._origin.x, this._eOrigin.x), o = this.add(this._origin, "y", this._origin.y, this._eOrigin.y)), o && (this._props.push("morphSVG"), o.end = l, o.endProp = a) } return 1 }, render: function (e, t) { for (var i, n, s, r, a, o, l, u, c, d, _, h, p = t._rawPath, v = t._controlPT, y = t._anchorPT, g = t._rnd, f = t._target, m = t._pt; m;)m.r(e, m.d), m = m._next; if (1 === e && t._apply) for (m = t._pt; m;)m.end && (t._prop ? f[t._prop] = m.end : f.setAttribute(m.endProp, m.end)), m = m._next; else if (p) { for (; y;)a = y.sa + e * y.ca, r = y.sl + e * y.cl, y.t[y.i] = t._origin.x + Ae(a) * r, y.t[y.i + 1] = t._origin.y + Pe(a) * r, y = y._next; for (n = e < .5 ? 2 * e * e : (4 - 2 * e) * e - 1; v;)h = (o = v.i) + (o === (s = p[v.j]).length - 4 ? 7 - s.length : 5), a = Oe(s[h] - s[o + 1], s[h - 1] - s[o]), d = Pe(a), _ = Ae(a), u = s[o + 2], c = s[o + 3], r = v.l1s + n * v.l1c, s[o] = u - _ * r, s[o + 1] = c - d * r, r = v.l2s + n * v.l2c, s[h - 1] = u + _ * r, s[h] = c + d * r, v = v._next; if (f._gsRawPath = p, t._apply) { for (i = "", " ", l = 0; l < p.length; l++)for (r = (s = p[l]).length, i += "M" + (s[0] * g | 0) / g + " " + (s[1] * g | 0) / g + " C", o = 2; o < r; o++)i += (s[o] * g | 0) / g + " "; t._prop ? f[t._prop] = i : f.setAttribute("d", i) } } t._render && p && t._render.call(t._tween, p, f) }, kill: function (e) { this._pt = this._rawPath = 0 }, getRawPath: function (e) { var t, i = (e = he(e) && oe.test(e) && document.querySelector(e) || e).getAttribute ? e : 0; return i && (e = e.getAttribute("d")) ? (i._gsPath || (i._gsPath = {}), (t = i._gsPath[e]) && !t._dirty ? t : i._gsPath[e] = be(e)) : e ? he(e) ? be(e) : pe(e[0]) ? [e] : e : console.warn("Expecting a <path> element or an SVG path data string") }, stringToRawPath: be, rawPathToString: De, pathFilter: function (e, t, i, n, s) { var r = be(e[0]), a = be(e[1]); Ke(r, a, t || 0 === t ? t : "auto", i, s) && (e[0] = De(r), e[1] = De(a), "log" !== n && !0 !== n || Ne('precompile:["' + e[0] + '","' + e[1] + '"]')) }, pointsFilter: et, getTotalSize: He, equalizeSegmentQuantity: Ke, convertToPath: function (e, t) { return we(e).map((function (e) { return fe(e, !1 !== t) })) }, defaultType: "linear", defaultUpdateTarget: !0, defaultMap: "size" }; qe() && Se.registerPlugin(ot); var lt = i(21), ut = i.n(lt); i(28); function ct (e) { return (ct = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function dt (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _t (e, t) { return !t || "object" !== ct(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function ht () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function pt (e) { return (pt = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function vt (e, t) { return (vt = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } $.a.registerPlugin(ot); var yt = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && vt(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = pt(t); if (ht()) { var n = pt(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return _t(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: ut.a, templateData: { data: te.appData.options, options: te.appData.options }, insertPosition: "AFTER", insertReference: te.main, initialRenderDelay: 0 })).isOpened = !1, t.isLocked = !1, t.isAnimating = !1, t.isCursorViewing = !1, t.isLogoCompress = !1, t.isLogoVisible = !0, t.showSplash = null === t.router.lastNavigation && "/" === window.location.pathname, t } return i = a, (n = [{ key: "selectors", value: function () { this.$logo = document.getElementById("logo"), this.$menu = document.getElementById("menu"), this.$cursor = document.getElementById("cursor"), this.$opener = this.$menu.querySelector(".opener"), this.$closer = this.$menu.querySelector(".closer"), this.$background = this.$menu.querySelector(".background"), this.$maskH = this.$menu.querySelector(".maskh"), this.$maskV = this.$menu.querySelector(".maskv"), this.$inner = this.$menu.querySelector(".inner"), this.$innerMain = this.$inner.querySelector(".main"), this.$innerMainItems = this.$innerMain.querySelectorAll("li"), this.$innerSecondary = this.$inner.querySelector(".secondary"), this.$innerSocial = this.$inner.querySelector(".secondary"), this.$innerCopyright = this.$inner.querySelector(".copyright") } }, { key: "setup", value: function (e) { var t = this; this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.fromTo(this.$logo, { opacity: "0.0001", transition: "none" }, { opacity: 1, duration: .8, ease: "power.out", clearProps: "all" }, this.showSplash ? 3.2 : 0), this.enterAnimation.fromTo(this.$opener.children[0], { opacity: "0.0001", transition: "none" }, { opacity: 1, duration: .8, ease: "power.out", clearProps: "all" }, this.showSplash ? 3.2 : 0), this.enterAnimation.fromTo(this.$opener.children[1], { opacity: "0.0001", transition: "none" }, { opacity: 1, duration: .8, ease: "power.out", clearProps: "all" }, this.showSplash ? 3.2 : 0), this.events.add(this.$opener, "click", (function (e) { t.open(e) })), this.events.add(this.$background, "click", (function (e) { t.close(e) })), this.events.add(this.$closer, "click", (function (e) { t.close(e) })), this.$cursor && (this.events.add(document, "mousemove", (function (e) { t.cursorMove(e) })), this.events.add(document, "mousemove", (function (e, i, n) { t.mouseOver(e, i, n) }))); for (var i = 0; i < this.$innerMainItems.length; i++)this.events.add(this.$innerMainItems[i].children[0], "click", (function (e, i, n) { t.isLocked = !0 })), this.router.isDesktop && (this.events.add(this.$innerMainItems[i].children[0], "mouseenter", (function (e, i, n) { t.update(n.className.split(" ")[0]) })), this.events.add(this.$innerMainItems[i].children[0], "mouseleave", (function (e, i, n) { t.update(t.router.instance._routes[t.router.instance.currentRoute.index].category) }))) } }, { key: "cursorMove", value: function (e) { $.a.to(this.$cursor, { x: e.clientX, y: e.clientY, duration: .6, ease: "power4.out", overwrite: "all" }) } }, { key: "mouseOver", value: function (e, t, i) { if (null !== e.target.closest("a") && (e.target.closest("a").classList.contains("post") || e.target.closest("a").classList.contains("magazine") || e.target.closest("a").classList.contains("magazine__image") || e.target.closest("a").classList.contains("route") || e.target.closest("a").classList.contains("routelink") || e.target.closest("a").classList.contains("link"))) { var n = e.target.closest("a"); this.isCursorViewing || (this.isCursorViewing = !0, null !== n.getAttribute("alt") ? (this.$cursor.children[2].children[0].innerHTML = n.getAttribute("alt"), null !== n.getAttribute("color") ? $.a.set(this.$cursor.children[2], { backgroundColor: this.store.appData.options.texts[n.getAttribute("color")], x: 0, y: 0 }) : $.a.set(this.$cursor.children[2], { backgroundColor: this.store.appData.options.texts[n.href.split("/")[3]], x: 0, y: 0 }), $.a.to(this.$cursor.children[2], { scale: 1, duration: .8, ease: "expo.out" })) : (null !== n.getAttribute("color") ? $.a.set(this.$cursor.children[1], { backgroundColor: this.store.appData.options.texts[n.getAttribute("color")], x: 0, y: 0 }) : $.a.set(this.$cursor.children[1], { backgroundColor: this.store.appData.options.texts[n.href.split("/")[3]], x: 0, y: 0 }), $.a.to(this.$cursor.children[1], { scale: 1, duration: .8, ease: "expo.out" }))) } else if (null !== e.target.closest("a") && e.target.closest("a").classList.contains("share")) { var s = e.target.closest("a"); this.isCursorViewing || (this.isCursorViewing = !0, null !== s.getAttribute("alt") ? (this.$cursor.children[2].children[0].innerHTML = s.getAttribute("alt"), $.a.set(this.$cursor.children[2], { backgroundColor: this.store.appData.options.texts[window.location.href.split("/")[3]], x: 0, y: 0 }), $.a.to(this.$cursor.children[2], { scale: 1, duration: .8, ease: "expo.out" })) : ($.a.set(this.$cursor.children[1], { backgroundColor: this.store.appData.options.texts[window.location.href.split("/")[3]], x: 0, y: 0 }), $.a.to(this.$cursor.children[1], { scale: 1, duration: .8, ease: "expo.out" }))) } else this.isCursorViewing && (this.isCursorViewing = !1, $.a.to(this.$cursor.children[1], { scale: 0, duration: .8, ease: "expo.out" }), $.a.to(this.$cursor.children[2], { scale: 0, duration: .8, ease: "expo.out" })) } }, { key: "hideLogo", value: function () { this.isLogoVisible && (this.isLogoVisible = !1, $.a.to(this.$logo, { opacity: 1e-4, duration: .5, ease: "power2.out" })) } }, { key: "showLogo", value: function () { this.isLogoVisible || (this.isLogoVisible = !0, $.a.to(this.$logo, { opacity: 1, duration: .5, ease: "power2.out" })) } }, { key: "expand", value: function () { this.isLogoCompress && (this.isLogoCompress = !1, $.a.to(this.$logo.children[0].children[1].children, { x: "0%", duration: .6, ease: "expo.inOut" }), $.a.to(this.$logo.children[0].children[1], { x: "0%", duration: .6, ease: "expo.inOut" })) } }, { key: "compress", value: function () { this.isLogoCompress || (this.isLogoCompress = !0, $.a.to(this.$logo.children[0].children[1], { x: "-100%", duration: .7, ease: "expo.inOut" }), $.a.to(this.$logo.children[0].children[1].children, { x: "100%", duration: .7, ease: "expo.inOut" })) } }, { key: "open", value: function () { var e = this; this.isAnimating || (this.isAnimating = !0, this.eventHub.pauseHomeSlider.dispatch(), this.router.instance.currentSection && this.router.instance.currentSection.superScroller && (this.router.instance.currentSection.superScroller._scroll.enable = !1), $.a.set(this.$maskH, { display: "block" }), $.a.set(this.$maskH, { x: "100%", y: "0%" }), $.a.set(this.$background, { display: "block" }), $.a.set(this.$background, { opacity: 1e-4 }), $.a.set(this.$inner, { display: "block" }), $.a.set(this.$closer, { display: "block" }), this.router.isDesktop || $.a.to(this.$logo, { opacity: 1e-4, duration: .8, ease: "power2.out" }), this.router.isDesktop ? $.a.to(this.$maskH, { x: "70%", y: "0%", duration: 1.2, ease: "expo.inOut", delay: .01 }) : $.a.to(this.$maskH, { x: "0%", y: "0%", duration: 1.2, ease: "expo.inOut", delay: .01 }), this.router.isDesktop && ($.a.to(this.$maskH.children[1].querySelector("path"), { morphSVG: "M200,1000H100c0,0-100-201-100-500C0,216,100,0,100,0h100V1000z", duration: .6, ease: "power4.in", delay: 0 }), $.a.to(this.$maskH.children[1].querySelector("path"), { morphSVG: "M200,1000H100c0,0,0-201,0-500c0-284,0-500,0-500h100V1000z", duration: .6, ease: "power4.out", delay: .6 })), $.a.to(document.querySelector(this.router.isDesktop ? "#content" : "#content .inner"), { x: "-12.5%", duration: 1.2, ease: "expo.inOut", delay: 0 }), $.a.to(this.$background, { opacity: 1, duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$inner, { opacity: 1, duration: .8, ease: "power2.out", delay: .8 }), $.a.to(this.$closer, { opacity: 1, duration: .8, ease: "power2.out", delay: .8 }), $.a.delayedCall(1, (function () { e.isAnimating = !1, e.isOpened = !0, e.isLocked = !1 }))) } }, { key: "openFull", value: function () { var e = this; this.isAnimating || ($.a.set(document.body, { pointerEvents: "none", overflow: "hidden" }), $.a.set(document.querySelector("#content"), { willChange: "transform" }), this.isAnimating = !0, $.a.to(this.$closer, { opacity: 1e-4, duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$inner, { opacity: 1e-4, duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$maskH, { x: "0%", duration: 1, ease: "expo.in", delay: 0 }), this.router.isDesktop && ($.a.to(this.$maskH.children[1].querySelector("path"), { morphSVG: "M200,1000H100c0,0-100-201-100-500C0,216,100,0,100,0h100V1000z", duration: 1, ease: "power4.in", delay: 0 }), $.a.to(this.$maskH.children[1].querySelector("path"), { morphSVG: "M200,1000H100c0,0,0-201,0-500c0-284,0-500,0-500h100V1000z", duration: 1, ease: "power4.out", delay: 1 })), $.a.to(this.$maskH, { x: "-100%", duration: 1, ease: "expo.out", delay: 1 }), this.router.isDesktop && ($.a.to(this.$maskH.children[2].querySelector("path"), { morphSVG: "M0,1000h100c0,0-100-201-100-500C0,216,100,0,100,0H0V1000z", duration: 1.25, ease: "power4.in", delay: 0 }), $.a.to(this.$maskH.children[2].querySelector("path"), { morphSVG: "M0,1000h100c0,0,0-201,0-500c0-284,0-500,0-500H0V1000z", duration: .75, ease: "power4.out", delay: 1.25 })), $.a.to(document.querySelector(this.router.isDesktop ? "#content" : "#content .inner"), { x: "-25%", duration: 1, ease: "power4.in", delay: 0 }), $.a.set(document.querySelector(this.router.isDesktop ? "#content" : "#content .inner"), { x: "12.5%", delay: 1 }), $.a.set(this.$background, { opacity: 0, duration: 0, delay: 1 }), $.a.to(document.querySelector(this.router.isDesktop ? "#content" : "#content .inner"), { x: "0%", duration: 1, ease: "power4.out", delay: 1 }), this.router.isDesktop || $.a.to(this.$logo, { opacity: 1, duration: .8, ease: "power2.out", delay: .8 }), $.a.delayedCall(2, (function () { $.a.set(document.body, { clearProps: "all" }), $.a.set(document.querySelector("#content"), { clearProps: "all" }), $.a.set(e.$maskH, { display: "none", x: "100%" }), $.a.set(e.$background, { display: "none" }), $.a.set(e.$inner, { display: "none" }), $.a.set(e.$closer, { display: "none" }), e.isAnimating = !1, e.isOpened = !1, e.isLocked = !1 }))) } }, { key: "close", value: function () { var e = this; this.isAnimating || (this.isAnimating = !0, this.router.instance.currentSection && this.router.instance.currentSection.superScroller && (this.router.instance.currentSection.superScroller._scroll.enable = !0), this.router.isDesktop && ($.a.to(this.$maskH.children[1].querySelector("path"), { morphSVG: "M200,1000H100c0,0,100-201,100-500C200,216,100,0,100,0h100V1000z", duration: .5, ease: "power4.in", delay: 0 }), $.a.to(this.$maskH.children[1].querySelector("path"), { morphSVG: "M200,1000H100c0,0,0-201,0-500c0-284,0-500,0-500h100V1000z", duration: .5, ease: "power4.out", delay: .5 })), $.a.to(this.$maskH, { x: "100%", duration: 1, ease: "expo.inOut", delay: 0 }), $.a.to(document.querySelector(this.router.isDesktop ? "#content" : "#content .inner"), { x: "0%", duration: 1, ease: "expo.inOut", delay: 0 }), $.a.to(this.$closer, { opacity: 1e-4, duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$inner, { opacity: 1e-4, duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$background, { opacity: 1e-4, duration: .4, ease: "power2.out", delay: .4 }), this.router.isDesktop || $.a.to(this.$logo, { opacity: 1, duration: .8, ease: "power2.out", delay: .8 }), $.a.delayedCall(1.6, (function () { $.a.set(e.$maskH, { display: "none" }), $.a.set(e.$background, { display: "none" }), $.a.set(e.$inner, { display: "none" }), $.a.set(e.$closer, { display: "none" }), e.isAnimating = !1, e.isOpened = !1, e.isLocked = !1, e.eventHub.playHomeSlider.dispatch() }))) } }, { key: "update", value: function (e) { this.isLocked || (this.$cursor && $.a.to(this.$cursor.children[0], { backgroundColor: this.store.appData.options.texts[e], duration: .8, ease: "power2.out", delay: 0 }), this.router.isDesktop && $.a.to(this.$opener.children[0], { backgroundColor: this.store.appData.options.texts[e], duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$maskH.children[0], { backgroundColor: this.store.appData.options.sections[e], duration: .8, ease: "power2.out" }), this.router.isDesktop && ($.a.to(this.$maskH.children[1].querySelector("path"), { transition: "initial", fill: this.store.appData.options.sections[e], duration: .8, ease: "power2.out" }), $.a.to(this.$maskH.children[2].querySelector("path"), { transition: "initial", fill: this.store.appData.options.sections[e], duration: .8, ease: "power2.out" })), $.a.to(this.$maskV.children[0], { backgroundColor: this.store.appData.options.sections[e], duration: .8, ease: "power2.out" })) } }, { key: "pageTransition", value: function () { var e = this; this.isAnimating || (this.isAnimating = !0, this.eventHub.pauseHomeSlider.dispatch(), $.a.set(document.body, { pointerEvents: "none", overflow: "hidden" }), $.a.set(document.querySelector("#content"), { willChange: "transform" }), $.a.set(this.$maskV, { display: "block" }), $.a.set(this.$maskV, { y: "100%" }), $.a.set(this.$background, { display: "block" }), $.a.set(this.$background, { opacity: 1e-4 }), $.a.to(this.$background, { opacity: 1, duration: 1, ease: "power4.in", delay: 0 }), $.a.to(document.querySelector("#content"), { y: this.router.isDesktop ? "-25%" : "-25vh", duration: 1, ease: "power4.in", delay: 0 }), $.a.to(this.$maskV, { y: "0%", duration: 1, ease: "power4.in", delay: 0 }), $.a.set(this.$background, { display: "none", delay: 1 }), $.a.set(document.querySelector("#content"), { y: this.router.isDesktop ? "25%" : "25vh", delay: 1 }), $.a.to(document.querySelector("#content"), { y: this.router.isDesktop ? "0%" : "0vh", duration: 1, ease: "power4.out", delay: 1 }), $.a.to(this.$maskV, { y: "-100%", duration: 1, ease: "power4.out", delay: 1 }), $.a.delayedCall(2, (function () { $.a.set(document.body, { clearProps: "all" }), $.a.set(document.querySelector("#content"), { clearProps: "all" }), $.a.set(e.$maskV, { display: "none" }), $.a.set(e.$background, { display: "none" }), e.isAnimating = !1 }))) } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.$notice = document.querySelector("#notice"), this.router.isDesktop || (e > t ? $.a.set(this.$notice, { display: "block" }) : $.a.set(this.$notice, { display: "none" })) } }, { key: "leave", value: function (e) { $.a.to(this.$menu, .8, { opacity: 0, ease: "power2.inOut", onComplete: e }) } }]) && dt(i.prototype, n), s && dt(i, s), a }(d), gt = /([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/; function ft (e) { return (ft = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var mt, bt, Dt, $t = /(?:\r|\n|\t\t)/g, St = /(?:\s\s+)/g, wt = function (e) { return bt.getComputedStyle(e) }, kt = Array.isArray, xt = [].slice, Ct = function (e, t) { var i; return kt(e) ? e : "string" === (i = ft(e)) && !t && e ? xt.call(mt.querySelectorAll(e), 0) : e && "object" === i && "length" in e ? xt.call(e, 0) : e ? [e] : [] }, qt = function (e) { return "absolute" === e.position || !0 === e.absolute }, Ot = function (e, t) { for (var i, n = t.length; --n > -1;)if (i = t[n], e.substr(0, i.length) === i) return i.length }, At = function (e, t) { void 0 === e && (e = ""); var i = ~e.indexOf("++"), n = 1; return i && (e = e.split("++").join("")), function () { return "<" + t + " style='position:relative;display:inline-block;'" + (e ? " class='" + e + (i ? n++ : "") + "'>" : ">") } }, Pt = function e (t, i, n) { var s = t.nodeType; if (1 === s || 9 === s || 11 === s) for (t = t.firstChild; t; t = t.nextSibling)e(t, i, n); else 3 !== s && 4 !== s || (t.nodeValue = t.nodeValue.split(i).join(n)) }, Tt = function (e, t) { for (var i = t.length; --i > -1;)e.push(t[i]) }, Ft = function (e, t, i) { for (var n; e && e !== t;) { if (n = e._next || e.nextSibling) return n.textContent.charAt(0) === i; e = e.parentNode || e._parent } }, Et = function e (t) { var i, n, s = Ct(t.childNodes), r = s.length; for (i = 0; i < r; i++)(n = s[i])._isSplit ? e(n) : (i && 3 === n.previousSibling.nodeType ? n.previousSibling.nodeValue += 3 === n.nodeType ? n.nodeValue : n.firstChild.nodeValue : 3 !== n.nodeType && t.insertBefore(n.firstChild, n), t.removeChild(n)) }, It = function (e, t) { return parseFloat(t[e]) || 0 }, jt = function (e, t, i, n, s, r, a) { var o, l, u, c, d, _, h, p, v, y, g, f, m = wt(e), b = It("paddingLeft", m), D = -999, $ = It("borderBottomWidth", m) + It("borderTopWidth", m), S = It("borderLeftWidth", m) + It("borderRightWidth", m), w = It("paddingTop", m) + It("paddingBottom", m), k = It("paddingLeft", m) + It("paddingRight", m), x = .2 * It("fontSize", m), C = m.textAlign, q = [], O = [], A = [], P = t.wordDelimiter || " ", T = t.tag ? t.tag : t.span ? "span" : "div", F = t.type || t.split || "chars,words,lines", E = s && ~F.indexOf("lines") ? [] : null, I = ~F.indexOf("words"), j = ~F.indexOf("chars"), R = qt(t), z = t.linesClass, L = ~(z || "").indexOf("++"), N = []; for (L && (z = z.split("++").join("")), u = (l = e.getElementsByTagName("*")).length, d = [], o = 0; o < u; o++)d[o] = l[o]; if (E || R) for (o = 0; o < u; o++)((_ = (c = d[o]).parentNode === e) || R || j && !I) && (f = c.offsetTop, E && _ && Math.abs(f - D) > x && ("BR" !== c.nodeName || 0 === o) && (h = [], E.push(h), D = f), R && (c._x = c.offsetLeft, c._y = f, c._w = c.offsetWidth, c._h = c.offsetHeight), E && ((c._isSplit && _ || !j && _ || I && _ || !I && c.parentNode.parentNode === e && !c.parentNode._isSplit) && (h.push(c), c._x -= b, Ft(c, e, P) && (c._wordEnd = !0)), "BR" === c.nodeName && (c.nextSibling && "BR" === c.nextSibling.nodeName || 0 === o) && E.push([]))); for (o = 0; o < u; o++)_ = (c = d[o]).parentNode === e, "BR" !== c.nodeName ? (R && (v = c.style, I || _ || (c._x += c.parentNode._x, c._y += c.parentNode._y), v.left = c._x + "px", v.top = c._y + "px", v.position = "absolute", v.display = "block", v.width = c._w + 1 + "px", v.height = c._h + "px"), !I && j ? c._isSplit ? (c._next = c.nextSibling, c.parentNode.appendChild(c)) : c.parentNode._isSplit ? (c._parent = c.parentNode, !c.previousSibling && c.firstChild && (c.firstChild._isFirst = !0), c.nextSibling && " " === c.nextSibling.textContent && !c.nextSibling.nextSibling && N.push(c.nextSibling), c._next = c.nextSibling && c.nextSibling._isFirst ? null : c.nextSibling, c.parentNode.removeChild(c), d.splice(o--, 1), u--) : _ || (f = !c.nextSibling && Ft(c.parentNode, e, P), c.parentNode._parent && c.parentNode._parent.appendChild(c), f && c.parentNode.appendChild(mt.createTextNode(" ")), "span" === T && (c.style.display = "inline"), q.push(c)) : c.parentNode._isSplit && !c._isSplit && "" !== c.innerHTML ? O.push(c) : j && !c._isSplit && ("span" === T && (c.style.display = "inline"), q.push(c))) : E || R ? (c.parentNode && c.parentNode.removeChild(c), d.splice(o--, 1), u--) : I || e.appendChild(c); for (o = N.length; --o > -1;)N[o].parentNode.removeChild(N[o]); if (E) { for (R && (y = mt.createElement(T), e.appendChild(y), g = y.offsetWidth + "px", f = y.offsetParent === e ? 0 : e.offsetLeft, e.removeChild(y)), v = e.style.cssText, e.style.cssText = "display:none;"; e.firstChild;)e.removeChild(e.firstChild); for (p = " " === P && (!R || !I && !j), o = 0; o < E.length; o++) { for (h = E[o], (y = mt.createElement(T)).style.cssText = "display:block;text-align:" + C + ";position:" + (R ? "absolute;" : "relative;"), z && (y.className = z + (L ? o + 1 : "")), A.push(y), u = h.length, l = 0; l < u; l++)"BR" !== h[l].nodeName && (c = h[l], y.appendChild(c), p && c._wordEnd && y.appendChild(mt.createTextNode(" ")), R && (0 === l && (y.style.top = c._y + "px", y.style.left = b + f + "px"), c.style.top = "0px", f && (c.style.left = c._x - f + "px"))); 0 === u ? y.innerHTML = "&nbsp;" : I || j || (Et(y), Pt(y, String.fromCharCode(160), " ")), R && (y.style.width = g, y.style.height = c._h + "px"), e.appendChild(y) } e.style.cssText = v } R && (a > e.clientHeight && (e.style.height = a - w + "px", e.clientHeight < a && (e.style.height = a + $ + "px")), r > e.clientWidth && (e.style.width = r - k + "px", e.clientWidth < r && (e.style.width = r + S + "px"))), Tt(i, q), I && Tt(n, O), Tt(s, A) }, Rt = function (e, t, i, n) { var s, r, a, o, l, u, c, d, _ = t.tag ? t.tag : t.span ? "span" : "div", h = ~(t.type || t.split || "chars,words,lines").indexOf("chars"), p = qt(t), v = t.wordDelimiter || " ", y = " " !== v ? "" : p ? "&#173; " : " ", g = "</" + _ + ">", f = 1, m = t.specialChars ? "function" == typeof t.specialChars ? t.specialChars : Ot : null, b = mt.createElement("div"), D = e.parentNode; for (D.insertBefore(b, e), b.textContent = e.nodeValue, D.removeChild(e), c = -1 !== (s = function e (t) { var i = t.nodeType, n = ""; if (1 === i || 9 === i || 11 === i) { if ("string" == typeof t.textContent) return t.textContent; for (t = t.firstChild; t; t = t.nextSibling)n += e(t) } else if (3 === i || 4 === i) return t.nodeValue; return n }(e = b)).indexOf("<"), !1 !== t.reduceWhiteSpace && (s = s.replace(St, " ").replace($t, "")), c && (s = s.split("<").join("{{LT}}")), l = s.length, r = (" " === s.charAt(0) ? y : "") + i(), a = 0; a < l; a++)if (u = s.charAt(a), m && (d = m(s.substr(a), t.specialChars))) u = s.substr(a, d || 1), r += h && " " !== u ? n() + u + "</" + _ + ">" : u, a += d - 1; else if (u === v && s.charAt(a - 1) !== v && a) { for (r += f ? g : "", f = 0; s.charAt(a + 1) === v;)r += y, a++; a === l - 1 ? r += y : ")" !== s.charAt(a + 1) && (r += y + i(), f = 1) } else "{" === u && "{{LT}}" === s.substr(a, 6) ? (r += h ? n() + "{{LT}}</" + _ + ">" : "{{LT}}", a += 5) : u.charCodeAt(0) >= 55296 && u.charCodeAt(0) <= 56319 || s.charCodeAt(a + 1) >= 65024 && s.charCodeAt(a + 1) <= 65039 ? (o = ((s.substr(a, 12).split(gt) || [])[1] || "").length || 2, r += h && " " !== u ? n() + s.substr(a, o) + "</" + _ + ">" : s.substr(a, o), a += o - 1) : r += h && " " !== u ? n() + u + "</" + _ + ">" : u; e.outerHTML = r + (f ? g : ""), c && Pt(D, "{{LT}}", "<") }, zt = function e (t, i, n, s) { var r, a, o = Ct(t.childNodes), l = o.length, u = qt(i); if (3 !== t.nodeType || l > 1) { for (i.absolute = !1, r = 0; r < l; r++)(3 !== (a = o[r]).nodeType || /\S+/.test(a.nodeValue)) && (u && 3 !== a.nodeType && "inline" === wt(a).display && (a.style.display = "inline-block", a.style.position = "relative"), a._isSplit = !0, e(a, i, n, s)); return i.absolute = u, void (t._isSplit = !0) } Rt(t, i, n, s) }, Lt = function () { function e (e, t) { Dt || (mt = document, bt = window, Dt = 1), this.elements = Ct(e), this.chars = [], this.words = [], this.lines = [], this._originals = [], this.vars = t || {}, this.split(t) } var t = e.prototype; return t.split = function (e) { this.isSplit && this.revert(), this.vars = e = e || this.vars, this._originals.length = this.chars.length = this.words.length = this.lines.length = 0; for (var t, i, n, s = this.elements.length, r = e.tag ? e.tag : e.span ? "span" : "div", a = At(e.wordsClass, r), o = At(e.charsClass, r); --s > -1;)n = this.elements[s], this._originals[s] = n.innerHTML, t = n.clientHeight, i = n.clientWidth, zt(n, e, a, o), jt(n, e, this.chars, this.words, this.lines, i, t); return this.chars.reverse(), this.words.reverse(), this.lines.reverse(), this.isSplit = !0, this }, t.revert = function () { var e = this._originals; if (!e) throw "revert() call wasn't scoped properly."; return this.elements.forEach((function (t, i) { return t.innerHTML = e[i] })), this.chars = [], this.words = [], this.lines = [], this.isSplit = !1, this }, e.create = function (t, i) { return new e(t, i) }, e }(); Lt.version = "3.2.6"; var Nt = i(22), Bt = i.n(Nt); i(29); function Mt (e) { return (Mt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Ht (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Vt (e, t) { return !t || "object" !== Mt(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Yt () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Ut (e) { return (Ut = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Gt (e, t) { return (Gt = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Wt = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Gt(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Ut(t); if (Yt()) { var n = Ut(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Vt(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: Bt.a, templateData: { data: te.appData.options, options: te.appData.options }, insertPosition: "AFTER", insertReference: te.main, initialRenderDelay: 0 })).isTriggerColored = !1, t.isOpened = !1, t.isAnimating = !1, t.isTriggerVisible = !0, t.showSplash = null === t.router.lastNavigation && "/" === window.location.pathname, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = document.getElementById("search"), this.$mask = this.$el.querySelector(".mask"), this.$content = this.$el.querySelector(".content"), this.$contentTitle = this.$content.querySelector(".title"), this.$contentDescription = this.$content.querySelector(".description"), this.$form = this.$content.querySelector(".form"), this.$formInput = this.$form.querySelector(".input input"), this.$formOptions = this.$form.querySelectorAll(".options .checkbox"), this.$formOptionsInputs = this.$form.querySelectorAll('.options input[type="checkbox"]'), this.$results = this.$content.querySelector(".results"), this.$noresults = this.$content.querySelector(".noresults"), this.$trigger = this.$el.querySelector(".trigger"), this.$triggerEyes = this.$trigger.querySelectorAll(".eye"), this.$closer = this.$el.querySelector(".closer"), this.$reactive = this.$el.querySelector(".reactive"), this.$opener = document.querySelector(".opener") } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$contentTitle, { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), new Lt(this.$contentDescription, { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.set(this.$content, { display: "none" }, 0), this.enterAnimation.fromTo(this.$el, { opacity: "0.0001", transition: "none" }, { opacity: 1, duration: .8, ease: "power.out", clearProps: "all" }, this.showSplash ? 3.2 : 0), this.events.add(this.$trigger, "click", (function () { t.trigger() })), this.$closer && this.events.add(this.$closer, "click", (function () { t.close() })), this.events.add(this.$formInput, "input", (function (e, i, n) { t.search(e, i, n) })); for (var i = 0; i < this.$formOptions.length; ++i)this.events.add(this.$formOptions[i], "click", (function (e, i, n) { t.search(e, i, n) })); this.search() } }, { key: "search", value: function (e, t, i) { for (var n = this.$formInput.value, s = [], r = this.store.appData.articulos, a = this.store.appData.planes, o = this.store.appData.rutas, l = 0; l < this.$formOptionsInputs.length; ++l)this.$formOptionsInputs[l].checked && s.push(this.$formOptionsInputs[l].value); var u = []; if (0 === s.length ? u = u.concat(Object.values(r)).concat(Object.values(a)).concat(Object.values(o)) : (s.includes("revista") && (u = u.concat(Object.values(r))), s.includes("planes") && (u = u.concat(Object.values(a))), s.includes("rutas") && (u = u.concat(Object.values(o)))), "" !== n) for (var c = u.length - 1; c >= 0; c--)"revista" === u[c].type || "planes" === u[c].type ? u[c].title.toUpperCase().includes(n.toUpperCase()) || u[c].intro.toUpperCase().includes(n.toUpperCase()) || u.splice(c, 1) : u[c].title.toUpperCase().includes(n.toUpperCase()) || u[c].excerpt.toUpperCase().includes(n.toUpperCase()) || u.splice(c, 1); this.$results.querySelector("a span").innerHTML = u.length, 0 === s.length || s.length === this.$formOptionsInputs.length ? this.$results.querySelector("a").href = "/buscar/all/" + n.toLowerCase() : this.$results.querySelector("a").href = "/buscar/" + s.join("+") + "/" + n.toLowerCase() } }, { key: "trigger", value: function () { this.isAnimating || (this.isAnimating = !0, this.isOpened ? this.close() : this.open()) } }, { key: "colored", value: function () { this.isTriggerColored && (this.isTriggerColored = !1, this.$trigger.classList.add("colored")) } }, { key: "transparent", value: function () { this.isTriggerColored || (this.isTriggerColored = !0, this.$trigger.classList.remove("colored")) } }, { key: "hideTrigger", value: function () { this.isTriggerVisible && (this.isTriggerVisible = !1, $.a.to(this.$trigger, { opacity: 1e-4, duration: .5, ease: "power2.out" })) } }, { key: "showTrigger", value: function () { this.isTriggerVisible || (this.isTriggerVisible = !0, $.a.to(this.$trigger, { opacity: 1, duration: .5, ease: "power2.out" })) } }, { key: "open", value: function () { var e = this; this.isOpened = !0, this.$trigger.classList.add("active"), this.router.isDesktop || ($.a.to(this.$trigger, { opacity: 1e-4, duration: .5, ease: "power2.out", onComplete: function () { $.a.set(e.$trigger, { display: "none" }) } }), $.a.to(this.$opener, { opacity: 1e-4, duration: .5, ease: "power2.out", onComplete: function () { $.a.set(e.$opener, { display: "none" }) } })), $.a.set(this.$mask, { display: "block" }), $.a.set(this.$content, { display: "block" }), $.a.to(this.$mask, { scale: 45, ease: "expo.inOut", duration: 1.2, delay: 0 }), this.$closer && ($.a.to(this.$closer, { display: "block" }), $.a.to(this.$closer, { opacity: 1, ease: "power2.out", duration: .8, delay: 1.3 })); for (var t = this.$contentTitle.querySelectorAll(".char"), i = 0; i < t.length; i++)$.a.fromTo(t[i], { y: "100%" }, { y: "0%", duration: 1.8, ease: "duende.inOut", delay: .02 * i }); $.a.set(this.$content.querySelector(".input"), { scaleX: 0 }), this.router.isDesktop ? $.a.to(this.$content.querySelector(".input"), { scaleX: 1, ease: "expo.inOut", duration: 1, delay: .5, onComplete: function () { e.$content.querySelector(".input input").focus() } }) : $.a.to(this.$content.querySelector(".input"), { scaleX: 1, ease: "expo.inOut", duration: 1, delay: .5 }), $.a.set(this.$content.querySelector(".input .search"), { scale: .8, opacity: 0 }), $.a.to(this.$content.querySelector(".input .search"), { scale: 1, opacity: 1, ease: "power3.inOut", transition: "initial", duration: .8, delay: 1, clearProps: "all" }); for (var n = this.$contentDescription.querySelectorAll(".line"), s = 0; s < n.length; s++) { $.a.fromTo(n[s], { y: "100%", opacity: 0 }, { y: "0%", opacity: 1, duration: 1.8, ease: "power4.out", delay: .6 + .08 * s }); for (var r = n[s].querySelectorAll(".word"), a = 0; a < r.length; a++)$.a.to(r[a], { opacity: 1, ease: "power3.out", duration: .6, delay: .4 }) } for (var o = this.$content.querySelectorAll(".options .options__item"), l = 0; l < o.length; l++)$.a.set(o[l].children[0], { scale: .8, opacity: 0 }), $.a.to(o[l].children[0], { scale: 1, opacity: 1, ease: "power3.inOut", transition: "initial", duration: .8, delay: .8 + .1 * l, clearProps: "all" }), $.a.set(o[l].children[1], { opacity: 0 }), $.a.to(o[l].children[1], { opacity: 1, ease: "power2.out", duration: .8, delay: 1 + .1 * l }); $.a.set(this.$results, { opacity: 0 }), $.a.to(this.$results, { opacity: 1, ease: "power2.out", duration: .8, delay: 1.3, clearProps: "all" }), $.a.delayedCall(.6, (function () { e.isAnimating = !1 })) } }, { key: "close", value: function () { var e = this; this.isOpened = !1, this.$trigger.classList.remove("active"), $.a.to(this.$closer, { opacity: 1e-4, duration: .5, ease: "power2.out" }), $.a.set(this.$closer, { display: "none" }), $.a.to(this.$mask, { scale: 1, ease: "expo.inOut", duration: 1, delay: .5, onComplete: function () { $.a.set(e.$mask, { display: "none" }), $.a.set(e.$content, { display: "none" }), $.a.set(e.$trigger, { display: "block" }), $.a.to(e.$trigger, { opacity: 1, duration: .5, ease: "power2.out" }), $.a.to(e.$opener, { opacity: 1, duration: .5, ease: "power2.out" }), $.a.set(e.$opener, { display: "block" }) } }); for (var t = this.$contentTitle.querySelectorAll(".char"), i = 0; i < t.length; i++)$.a.to(t[i], { y: "-100%", duration: 1, ease: "duende.inOut", delay: .02 * i }); $.a.to(this.$content.querySelector(".input .search"), { scale: .8, opacity: 0, ease: "power3.inOut", transition: "initial", duration: .8, delay: 0, clearProps: "all" }), $.a.to(this.$content.querySelector(".input"), { scaleX: 0, opacity: 0, ease: "expo.inOut", duration: .8, delay: .5, clearProps: "all" }); for (var n = this.$content.querySelectorAll(".description .line"), s = 0; s < n.length; s++)for (var r = n[s].querySelectorAll(".word"), a = 0; a < r.length; a++)$.a.to(r[a], { opacity: 0, ease: "power3.out", duration: .6, delay: .4 }); for (var o = this.$content.querySelectorAll(".options .options__item"), l = 0; l < o.length; l++)$.a.to(o[l].children[0], { scale: .8, opacity: 0, ease: "power3.inOut", transition: "initial", duration: .8, delay: .2 }), $.a.to(o[l].children[1], { opacity: 0, ease: "power2.out", duration: .8, delay: .2 }); var u = this.$content.querySelectorAll(".results"); $.a.to(u, { opacity: 0, ease: "power2.out", duration: .4, delay: 0 }), $.a.delayedCall(.6, (function () { e.isAnimating = !1 })) } }, { key: "raf", value: function (e, t, i) { for (var n = (e.clientX - te.client.sizes.width / 2) / te.client.sizes.width, s = (e.clientY - te.client.sizes.height / 3) / te.client.sizes.height, r = Math.sign(n) * Math.sign(s) * 50, a = 0; a < this.$triggerEyes.length; a++)$.a.to(this.$triggerEyes[a], { x: 60 * n + "%", y: 70 * s + "%", rotation: r * Math.abs(n) * Math.abs(s) + "deg", duration: .4, ease: "power2.out", delay: 0 }), $.a.to(this.$triggerEyes[a].children[0], { x: 25 * n + "%", y: 70 * s + "%", rotation: 3 * r * Math.abs(n) * Math.abs(s) + "deg", duration: .4, ease: "power2.out", delay: 0 }), $.a.to(this.$triggerEyes[a].children[0].children[0], { x: 120 * n + "%", y: 80 * s + "%", rotation: r * Math.abs(n) * Math.abs(s) + "deg", duration: .4, opacity: 1 - s, ease: "power2.out", delay: 0 }) } }, { key: "show", value: function () { $.a.set(this.$el, { display: "block", delay: 0 }), $.a.to(this.$el, { opacity: 1, duration: 1, ease: "power4.inOut", delay: 1 }) } }, { key: "hide", value: function () { $.a.to(this.$el, { opacity: 1e-4 }) } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.router.isDesktop && this.isOpened && this.close() } }, { key: "leave", value: function (e) { $.a.to(this.$el, .5, { opacity: 1e-4, ease: "power4.inOut" }), $.a.delayedCall(.5, (function () { e() })) } }, { key: "afterLeave", value: function () { } }]) && Ht(i.prototype, n), s && Ht(i, s), a }(d), Xt = i(23), Qt = i.n(Xt); function Zt (e) { return (Zt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Kt (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var Jt = _.getParser(window.navigator.userAgent).parsedResult, ei = "Firefox" === Jt.browser.name, ti = ("Microsoft Edge" === Jt.browser.name || Jt.browser.name, function () { }), ii = function () { function e (t) { var i = this; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this._onRaf = t.onRaf || ti, this._currentSection = t.currentSection ? t.currentSection : null, this._global = { percent: { x: 0, y: 0 }, mode: t.mode || "vertical" }, t.scroll && (this._virtualScroll = null, this._virtualScrollOptions = { el: void 0 !== t.el ? Zt(t.el) : window, mouseMultiplier: void 0 !== t.mouseMultiplier ? Zt(t.mouseMultiplier) : .4, touchMultiplier: void 0 !== t.touchMultiplier ? Zt(t.touchMultiplier) : 2, firefoxMultiplier: void 0 !== t.firefoxMultiplier ? Zt(t.firefoxMultiplier) : 50, limitInertia: void 0 !== t.limitInertia && Zt(t.limitInertia), passive: void 0 !== t.passive && t.pasive }, this._scroll = { enable: void 0 === t.enable || t.enable, target: t.scrollTarget, width: 0, height: 0, position: { x: 0, y: 0 }, lastPosition: { x: 0, y: 0 }, livePosition: { x: 0, y: 0 }, maxScroll: { x: 0, y: 0 }, direction: "down" }, this._scrollMove = function (e) { if (i._scroll.enable) if ("horizontal" === i._global.mode) { var t = e.deltaY; i._scroll.position.x += t, i._scroll.position.x = Math.max(i._scroll.maxScroll.x, i._scroll.position.x), i._scroll.position.x = Math.min(0, i._scroll.position.x), i._global.percent.x = i._scroll.position.x / i._scroll.maxScroll.x || 0, i._scroll.lastPosition.x = i._scroll.position.x } else { var n = e.deltaY; i._scroll.position.y += n, i._scroll.position.y = Math.max(i._scroll.maxScroll.y, i._scroll.position.y), i._scroll.position.y = Math.min(0, i._scroll.position.y), i._global.percent.y = i._scroll.position.y / i._scroll.maxScroll.y || 0, i._scroll.lastPosition.y = i._scroll.position.y } }, this._scrollRaf = function () { "horizontal" === i._global.mode ? i._scroll.livePosition.x = i.lerp(i._scroll.livePosition.x, i._scroll.maxScroll.x * i._global.percent.x, .08) : i._scroll.livePosition.y = i.lerp(i._scroll.livePosition.y, i._scroll.maxScroll.y * i._global.percent.y, .08), i._scroll.target.style.transform = "translate3d(" + i._scroll.livePosition.x.toString() + "px," + i._scroll.livePosition.y.toString() + "px, 0px)" }), t.bar && (this._bar = { enable: !0, target: t.barTarget, width: 0, height: 0, dragging: !1, ratio: { x: 0, y: 0 }, position: { x: 0, y: 0 }, livePosition: { x: 0, y: 0 }, maxScroll: { x: 0, y: 0 }, clickedPoint: { x: 0, y: 0 } }, this._barDown = function (e) { i._bar.dragging = !0, i._bar.clickedPoint.x = e.clientX - i._bar.livePosition.x, i._bar.clickedPoint.y = e.clientY - i._bar.livePosition.y, document.addEventListener("mousemove", i._barMove), document.addEventListener("mouseup", i._barUp) }, this._barMove = function (e) { "horizontal" === i._global.mode ? (i._bar.position.x = Math.min(Math.max(e.clientX - i._bar.clickedPoint.x, 0), i._bar.maxScroll.x), i._global.percent.x = i._bar.position.x / i._bar.maxScroll.x || 0) : (i._bar.position.y = Math.min(Math.max(e.clientY - i._bar.clickedPoint.y, 0), i._bar.maxScroll.y), i._global.percent.y = i._bar.position.y / i._bar.maxScroll.y || 0) }, this._barUp = function () { document.removeEventListener("mousemove", i._barMove), document.removeEventListener("mouseup", i._barUp), i._bar.dragging = !1 }, this._barRaf = function () { "horizontal" === i._global.mode ? i._bar.livePosition.x = i.lerp(i._bar.livePosition.x, i._bar.maxScroll.x * i._global.percent.x, .08) : i._bar.livePosition.y = i.lerp(i._bar.livePosition.y, i._bar.maxScroll.y * i._global.percent.y, .08), i._bar.target.style.transform = "translate3d(" + i._bar.livePosition.x.toString() + "px," + i._bar.livePosition.y.toString() + "px, 0px)" }, this._bar.target.addEventListener("mousedown", this._barDown)), this._raf = function () { i._scroll && i._scrollRaf(), i._bar && i._barRaf(), i._onRaf(i._scroll) }, this.init() } var t, i, n; return t = e, (i = [{ key: "init", value: function () { var e = this; "undefined" !== this._virtualScroll && (this._virtualScroll = new Qt.a(this._virtualScrollOptions), this._virtualScroll.on((function (t) { e._scrollMove(t) }))), $.a.ticker.add(this._raf) } }, { key: "lerp", value: function (e, t, i) { return e + (t - e) * (i = (i = i < 0 ? 0 : i) > 1 ? 1 : i) } }, { key: "scrollAnimate", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ei ? 1 : 2, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "power4.inOut", n = arguments.length > 3 ? arguments[3] : void 0; (n || this._scroll.enable) && (this._scroll.position.y = -e, $.a.to(this._global.percent, { y: -e / this._scroll.maxScroll.y || 0, ease: i, duration: t })) } }, { key: "scrollResize", value: function () { this._scroll.width = this._scroll.target.getBoundingClientRect().width, this._scroll.height = this._scroll.target.getBoundingClientRect().height, this._scroll.maxScroll.x = -(this._scroll.width - window.innerWidth), this._scroll.maxScroll.y = -(this._scroll.height - window.innerHeight) } }, { key: "barResize", value: function () { this._bar.parentWidth = this._bar.target.parentNode.getBoundingClientRect().width, this._bar.parentHeight = this._bar.target.parentNode.getBoundingClientRect().height, this._bar.width = this._bar.target.getBoundingClientRect().width, this._bar.height = this._bar.parentHeight * this._bar.parentHeight / this._scroll.height, this._bar.target.style.height = this._bar.height + "px", this._bar.maxScroll.x = this._bar.parentWidth - this._bar.width, this._bar.maxScroll.y = this._bar.parentHeight - this._bar.height, this._bar.ratio.x = this._bar.width / this._bar.parentWidth, this._bar.ratio.y = this._bar.height / this._bar.parentHeight } }, { key: "resize", value: function () { this._scroll && this.scrollResize(), this._bar && this.barResize() } }, { key: "destroy", value: function () { $.a.ticker.remove(this._raf) } }]) && Kt(t.prototype, i), n && Kt(t, n), e }(); function ni (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var si = function () { function e (t) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this._currentSection = t.currentSection ? t.currentSection : null, t.observer && "IntersectionObserver" in window && (void 0 !== t.observerSections && t.observerSections.length > 0 && (this._observerSections = null, this._observerSectionsArray = t.observerSections, this._observerSectionsOptions = { root: t.observerTarget, rootMargin: .1 * window.innerWidth + "px 0px", threshold: 0 }), void 0 !== t.observerItems && t.observerItems.length > 0 && (this._observerItems = null, this._observerItemsArray = t.observerItems, this._observerItemsOptions = { root: t.observerTarget, rootMargin: "0px", threshold: 0 }), void 0 !== t.observerParallax && t.observerParallax.length > 0 && (this._observerParallax = null, this._observerParallaxArray = t.observerParallax, this._observerParallaxOptions = { root: t.observerTarget, rootMargin: "0px", threshold: 0 })), this.init() } var t, i, n; return t = e, (i = [{ key: "init", value: function () { var e = this; null === this._observerSections && (this._observerSections = new IntersectionObserver((function (e) { }), this._observerSectionsOptions), this._observerSectionsArray.forEach((function (t, i) { e._observerSections.observe(t) }))), null === this._observerItems && (this._observerItems = new IntersectionObserver((function (t) { e.observerItemsCallback(t) }), this._observerItemsOptions), this._observerItemsArray.forEach((function (t, i) { e._currentSection.observerAnimationInit(i), e._observerItems.observe(t.node) }))), null === this._observerParallax && (this._observerParallax = new IntersectionObserver((function (t) { e.observerParallaxCallback(t) }), this._observerParallaxOptions), this._observerParallaxArray.forEach((function (t, i) { e._currentSection.observerParallaxInit(t, i), e._observerParallax.observe(t.node) }))) } }, { key: "observerItemsCallback", value: function (e) { var t = this; e.forEach((function (e) { var i = t._observerItemsArray.findIndex((function (t) { return t.node === e.target })); e.isIntersecting && (t._currentSection.observerAnimationTrigger(i), t._observerItems.unobserve(e.target)) })) } }, { key: "observerParallaxCallback", value: function (e) { var t = this; e.forEach((function (e) { e.target.parallax || (e.target.parallax = function () { var i = t._observerParallaxArray.findIndex((function (t) { return t.node === e.target })), n = t._observerParallaxArray[i], s = e.target.getBoundingClientRect(), r = (s.top - window.innerHeight) / (window.innerHeight + s.height) * -1; t._currentSection.observerParallaxTrigger(n, i, r) }), e.intersectionRatio > 0 ? $.a.ticker.add(e.target.parallax) : $.a.ticker.remove(e.target.parallax) })) } }, { key: "resize", value: function () { } }, { key: "destroy", value: function () { this._observerSections && this._observerSections.disconnect(), this._observerSections = null, this._observerItems && this._observerItems.disconnect(), this._observerItems = null, this._observerParallax && this._observerParallax.disconnect(), this._observerParallax = null } }]) && ni(t.prototype, i), n && ni(t, n), e }(), ri = i(5), ai = i.n(ri), oi = (i(36), i(1)), li = i.n(oi); function ui (e) { return (ui = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function ci (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function di (e, t) { return !t || "object" !== ui(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function _i () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function hi (e) { return (hi = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function pi (e, t) { return (pi = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var vi = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && pi(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = hi(t); if (_i()) { var n = hi(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return di(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: ai.a, templateData: { data: te.appData, content: te.appData.pages.home, options: te.appData.options, footer: li.a, slider: te.appData.pages.home.slider, planes: te.appData.pages.home.planes, rutas: te.appData.pages.home.rutas, editions: [Object.keys(te.appData.articulos_editions).reverse()[0]], banners: te.appData.banners, bannersTop: te.appData.banners_locations.home_top, bannersBottom: te.appData.banners_locations.home_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 })).showSplash = null === t.router.lastNavigation, t.showSplash && $.a.set(document.getElementById("search").children[2], { opacity: "0.0001", transition: "initial" }), t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".home__hero"), this.$banner1 = this.$el.querySelector(".home__banner1"), this.$plans = this.$el.querySelector(".home__plans"), this.$plansPosts = this.$plans.querySelectorAll(".post"), this.$routes = this.$el.querySelector(".home__routes"), this.$magazine = this.$el.querySelector(".home__magazine"), this.$banner2 = this.$el.querySelector(".home__banner2"), this.$footer = this.$el.querySelector(".home__footer") } }, { key: "preloadItems", value: function (e) { return { main: [this._templateData.slider[0].image.sizes["duendelandscape-medium"], this._templateData.data.planes[this._templateData.planes[0]].thumbnail.sizes["duendevertical-medium"], this._templateData.data.planes[this._templateData.planes[1]].thumbnail.sizes["duendevertical-medium"], this._templateData.data.planes[this._templateData.planes[2]].thumbnail.sizes["duendevertical-medium"], this._templateData.data.planes[this._templateData.planes[3]].thumbnail.sizes["duendevertical-medium"]] } } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$magazine.querySelector(".magazine__number"), { type: "chars", charsClass: "char char--++" }), new Lt(this.$routes.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$routes.querySelector(".title").classList.add("split"), $.a.to(this.$routes.querySelector(".category").children[0], { rotation: 360, ease: "linear", repeat: -1, duration: 20, paused: !1 }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var i = 0; i < this.$plansPosts.length; i++) { this.events.add(this.$plansPosts[i], "mouseenter", (function (e, i, n) { t.router.postEnter(e, i, n) })), this.events.add(this.$plansPosts[i], "mouseleave", (function (e, i, n) { t.router.postLeave(e, i, n) })), new Lt(this.$plansPosts[i].querySelector(".post__content__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }); for (var n = this.$plansPosts[i].querySelectorAll(".post__content__title .line"), s = 0; s < n.length; s++)n[s].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>') } this.events.add(this.$routes.querySelector(".route .title"), "mousemove", (function (e, i, n) { t.routeEnter(e, i, n) })), this.events.add(this.$routes.querySelector(".route .title"), "mouseleave", (function (e, i, n) { t.routeLeave(e, i, n) })), this.events.add(this.$magazine.querySelector(".magazine__image"), "mousemove", (function (e, i, n) { t.router.magazineEnter(e, i, n) })), this.events.add(this.$magazine.querySelector(".magazine__image"), "mouseleave", (function (e, i, n) { t.router.magazineLeave(e, i, n) })), this.eventHub.playHomeSlider.add((function () { t.sliderPlay() })), this.eventHub.pauseHomeSlider.add((function () { t.sliderPause() })), this.slider || this.sliderInit(), this.init() } }, { key: "init", value: function () { var e = this; this.superScroller = new ii({ currentSection: this, scroll: !0, enable: !this.showSplash, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0], onRaf: function (t) { t.livePosition.y < -10 ? (!0 === e.slider.autoplay && !1 === e.slider.hovered && t.enable && e.sliderPause(), e.router.menu.compress(), e.router.search.colored()) : (!1 === e.slider.autoplay && !1 === e.slider.hovered && t.enable && e.sliderPlay(), e.router.menu.expand(), e.router.search.transparent()) } }), this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$plans.querySelectorAll(".post")[0], delay: 0, id: "post" }, { node: this.$plans.querySelectorAll(".post")[1], delay: 0, id: "post" }, { node: this.$plans.querySelectorAll(".post")[2], delay: 0, id: "post" }, { node: this.$plans.querySelectorAll(".post")[3], delay: 0, id: "post" }], this.$banner1 && this.observerItems.push({ node: this.$banner1.querySelector(".banner"), delay: 0, id: "banner" }), this.$banner2 && this.observerItems.push({ node: this.$banner2.querySelector(".banner"), delay: 0, id: "banner" }), this.observerParallax = [{ node: this.$sliderCategories, id: "slider" }, { node: this.$plans, id: "plans" }, { node: this.$routes.querySelector(".spine"), id: "spine" }, { node: this.$routes.querySelector(".route"), id: "route" }, { node: this.$magazine.querySelector(".spine"), id: "spine" }, { node: this.$magazine.querySelector(".magazine"), id: "magazineNumber" }], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax, observerItems: this.observerItems }) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t, { pointerEvents: "none" }), $.a.set(t.querySelector(".mask"), { y: "40%", scaleY: 1.4 }), $.a.set(t.querySelector(".image"), { y: "80%", scaleY: 1.4 }), $.a.set(t.querySelector(".post__content"), { y: "100%", scaleY: 1.2 }); break; case "magazine": $.a.set(t.querySelector(".magazine__image"), { y: "80%" }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".mask"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: 0, clearProps: "transform" }), $.a.to(t.querySelector(".image"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: .15, clearProps: "transform" }), $.a.to(t.querySelector(".post__content"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: .3, clearProps: "transform" }), $.a.set(t, { pointerEvents: "", delay: 1.5 }); break; case "magazine": $.a.to(t.querySelector(".magazine__image"), { y: "0%", ease: "expo.out", duration: 2, delay: .15, clearProps: "transform" }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "plans": var i = e.node.querySelectorAll(".columns__item")[0]; e.timeline.set(i, { transformOrigin: "50% 50%", willChange: "transform", y: "10vw" }, 0), e.timeline.to(i, { y: "-10vw" }, 0); var n = e.node.querySelectorAll(".columns__item")[1]; e.timeline.set(n, { transformOrigin: "50% 50%", willChange: "transform", y: "-10vw" }, 0), e.timeline.to(n, { y: "10vw" }, 0); var s = e.node.querySelector(".spinelabel"); e.timeline.set(s.children[0], { transformOrigin: "50% 50%", willChange: "transform", x: "35vw" }, 0), e.timeline.to(s.children[0], { x: "-35vw" }, 0); break; case "route": e.timeline.set(e.node.querySelector(".image__bg"), { transformOrigin: "50% 50%", willChange: "transform", scale: 1.25 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), { scale: 1 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), {}, 1); break; case "spineplanes": break; case "spine": e.timeline.set(e.node.nextElementSibling.children[0], { transformOrigin: "50% 50%", willChange: "transform", x: "2.5vw" }, 0), e.timeline.to(e.node.nextElementSibling.children[0], { x: "-2.5vw" }, 0); break; case "magazine": e.timeline.set(e.node.querySelector(".image__bg"), { transformOrigin: "50% 50%", willChange: "transform", scale: 1.2 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), { scale: 1 }, 0); break; case "magazineNumber": for (var r = 0; r < e.node.querySelector(".magazine__number").children.length; r++)e.timeline.set(e.node.querySelector(".magazine__number").children[r], { x: 400 / e.node.querySelector(".magazine__number").children.length * r - 160 + "%" }, 0); for (var a = 0; a < e.node.querySelector(".magazine__number").children.length; a++)e.timeline.to(e.node.querySelector(".magazine__number").children[a], { x: 160 - 400 / e.node.querySelector(".magazine__number").children.length * a + "%" }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "routeEnter", value: function (e, t, i) { $.a.to(this.$routes.querySelector(".route").children[0], { scale: 1.05, duration: 1, ease: "expo.out", delay: 0 }), $.a.to(this.$routes.querySelector(".route").children[1].children[1], { scale: .9, duration: .8, ease: "expo.out", delay: 0 }) } }, { key: "routeLeave", value: function (e, t, i) { $.a.to(this.$routes.querySelector(".route").children[0], { scale: 1, duration: 1, ease: "expo.out", delay: 0 }), $.a.to(this.$routes.querySelector(".route").children[1].children[1], { scale: 1, duration: 1, ease: "expo.out", delay: 0 }) } }, { key: "sliderInit", value: function () { var e = this; this.$base = this.$el.querySelector(".base"), this.$baseLayer = this.$base.querySelector(".base__layer"), this.$baseLogo = this.$base.querySelector(".base__content .logo"), this.$baseTitle = this.$base.querySelector(".base__content .label"), this.$sliderContainer = this.$el.querySelector(".sliders"), this.$sliderNavigation = this.$el.querySelector(".sliders__navigation"), this.$sliderController = this.$el.querySelector(".sliders__controller"), this.$sliderBackgrounds = this.$el.querySelector(".sliders__backgrounds"), this.$sliderImages = this.$el.querySelector(".sliders__images"), this.$sliderButtons = this.$el.querySelector(".sliders__buttons"), this.$sliderTexts = this.$el.querySelector(".sliders__texts"), this.$sliderTextsCategories = this.$sliderTexts.querySelectorAll(".texts__category"), this.$sliderTextsTitles = this.$sliderTexts.querySelectorAll(".texts__title"), this.$sliderCategories = this.$el.querySelector(".sliders__categories"), this.events.add(this.$sliderNavigation.children[0], "click", (function () { e.sliderNavigationGo(1) })), this.events.add(this.$sliderNavigation.children[1], "click", (function () { e.sliderNavigationGo(0) })), this.slider = { total: 0, current: this.showSplash ? -1 : 0, navigationProgress1: 0, navigationProgress2: 0, autoplay: !0, autoplaySpeed: 6, hovered: !1, color: null, background: null, autoplayController: null, animationDuration: 1.8, animationActive: !1 }, this.slider.total = this.$sliderController.children.length; for (var t = 0; t < this.$sliderController.children.length; t++) { new Lt(this.$sliderButtons.children[t].querySelector(".button span"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$sliderButtons.children[t].querySelector(".button span").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }), this.events.add(this.$sliderButtons.children[t].querySelector(".button"), "mouseenter", (function (t, i, n) { e.router.buttonEnter(t, i, n.children[0]) })), this.events.add(this.$sliderButtons.children[t].querySelector(".button"), "mouseleave", (function (t, i, n) { e.router.buttonLeave(t, i, n.children[0]) })); var i = this.$sliderTextsTitles[t]; new Lt(i, { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), i.classList.add("split"); var n = this.$sliderCategories.children[t].querySelector(".category"); new Lt(n, { type: "chars", charsClass: "char char--++" }), this.$sliderBackgrounds.children[t].style.display = "none", this.$sliderImages.children[t].style.display = "none", this.$sliderButtons.children[t].style.display = "none", this.$sliderTexts.children[t].style.display = "none", this.$sliderCategories.children[t].style.display = "none" } if (this.slider.color = this.$sliderController.children[0].children[0].dataset.color, $.a.set(this.$sliderNavigation.children[0].querySelector(".front"), { stroke: this.slider.color }), $.a.set(this.$sliderNavigation.children[0].querySelector(".back"), { stroke: this.slider.color }), $.a.set(this.$sliderNavigation.children[1].querySelector(".front"), { stroke: this.slider.color }), $.a.set(this.$sliderNavigation.children[1].querySelector(".back"), { stroke: this.slider.color }), this.$sliderBackgrounds.children[0].style.display = "block", this.$sliderImages.children[0].style.display = "block", this.$sliderButtons.children[0].style.display = "block", this.$sliderTexts.children[0].style.display = "block", this.$sliderCategories.children[0].style.display = "block", this.$sliderBackgrounds.classList.add("slider--initialized"), this.$sliderImages.classList.add("slider--initialized"), this.$sliderButtons.classList.add("slider--initialized"), this.$sliderTexts.classList.add("slider--initialized"), this.$sliderCategories.classList.add("slider--initialized"), this.showSplash) { $.a.set(this.$sliderNavigation, { opacity: "0.0001" }), $.a.set(this.$sliderBackgrounds.children[0], { display: "block", x: "100%" }), $.a.set(this.$sliderBackgrounds.children[0], { display: "block", x: "100%" }), $.a.set(this.$sliderImages.children[0], { display: "block", x: "100%" }), $.a.set(this.$sliderButtons.children[0], { display: "block", x: "100%" }), $.a.set(this.$sliderTexts.children[0], { display: "block" }), $.a.set(this.$sliderTextsCategories[0].children[0], { opacity: 0 }), $.a.set(this.$sliderTextsCategories[0].children[1].children[0], { x: "100%" }), $.a.set(this.$sliderCategories.children[0], { display: "block" }); for (var s = 0; s < this.$sliderTextsTitles[0].children.length; s++)for (var r = this.$sliderTextsTitles[0].children[s].querySelectorAll(".char"), a = 0; a < r.length; a++)$.a.set(r[a], { y: "100%", opacity: 1 }); var o = this.$sliderCategories.children[0].querySelectorAll(".char"); $.a.set(this.$sliderCategories.children[0], { display: "block" }); for (var l = 0; l < o.length; l++)$.a.set(o[l], { y: "140%" }); new Lt(this.$baseTitle, { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), $.a.to(this.$baseLogo, { opacity: 1, duration: 1.2, ease: "power2.out", delay: .6 }), $.a.to(this.$baseLayer, { scaleX: 1, duration: 1.2, ease: "duende.inOut", delay: 1.8 }); for (var u = this.$baseTitle.querySelectorAll(".char"), c = 0; c < u.length; c++)$.a.fromTo(u[c], { y: "100%" }, { y: "0%", duration: 1.8, ease: "duende.inOut", delay: 0 + .02 * c }); for (var d = 0; d < u.length; d++)$.a.to(u[d], { y: "-100%", duration: .9, ease: "expo.in", delay: 2.1 + .02 * d }) } if (this.slider.autoplay && (this.slider.autoplayController = $.a.timeline({ paused: !0, delay: 0 }), this.slider.autoplayController.fromTo(this.slider, { navigationProgress1: 1 }, { navigationProgress1: 0, duration: this.slider.autoplaySpeed - 1, ease: "none", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.sliderChange(1), e.slider.autoplayController.fromTo(e.slider, { navigationProgress1: e.slider.progress, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.slider.autoplayController.restart() } }) } })), this.showSplash) $.a.delayedCall(2.2, (function () { $.a.to(document.getElementById("search").children[2], { opacity: 1, duration: .8, ease: "power2.out", delay: 1.1, clearProps: "all" }), $.a.to(e.$sliderNavigation, { opacity: 1, duration: .8, ease: "power2.out", delay: 1 }), e.superScroller._scroll.enable = !0, e.slider.autoplay && e.slider.autoplayController.play(), e.sliderChange(1), $.a.delayedCall(1.8, (function () { for (var t = 0; t < e.$sliderTexts.children.length; t++)e.events.add(e.$sliderTexts.children[t], "mousemove", (function (t, i, n) { e.sliderEnter(t, i, n) })), e.events.add(e.$sliderTexts.children[t], "mouseleave", (function (t, i, n) { e.sliderLeave(t, i, n) })); for (var i = 0; i < e.$sliderButtons.children.length; i++)e.events.add(e.$sliderButtons.children[i], "mousemove", (function (t, i, n) { e.sliderEnter(t, i, n) })), e.events.add(e.$sliderButtons.children[i], "mouseleave", (function (t, i, n) { e.sliderLeave(t, i, n) })) })) })); else { for (var _ = 0; _ < this.$sliderTexts.children.length; _++)this.events.add(this.$sliderTexts.children[_], "mousemove", (function (t, i, n) { e.sliderEnter(t, i, n) })), this.events.add(this.$sliderTexts.children[_], "mouseleave", (function (t, i, n) { e.sliderLeave(t, i, n) })); for (var h = 0; h < this.$sliderButtons.children.length; h++)this.events.add(this.$sliderButtons.children[h], "mousemove", (function (t, i, n) { e.sliderEnter(t, i, n) })), this.events.add(this.$sliderButtons.children[h], "mouseleave", (function (t, i, n) { e.sliderLeave(t, i, n) })); this.slider.autoplay && this.slider.autoplayController.play() } } }, { key: "sliderEnter", value: function (e, t, i) { this.slider.hovered = !0, this.sliderPause(), $.a.to(this.$sliderImages.children[this.slider.current].children[0], { scale: 1.05, duration: 1, ease: "expo.out", delay: 0 }) } }, { key: "sliderLeave", value: function (e, t, i) { this.slider.hovered = !1, $.a.to(this.$sliderImages.children[this.slider.current].children[0], { scale: 1, duration: 1, ease: "expo.out", delay: 0 }), this.sliderPlay() } }, { key: "sliderPlay", value: function () { this.slider.autoplay = !0, this.slider.autoplayController.play() } }, { key: "sliderPause", value: function () { this.slider.autoplay = !1, this.slider.autoplayController.pause() } }, { key: "sliderParallax", value: function (e) { $.a.to(this.$sliderTexts.children, { scale: .9, duration: .4, ease: "none" }) } }, { key: "sliderParallaxLeave", value: function (e) { $.a.to(this.$sliderTexts.children, { x: 0, y: 0, scale: 1, duration: .5, ease: "power4.out" }) } }, { key: "sliderChange", value: function (e) { var t = this; if (!this.slider.animationActive) { var i, n, s; this.slider.animationActive = !0, 1 === e ? (i = 1, n = (this.slider.current + 1) % this.slider.total, s = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current) : (i = -1, n = 0 === this.slider.current ? this.slider.total - 1 : this.slider.current - 1, s = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current), $.a.set(this.$sliderBackgrounds.children[n], { display: "block", x: 100 * i + "%" }), $.a.fromTo(this.$sliderBackgrounds.children[s], { x: "0%" }, { x: -100 * i + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderBackgrounds.children[n], { x: 100 * i + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0, clearProps: "transform" }), $.a.set(this.$sliderImages.children[n], { display: "block", x: 100 * i + "%" }), $.a.fromTo(this.$sliderImages.children[s], { x: "0%" }, { x: -100 * i + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[s].children[0].children[0], { x: "0%" }, { x: 85 * i + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[n], { x: 100 * i + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0, clearProps: "transform" }), $.a.fromTo(this.$sliderImages.children[n].children[0].children[0], { x: -85 * i + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[n].children[0].children[0], { scale: 1.1 }, { scale: 1, duration: 4, ease: "expo.out", delay: 0 }), $.a.set(this.$sliderButtons.children[n], { display: "block", x: 100 * i + "%" }), $.a.fromTo(this.$sliderButtons.children[s], { x: "0%" }, { x: -100 * i + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderButtons.children[s].children[0], { x: "0%" }, { x: 100 * i + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderButtons.children[n], { x: 100 * i + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderButtons.children[n].children[0], { x: -100 * i + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0, clearProps: "transform" }), $.a.set(this.$sliderTexts.children[n], { display: "block" }), $.a.set(this.$sliderTextsCategories[n].children[0], { opacity: 0 }), $.a.set(this.$sliderTextsCategories[n].children[1].children[0], { x: "100%" }); for (var r = 0; r < this.$sliderTextsTitles[n].children.length; r++)for (var a = this.$sliderTextsTitles[n].children[r].querySelectorAll(".char"), o = 0; o < a.length; o++)$.a.set(a[o], { y: "100%", opacity: 1 }); $.a.fromTo(this.$sliderTextsCategories[s].children[0], { opacity: 1 }, { opacity: 0, duration: .8 }), $.a.fromTo(this.$sliderTextsCategories[s].children[1].children[0], { x: "0%" }, { x: "-100%", duration: .8, ease: "duende.inOut" }), $.a.fromTo(this.$sliderTextsCategories[n].children[0], { opacity: "0%" }, { opacity: 1, duration: .8, delay: 1 }), $.a.fromTo(this.$sliderTextsCategories[n].children[1].children[0], { x: "100%" }, { x: "0%", duration: .8, ease: "duende.inOut", delay: 1 }); for (var l = 0; l < this.$sliderTextsTitles[s].children.length; l++)for (var u = this.$sliderTextsTitles[s].children[l].querySelectorAll(".char"), c = 0; c < u.length; c++)$.a.fromTo(u[c], { opacity: 1 }, { opacity: 1e-4, duration: .6, ease: "power2.out", delay: 0 }); for (var d = 0; d < this.$sliderTextsTitles[n].children.length; d++)for (var _ = this.$sliderTextsTitles[n].children[d].querySelectorAll(".char"), h = 0; h < _.length; h++)$.a.fromTo(_[h], { y: "100%" }, { y: "0%", duration: 1.8, ease: "duende.inOut", delay: .02 * h }); var p = this.$sliderCategories.children[s].querySelectorAll(".char"), v = this.$sliderCategories.children[n].querySelectorAll(".char"); $.a.set(this.$sliderCategories.children[n], { display: "block" }); for (var y = 0; y < v.length; y++)$.a.set(v[y], { y: "140%" }); for (var g = 0; g < p.length; g++)$.a.fromTo(p[g], { y: 0, opacity: 1 }, { y: "100%", opacity: 1e-4, duration: 1.3, ease: "duende.inOut", delay: .1 * g, clearProps: "transform" }); for (var f = 0; f < v.length; f++)$.a.fromTo(v[f], { y: "100%", opacity: 1e-4 }, { y: "0%", opacity: 1, duration: 1.3, ease: "duende.inOut", delay: .4 + .1 * f, clearProps: "transform" }); this.slider.color = this.$sliderController.children[n].children[0].dataset.color, $.a.to(this.$sliderNavigation.children[0].querySelector(".front"), { stroke: this.slider.color, duration: 1 }), $.a.to(this.$sliderNavigation.children[0].querySelector(".back"), { stroke: this.slider.color, duration: 1 }), $.a.to(this.$sliderNavigation.children[1].querySelector(".front"), { stroke: this.slider.color, duration: 1 }), $.a.to(this.$sliderNavigation.children[1].querySelector(".back"), { stroke: this.slider.color, duration: 1 }), $.a.delayedCall(this.slider.animationDuration, (function () { $.a.set(t.$sliderButtons.children[s], { display: "none" }), $.a.set(t.$sliderBackgrounds.children[s], { display: "none" }), $.a.set(t.$sliderImages.children[s], { display: "none" }), $.a.set(t.$sliderTexts.children[s], { display: "none" }), $.a.set(t.$sliderCategories.children[s], { display: "none" }), t.slider.animationActive = !1, t.slider.current = n })) } } }, { key: "sliderNavigationGo", value: function (e) { var t = this; this.slider.animationActive || (this.sliderChange(e), this.slider.autoplay && (this.slider.autoplayController.pause(), $.a.fromTo(this.slider, { navigationProgress1: this.slider.navigationProgress1, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { t.sliderNavigationUpdate() }, onComplete: function () { t.slider.autoplayController.restart() } }))) } }, { key: "sliderNavigationUpdate", value: function () { var e = 1194 * this.slider.navigationProgress1, t = 360 * this.slider.navigationProgress2; this.$sliderNavigation.children[0].children[2].style.transform = "rotate(" + t + "deg)", this.$sliderNavigation.children[0].querySelector(".front").style.strokeDashoffset = e + "px" } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.to(this.$el, 2, { opacity: 1e-4, ease: "power4.in" }), $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && ci(i.prototype, n), s && ci(i, s), a }(d); i(37); function yi (e) { return (yi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function gi (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function fi (e, t) { return !t || "object" !== yi(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function mi () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function bi (e) { return (bi = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Di (e, t) { return (Di = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var $i = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Di(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = bi(t); if (mi()) { var n = bi(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return fi(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: ai.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, slider: te.appData.pages.home.slider, planes: te.appData.pages.home.planes, rutas: te.appData.pages.home.rutas, editions: [Object.keys(te.appData.articulos_editions).reverse()[0]], banners: te.appData.banners, bannersTop: te.appData.banners_locations.home_top, bannersBottom: te.appData.banners_locations.home_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 })).windowWidth = window.innerWidth, t.windowHeight = window.innerHeight, t.sticky = [], t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".home__hero"), this.$banner1 = this.$el.querySelector(".home__banner1"), this.$plans = this.$el.querySelector(".home__plans"), this.$plansPosts = this.$plans.querySelectorAll(".post"), this.$routes = this.$el.querySelector(".home__routes"), this.$magazine = this.$el.querySelector(".home__magazine"), this.$banner2 = this.$el.querySelector(".home__banner2"), this.$footer = this.$el.querySelector(".home__footer"), this.$plansContent = this.$plans.querySelector(".container"), this.$plansSpinelabel = this.$plans.querySelector(".spinelabel") } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$routes.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$routes.querySelector(".title").classList.add("split"), $.a.to(this.$routes.querySelector(".category").children[0], { rotation: 360, ease: "linear", repeat: -1, duration: 20, paused: !1 }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), this.eventHub.playHomeSlider.add((function () { t.sliderPlay() })), this.eventHub.pauseHomeSlider.add((function () { t.sliderPause() })), this.slider || this.sliderInit(), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$plans.querySelectorAll(".post")[0], delay: 0, id: "post" }, { node: this.$plans.querySelectorAll(".post")[1], delay: 0, id: "post" }, { node: this.$plans.querySelectorAll(".post")[2], delay: 0, id: "post" }, { node: this.$plans.querySelectorAll(".post")[3], delay: 0, id: "post" }, { node: this.$magazine.querySelector(".magazine"), delay: 0, id: "magazine" }], this.$banner1 && this.observerItems.push({ node: this.$banner1.querySelector(".banner"), delay: 0, id: "banner" }), this.$banner2 && this.observerItems.push({ node: this.$banner2.querySelector(".banner"), delay: 0, id: "banner" }), this.observerParallax = [{ node: this.$sliderCategories, id: "slider" }, { node: this.$plans, id: "plans" }, { node: this.$routes.querySelector(".route"), id: "route" }], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax, observerItems: this.observerItems }) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t, { pointerEvents: "none" }), $.a.set(t.querySelector(".mask"), { y: "40%" }), $.a.set(t.querySelector(".image"), { y: "80%" }), $.a.set(t.querySelector(".post__content"), { y: "100%", scaleY: 1.2 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".mask"), { y: "0%", ease: "expo.out", duration: 2, delay: 0, clearProps: "transform" }), $.a.to(t.querySelector(".image"), { y: "0%", ease: "expo.out", duration: 2, delay: .15, clearProps: "transform" }), $.a.to(t.querySelector(".post__content"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: .3, clearProps: "transform" }), $.a.set(t, { pointerEvents: "", delay: 1.5 }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "plans": var i = e.node.querySelector(".spinelabel"); e.timeline.set(i.children[0], { transformOrigin: "50% 50%", willChange: "transform", x: this.$plans.offsetHeight / 2 - i.children[0].offsetWidth }, 0), e.timeline.to(i.children[0], { x: (this.$plans.offsetHeight - 200) / 2 * -1 }, 0); break; case "route": e.timeline.set(e.node.querySelector(".image__bg"), { transformOrigin: "50% 50%", willChange: "transform", scale: 1.25 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), { scale: 1 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), {}, 1) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "sliderInit", value: function () { var e = this; this.$sliderContainer = this.$el.querySelector(".sliders"), this.$sliderNavigation = this.$el.querySelector(".sliders__navigation"), this.$sliderController = this.$el.querySelector(".sliders__controller"), this.$sliderBackgrounds = this.$el.querySelector(".sliders__backgrounds"), this.$sliderImages = this.$el.querySelector(".sliders__images"), this.$sliderButtons = this.$el.querySelector(".sliders__buttons"), this.$sliderTexts = this.$el.querySelector(".sliders__texts"), this.$sliderTextsCategories = this.$sliderTexts.querySelectorAll(".texts__category"), this.$sliderTextsTitles = this.$sliderTexts.querySelectorAll(".texts__title"), this.$sliderCategories = this.$el.querySelector(".sliders__categories"), this.events.add(this.$sliderNavigation.children[0], "click", (function () { e.sliderNavigationGo(1) })), this.events.add(this.$sliderNavigation.children[1], "click", (function () { e.sliderNavigationGo(0) })), this.slider = { total: 0, current: -1, navigationProgress1: 0, navigationProgress2: 0, autoplay: !0, autoplaySpeed: 6, color: null, background: null, autoplayController: null, animationDuration: 1.5, animationActive: !1 }, this.slider.total = this.$sliderController.children.length; for (var t = 0; t < this.$sliderController.children.length; t++) { var i = this.$sliderTextsTitles[t]; new Lt(i, { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), i.classList.add("split"); var n = this.$sliderCategories.children[t].querySelector(".category"); new Lt(n, { type: "chars", charsClass: "char char--++" }), this.$sliderBackgrounds.children[t].style.display = "none", this.$sliderImages.children[t].style.display = "none", this.$sliderButtons.children[t].style.display = "none", this.$sliderTexts.children[t].style.display = "none", this.$sliderCategories.children[t].style.display = "none" } this.slider.color = this.$sliderController.children[0].children[0].dataset.color, $.a.set(this.$sliderNavigation.children[0].querySelector(".front"), { stroke: this.slider.color }), $.a.set(this.$sliderNavigation.children[0].querySelector(".back"), { stroke: this.slider.color }), $.a.set(this.$sliderNavigation.children[1].querySelector(".front"), { stroke: this.slider.color }), $.a.set(this.$sliderNavigation.children[1].querySelector(".back"), { stroke: this.slider.color }), this.$sliderBackgrounds.children[0].style.display = "block", this.$sliderImages.children[0].style.display = "block", this.$sliderButtons.children[0].style.display = "block", this.$sliderTexts.children[0].style.display = "block", this.$sliderCategories.children[0].style.display = "block", this.$sliderBackgrounds.classList.add("slider--initialized"), this.$sliderImages.classList.add("slider--initialized"), this.$sliderButtons.classList.add("slider--initialized"), this.$sliderTexts.classList.add("slider--initialized"), this.$sliderCategories.classList.add("slider--initialized"), this.slider.autoplay && (this.slider.autoplayController = $.a.timeline({ paused: !0, delay: 0 }), this.slider.autoplayController.fromTo(this.slider, { navigationProgress1: 1 }, { navigationProgress1: 0, duration: this.slider.autoplaySpeed - 1, ease: "none", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.sliderChange(1), e.slider.autoplayController.fromTo(e.slider, { navigationProgress1: e.slider.progress, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.slider.autoplayController.restart() } }) } }), this.slider.autoplayController.play()), this.sliderChange(1) } }, { key: "sliderPlay", value: function () { this.slider.autoplay = !0, this.slider.autoplayController.play() } }, { key: "sliderPause", value: function () { this.slider.autoplay = !1, this.slider.autoplayController.pause() } }, { key: "sliderParallax", value: function (e) { $.a.to(this.$sliderTexts.children, { scale: .9, duration: .4, ease: "none" }) } }, { key: "sliderParallaxLeave", value: function (e) { $.a.to(this.$sliderTexts.children, { x: 0, y: 0, scale: 1, duration: .5, ease: "power4.out" }) } }, { key: "sliderChange", value: function (e) { var t = this; if (!this.slider.animationActive) { var i, n, s; this.slider.animationActive = !0, 1 === e ? (i = 1, n = (this.slider.current + 1) % this.slider.total, s = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current) : (i = -1, n = 0 === this.slider.current ? this.slider.total - 1 : this.slider.current - 1, s = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current), $.a.set(this.$sliderBackgrounds.children[n], { display: "block", x: 100 * i + "%" }), $.a.fromTo(this.$sliderBackgrounds.children[s], { x: "0%" }, { x: -100 * i + "%", duration: 1, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderBackgrounds.children[n], { x: 100 * i + "%" }, { x: "0%", duration: 1, ease: "duende.inOut", delay: 0, clearProps: "transform" }), $.a.set(this.$sliderImages.children[n], { display: "block", x: 100 * i + "%" }), $.a.fromTo(this.$sliderImages.children[s], { x: "0%" }, { x: -100 * i + "%", duration: 1, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[s].children[0].children[0], { x: "0%" }, { x: 60 * i + "%", duration: 1, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[n], { x: 100 * i + "%" }, { x: "0%", duration: 1, ease: "duende.inOut", delay: .6, clearProps: "transform" }), $.a.fromTo(this.$sliderImages.children[n].children[0].children[0], { x: -60 * i + "%" }, { x: "0%", duration: 1, ease: "duende.inOut", delay: .6 }), $.a.fromTo(this.$sliderImages.children[n].children[0].children[0], { scale: 1.1 }, { scale: 1, duration: 4, ease: "expo.out", delay: .6 }), $.a.set(this.$sliderButtons.children[n], { display: "block", x: 100 * i + "%" }), $.a.fromTo(this.$sliderButtons.children[s], { x: "0%" }, { x: -100 * i + "%", duration: 1, ease: "duende.inOut", delay: .2 }), $.a.fromTo(this.$sliderButtons.children[s].children[0], { x: "0%" }, { x: 100 * i + "%", duration: 1, ease: "duende.inOut", delay: .2 }), $.a.fromTo(this.$sliderButtons.children[n], { x: 100 * i + "%" }, { x: "0%", duration: 1, ease: "duende.inOut", delay: .2 }), $.a.fromTo(this.$sliderButtons.children[n].children[0], { x: -100 * i + "%" }, { x: "0%", duration: 1, ease: "duende.inOut", delay: .2, clearProps: "transform" }), $.a.set(this.$sliderTexts.children[n], { display: "block" }), $.a.set(this.$sliderTextsCategories[n].children[0], { opacity: 0 }), $.a.set(this.$sliderTextsCategories[n].children[1].children[0], { x: "100%" }); for (var r = 0; r < this.$sliderTextsTitles[n].children.length; r++)for (var a = this.$sliderTextsTitles[n].children[r].querySelectorAll(".char"), o = 0; o < a.length; o++)$.a.set(a[o], { y: "100%", opacity: 1 }); $.a.fromTo(this.$sliderTextsCategories[s].children[0], { opacity: 1 }, { opacity: 0, duration: .8 }), $.a.fromTo(this.$sliderTextsCategories[s].children[1].children[0], { x: "0%" }, { x: "-100%", duration: .8, ease: "duende.inOut" }), $.a.fromTo(this.$sliderTextsCategories[n].children[0], { opacity: 0 }, { opacity: 1, duration: .8, delay: .85 }), $.a.fromTo(this.$sliderTextsCategories[n].children[1].children[0], { x: "100%" }, { x: "0%", duration: .8, ease: "duende.inOut", delay: .85 }); for (var l = 0; l < this.$sliderTextsTitles[s].children.length; l++)for (var u = this.$sliderTextsTitles[s].children[l].querySelectorAll(".char"), c = 0; c < u.length; c++)$.a.fromTo(u[c], { opacity: 1 }, { opacity: 1e-4, duration: .4, ease: "power2.out", delay: 0 }); for (var d = 0; d < this.$sliderTextsTitles[n].children.length; d++)for (var _ = this.$sliderTextsTitles[n].children[d].querySelectorAll(".char"), h = 0; h < _.length; h++)$.a.fromTo(_[h], { y: "100%" }, { y: "0%", duration: 3, ease: "duende.inOut", delay: .02 * h }); var p = this.$sliderCategories.children[s].querySelectorAll(".char"), v = this.$sliderCategories.children[n].querySelectorAll(".char"); $.a.set(this.$sliderCategories.children[n], { display: "block" }); for (var y = 0; y < v.length; y++)$.a.set(v[y], { y: "140%" }); for (var g = 0; g < p.length; g++)$.a.fromTo(p[g], { y: 0, opacity: 1 }, { y: "100%", opacity: 1e-4, duration: 1.3, ease: "duende.inOut", delay: .1 * g, clearProps: "transform" }); for (var f = 0; f < v.length; f++)$.a.fromTo(v[f], { y: "100%", opacity: 1e-4 }, { y: "0%", opacity: 1, duration: 1.3, ease: "duende.inOut", delay: .4 + .1 * f, clearProps: "transform" }); this.slider.color = this.$sliderController.children[n].children[0].dataset.color, $.a.to(this.$sliderNavigation.children[0].querySelector(".front"), { stroke: this.slider.color, duration: 1 }), $.a.to(this.$sliderNavigation.children[0].querySelector(".back"), { stroke: this.slider.color, duration: 1 }), $.a.to(this.$sliderNavigation.children[1].querySelector(".front"), { stroke: this.slider.color, duration: 1 }), $.a.to(this.$sliderNavigation.children[1].querySelector(".back"), { stroke: this.slider.color, duration: 1 }), $.a.delayedCall(this.slider.animationDuration, (function () { $.a.set(t.$sliderButtons.children[s], { display: "none" }), $.a.set(t.$sliderBackgrounds.children[s], { display: "none" }), $.a.set(t.$sliderImages.children[s], { display: "none" }), $.a.set(t.$sliderTexts.children[s], { display: "none" }), $.a.set(t.$sliderCategories.children[s], { display: "none" }), t.slider.animationActive = !1, t.slider.current = n })) } } }, { key: "sliderNavigationGo", value: function (e) { var t = this; this.slider.animationActive || (this.sliderChange(e), this.slider.autoplay && (this.slider.autoplayController.pause(), $.a.fromTo(this.slider, { navigationProgress1: this.slider.navigationProgress1, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { t.sliderNavigationUpdate() }, onComplete: function () { t.slider.autoplayController.restart() } }))) } }, { key: "sliderNavigationUpdate", value: function () { var e = 1194 * this.slider.navigationProgress1, t = 360 * this.slider.navigationProgress2; this.$sliderNavigation.children[0].children[2].style.transform = "rotate(" + t + "deg)", this.$sliderNavigation.children[0].querySelector(".front").style.strokeDashoffset = e + "px" } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && gi(i.prototype, n), s && gi(i, s), a }(d), Si = i(6), wi = i.n(Si); i(38); function ki (e) { return (ki = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function xi (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Ci (e, t) { return !t || "object" !== ki(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function qi () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Oi (e) { return (Oi = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Ai (e, t) { return (Ai = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Pi = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Ai(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Oi(t); if (qi()) { var n = Oi(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Ci(this, e) }); function a (e) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var t = te.appData.articulos; return r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: wi.a, templateData: { data: te.appData, content: te.appData.pages.revista, options: te.appData.options, footer: li.a, articulos: t, ediciones: te.appData.articulos_editions, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.magazine_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 }) } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".magazineFeatured__hero"), this.$featured = this.$el.querySelector(".magazineFeatured__featured"), this.$list = this.$el.querySelector(".magazineFeatured__list"), this.$interview = this.$el.querySelector(".magazineFeatured__interview"), this.$posts = this.$el.querySelector(".magazineFeatured__posts"), this.$banner = this.$el.querySelector(".magazineFeatured__banner"), this.$footer = this.$el.querySelector(".magazineFeatured__footer") } }, { key: "preloadItems", value: function (e) { for (var t = [], i = 0; i < Object.keys(this.store.appData.articulos_editions).length; i++)t.push(this.store.appData.articulos_editions[Object.keys(this.store.appData.articulos_editions)[i]].image.url); return { main: t } } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$hero.querySelector(".intro__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), new Lt(this.$hero.querySelectorAll(".intro__description p"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), new Lt(this.$featured.querySelector(".magazine__number"), { type: "chars", charsClass: "char char--++" }), new Lt(this.$posts.querySelector(".button"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$posts.querySelector(".button").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var i = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), n = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), s = 0; s < i.length; s++)this.enterAnimation.fromTo(i[s], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * s); for (var r = 0; r < n.length; r++)this.enterAnimation.fromTo(n[r], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * r), this.enterAnimation.fromTo(n[r], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * r); this.events.add(this.$posts.querySelector(".button"), "mouseenter", (function (e, i, n) { t.router.buttonEnter(e, i, n) })), this.events.add(this.$posts.querySelector(".button"), "mouseleave", (function (e, i, n) { t.router.buttonLeave(e, i, n) })), this.events.add(this.$featured.querySelector(".magazine__image"), "mousemove", (function (e, i, n) { t.router.magazineEnter(e, i, n) })), this.events.add(this.$featured.querySelector(".magazine__image"), "mouseleave", (function (e, i, n) { t.router.magazineLeave(e, i, n) })), this.init() } }, { key: "init", value: function () { this.superScroller = new ii({ currentSection: this, scroll: !0, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0] }), this.observerSections = Object.values(this.$el.children).concat(Object.values(this.$list.children[0].children[0].children)), this.observerItems = []; for (var e = 0; e < this.$list.querySelectorAll(".magazine").length; e++)this.observerItems.push({ node: this.$list.querySelectorAll(".magazine")[e], delay: 0, id: "magazine" }); this.observerItems.push({ node: this.$interview, delay: 0, id: "interview" }), this.observerItems.push({ node: this.$posts, delay: 0, id: "posts" }), this.$banner && this.observerItems.push({ node: this.$banner.querySelector(".banner"), delay: 0, id: "banner" }), this.observerParallax = [{ node: this.$interview, id: "interview" }], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax, observerItems: this.observerItems }) } }, { key: "observerAnimationInit", value: function (e) { var t = this, i = this.observerItems[e].node; switch (this.observerItems[e].id) { case "hero": $.a.set(i, { opacity: 1e-4, scale: 1, willChange: "transform" }); break; case "magazine": $.a.set(i.querySelector(".magazine__image .shadow"), { scale: 1.4, x: "60px", y: "150%", opacity: 0, webkitFilter: "blur(80px)" }), $.a.set(i.querySelector(".magazine__image img"), { scale: 1.4, y: "75%" }); break; case "interview": new Lt(i.querySelector(".label"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }); for (var n = 0; n < i.querySelector(".label").querySelectorAll(".char").length; n++)$.a.set(i.querySelector(".label").querySelectorAll(".char")[n], { y: "100%" }); new Lt(i.querySelector(".interview__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }); for (var s = 0; s < i.querySelectorAll(".interview__title .line").length; s++)i.querySelectorAll(".interview__title .line")[s].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>'); i.querySelector("a.interview__title") && this.events.add(i.querySelector("a.interview__title"), "mouseenter", (function (e, i, n) { t.router.interviewEnter(e, i, n) })); break; case "posts": new Lt(i.querySelector(".label"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }); for (var r = 0; r < i.querySelector(".label").querySelectorAll(".char").length; r++)$.a.set(i.querySelector(".label").querySelectorAll(".char")[r], { y: "100%" }); for (var a = 0; a < i.querySelectorAll(".post").length; a++)$.a.set(i.querySelectorAll(".post")[a], { y: "10%", opacity: 1e-4 }); break; case "banner": this.events.add(i, "click", (function () { window.dataLayer.push({ event: "click", eAction: i.getAttribute("banner-id"), eLabel: i.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t, i, n, s = this, r = this.observerItems[e].node; switch (this.observerItems[e].id) { case "hero": $.a.fromTo(r, { opacity: 1e-4, scale: 1 }, { opacity: 1, scale: 1, duration: .4 }); break; case "magazine": $.a.to(r.querySelector(".magazine__image .shadow"), { scale: 1, x: "20px", y: "20px", opacity: 1, duration: 1.4, webkitFilter: "blur(7px)", ease: "expo.out" }), $.a.to(r.querySelector(".magazine__image img"), (n = "expo.out", (i = "ease") in (t = { scale: 1, duration: 1, ease: "expo.out" }) ? Object.defineProperty(t, i, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[i] = n, t)), $.a.to(r.querySelector(".magazine__image img"), { y: "0%", duration: 1.8, ease: "expo.out", onComplete: function () { s.events.add(r.querySelector(".magazine__image"), "mousemove", (function (e, t, i) { s.router.magazineEnter(e, t, i) })), s.events.add(r.querySelector(".magazine__image"), "mouseleave", (function (e, t, i) { s.router.magazineLeave(e, t, i) })) } }); break; case "interview": for (var a = 0; a < r.querySelector(".label").querySelectorAll(".char").length; a++)$.a.to(r.querySelector(".label").querySelectorAll(".char")[a], 1.2, { y: "0%", ease: "duende.inOut", delay: 0 + .02 * a }); for (var o = 0; o < r.querySelector(".interview__title").querySelectorAll(".line .hoverline").length; o++)$.a.to(r.querySelector(".interview__title").querySelectorAll(".line .hoverline")[o], 1.2, { scaleX: 1, ease: "duende.inOut", delay: .5 + .02 * o }); break; case "posts": for (var l = 0; l < r.querySelector(".label").querySelectorAll(".char").length; l++)$.a.to(r.querySelector(".label").querySelectorAll(".char")[l], 1.2, { y: "0%", ease: "duende.inOut", delay: 0 + .02 * l }); for (var u = 0; u < r.querySelectorAll(".post").length; u++)$.a.to(r.querySelectorAll(".post")[u], 1.8, { y: "0%", opacity: 1, ease: "power4.out", delay: .5 + .15 * u }); break; case "banner": window.dataLayer.push({ event: "view", eAction: r.getAttribute("banner-id"), eLabel: r.getAttribute("banner-campaign") }) } } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "interview": e.timeline.set(e.node.querySelector(".interview__quote"), { transformOrigin: "50% 50%", willChange: "transform", y: "10vw" }, 0), e.timeline.to(e.node.querySelector(".interview__quote"), { y: "-10vw" }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && xi(i.prototype, n), s && xi(i, s), a }(d); i(39); function Ti (e) { return (Ti = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Fi (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Ei (e, t) { return !t || "object" !== Ti(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Ii () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function ji (e) { return (ji = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Ri (e, t) { return (Ri = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var zi = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Ri(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = ji(t); if (Ii()) { var n = ji(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Ei(this, e) }); function a (e) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var t = te.appData.articulos; return r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: wi.a, templateData: { data: te.appData, content: te.appData.pages.revista, options: te.appData.options, footer: li.a, articulos: t, ediciones: te.appData.articulos_editions, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.magazine_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 }) } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".magazineFeatured__hero"), this.$featured = this.$el.querySelector(".magazineFeatured__featured"), this.$list = this.$el.querySelector(".magazineFeatured__list"), this.$interview = this.$el.querySelector(".magazineFeatured__interview"), this.$posts = this.$el.querySelector(".magazineFeatured__posts"), this.$banner = this.$el.querySelector(".magazineFeatured__banner"), this.$footer = this.$el.querySelector(".magazineFeatured__footer"), this.$carrousel = this.$hero.querySelector(".intro__title") } }, { key: "preloadItems", value: function (e) { for (var t = [], i = 0; i < Object.keys(this.store.appData.articulos_editions).length; i++)t.push(this.store.appData.articulos_editions[Object.keys(this.store.appData.articulos_editions)[i]].image.url); return { main: t } } }, { key: "setup", value: function (e) { new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var t = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), i = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), n = 0; n < t.length; n++)this.enterAnimation.fromTo(t[n], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * n); for (var s = 0; s < i.length; s++)this.enterAnimation.fromTo(i[s], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * s), this.enterAnimation.fromTo(i[s], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * s); this.textCarrousel(), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children).concat(Object.values(this.$list.children[0].children[0].children)), this.observerItems = []; for (var e = 0; e < this.$list.querySelectorAll(".magazine").length; e++)this.observerItems.push({ node: this.$list.querySelectorAll(".magazine")[e], delay: 0, id: "magazine" }); this.observerItems.push({ node: this.$interview, delay: 0, id: "interview" }), this.observerItems.push({ node: this.$posts, delay: 0, id: "posts" }), this.$banner && this.observerItems.push({ node: this.$banner.querySelector(".banner"), delay: 0, id: "banner" }), this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerItems: this.observerItems }) } }, { key: "textCarrousel", value: function () { var e = this.$carrousel.offsetWidth / this.$carrousel.children[0].offsetWidth; this.carrousel = $.a.timeline({ paused: !1, repeat: -1, defaults: { duration: 3 / e, ease: "none" } }); for (var t = 0; t < this.$carrousel.children.length; t++)this.carrousel.to(this.$carrousel.children[t], { x: "-100%" }, 0) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "hero": $.a.set(t, { opacity: 1e-4, scale: 1, willChange: "transform" }); break; case "magazine": $.a.set(t.querySelector(".magazine__info"), { scaleY: 1.4 }), $.a.set(t.querySelector(".magazine__image .shadow"), { scale: 1.4, x: "60px", y: "150%", opacity: 0 }), $.a.set(t.querySelector(".magazine__image img"), { scale: 1.4, y: "75%" }); break; case "interview": new Lt(t.querySelector(".label"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }); for (var i = 0; i < t.querySelector(".label").querySelectorAll(".char").length; i++)$.a.set(t.querySelector(".label").querySelectorAll(".char")[i], { y: "100%" }); new Lt(t.querySelector(".interview__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }); for (var n = 0; n < t.querySelector(".interview__title").querySelectorAll(".line").length; n++)t.querySelector(".interview__title").querySelectorAll(".line")[n].innerHTML = t.querySelector(".interview__title").querySelectorAll(".line")[n].innerHTML + '<span class="underline" style="transform: translateX(-100%)"></span>'; break; case "posts": new Lt(t.querySelector(".label"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }); for (var s = 0; s < t.querySelector(".label").querySelectorAll(".char").length; s++)$.a.set(t.querySelector(".label").querySelectorAll(".char")[s], { y: "100%" }); for (var r = 0; r < t.querySelectorAll(".post").length; r++)$.a.set(t.querySelectorAll(".post")[r], { y: "10%", opacity: 1e-4 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "hero": $.a.fromTo(t, { opacity: 1e-4, scale: 1 }, { opacity: 1, scale: 1, duration: .4 }); break; case "magazine": $.a.to(t.querySelector(".magazine__info"), { scaleY: 1, ease: "expo.out", duration: 2, delay: .15, clearProps: "transform" }), $.a.to(t.querySelector(".magazine__image .shadow"), { scale: 1, x: "20px", y: "20px", opacity: 1, duration: 1.4, ease: "expo.out" }), $.a.to(t.querySelector(".magazine__image img"), { scale: 1, duration: 1, ease: "expo.out" }), $.a.to(t.querySelector(".magazine__image img"), { y: "0%", duration: 1.8, ease: "expo.out" }); break; case "interview": for (var i = 0; i < t.querySelector(".label").querySelectorAll(".char").length; i++)$.a.to(t.querySelector(".label").querySelectorAll(".char")[i], 1.2, { y: "0%", ease: "duende.inOut", delay: 0 + .02 * i }); for (var n = 0; n < t.querySelector(".interview__title").querySelectorAll(".line .underline").length; n++)$.a.to(t.querySelector(".interview__title").querySelectorAll(".line .underline")[n], 1.2, { x: "0%", ease: "duende.inOut", delay: .5 + .02 * n }); break; case "posts": for (var s = 0; s < t.querySelector(".label").querySelectorAll(".char").length; s++)$.a.to(t.querySelector(".label").querySelectorAll(".char")[s], 1.2, { y: "0%", ease: "duende.inOut", delay: 0 + .02 * s }); for (var r = 0; r < t.querySelectorAll(".post").length; r++)$.a.to(t.querySelectorAll(".post")[r], 1.8, { y: "0%", opacity: 1, ease: "power4.out", delay: .5 + .15 * r }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && Fi(i.prototype, n), s && Fi(i, s), a }(d), Li = i(7), Ni = i.n(Li); i(40); function Bi (e) { return (Bi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Mi (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Hi (e, t) { return !t || "object" !== Bi(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Vi () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Yi (e) { return (Yi = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Ui (e, t) { return (Ui = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Gi = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Ui(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Yi(t); if (Vi()) { var n = Yi(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Hi(this, e) }); function a (e) { return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: Ni.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, edition: te.appData.articulos_editions[e.edition], editionItems: te.appData.articulos_editions[e.edition].items, editions: te.appData.articulos_editions, articulos: te.appData.articulos, page: e.page || 1, pageItems: 12, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.magazine_editions }, insertPosition: "FIRST", initialRenderDelay: 0 }) } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".magazineArchive__hero"), this.$posts = this.$el.querySelector(".magazineArchive__posts"), this.$banner = this.$el.querySelector(".magazineArchive__banner"), this.$footer = this.$el.querySelector(".magazineArchive__footer") } }, { key: "preloadItems", value: function (e) { return { main: [this._templateData.edition.cover.url] } } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$hero.querySelector(".intro__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), new Lt(this.$hero.querySelector(".magazine__number"), { type: "chars", charsClass: "char char--++" }), new Lt(this.$posts.querySelector(".button"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$posts.querySelector(".button").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, this._initialRenderDelay / 1e3, { opacity: 1, ease: "power4.out" }, 0); for (var i = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), n = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), s = 0; s < i.length; s++)this.enterAnimation.fromTo(i[s], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * s); for (var r = 0; r < n.length; r++)this.enterAnimation.fromTo(n[r], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * r), this.enterAnimation.fromTo(n[r], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * r); this.$hero.querySelector(".image") && (this.enterAnimation.set(this.$hero.querySelector(".image"), { y: "70%" }, 0), this.enterAnimation.to(this.$hero.querySelector(".image"), { y: "0%", ease: "expo.out", duration: 2, clearProps: "transform" }, 0)); for (var a = 0; a < this.$posts.querySelectorAll(".post").length; a++)this.events.add(this.$posts.querySelectorAll(".post")[a], "mouseenter", (function (e, i, n) { t.router.postEnterList(e, i, n) })), this.events.add(this.$posts.querySelectorAll(".post")[a], "mouseleave", (function (e, i, n) { t.router.postLeaveList(e, i, n) })); this.events.add(this.$posts.querySelector(".button"), "mouseenter", (function (e, i, n) { t.router.buttonEnter(e, i, n) })), this.events.add(this.$posts.querySelector(".button"), "mouseleave", (function (e, i, n) { t.router.buttonLeave(e, i, n) })), this.init() } }, { key: "init", value: function () { this.superScroller = new ii({ currentSection: this, scroll: !0, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0] }), this.observerSections = Object.values(this.$el.children), this.observerItems = []; for (var e = 0; e < this.$posts.querySelectorAll(".post").length; e++)this.observerItems.push({ node: this.$posts.querySelectorAll(".post")[e], delay: 0, id: "post" }); this.$banner && this.observerItems.push({ node: this.$banner.querySelector(".banner"), delay: 0, id: "banner" }), this.observerParallax = []; for (var t = 0; t < this.$posts.querySelectorAll(".post__line").length; t++)this.observerParallax.push({ node: this.$posts.querySelectorAll(".post__line")[t], id: "line" }); this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax, observerItems: this.observerItems }) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t, { pointerEvents: "none" }), $.a.set(t.querySelector(".post__content__title"), { transformOrigin: "0% 0%", scaleX: 1.2, opacity: 1e-4 }), $.a.set(t.querySelector(".post__content__description"), { opacity: 1e-4 }), $.a.set(t.querySelector(".post__image"), { scaleX: 1.2, scaleY: 1.1 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".post__content__title"), { scaleX: 1, opacity: 1, ease: "expo.out", duration: 1.4, delay: .15 }), $.a.to(t.querySelector(".post__content__description"), { opacity: 1, ease: "power4.out", duration: 1, delay: .3 }), $.a.to(t.querySelector(".post__image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: 1.4, delay: 0 }), $.a.set(t, { pointerEvents: "", delay: 1 }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "observerParallaxInit", value: function (e, t) { var i = this.observerParallax[t].id; switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), i) { case "line": e.timeline.set(e.node, { willChange: "transform", x: "40vw" }, 0), e.timeline.to(e.node, { x: "40vw" }, 0), e.timeline.to(e.node, { x: "0vw", duration: 2 }, 1), e.timeline.to(e.node, { x: "0vw" }, 3) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && Mi(i.prototype, n), s && Mi(i, s), a }(d); i(41); function Wi (e) { return (Wi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Xi (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Qi (e, t) { return !t || "object" !== Wi(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Zi () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Ki (e) { return (Ki = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Ji (e, t) { return (Ji = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var en = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Ji(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Ki(t); if (Zi()) { var n = Ki(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Qi(this, e) }); function a (e) { return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: Ni.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, edition: te.appData.articulos_editions[e.edition], editionItems: te.appData.articulos_editions[e.edition].items, editions: te.appData.articulos_editions, articulos: te.appData.articulos, page: e.page || 1, pageItems: 12, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.magazine_editions }, insertPosition: "FIRST", initialRenderDelay: 0 }) } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".magazineArchive__hero"), this.$posts = this.$el.querySelector(".magazineArchive__posts"), this.$banner = this.$el.querySelector(".magazineArchive__banner"), this.$footer = this.$el.querySelector(".magazineArchive__footer") } }, { key: "setup", value: function (e) { if (new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, this._initialRenderDelay / 1e3, { opacity: 1, ease: "power4.out" }, 0), this.$hero.querySelector(".intro__title")) for (var t = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), i = 0; i < t.length; i++)this.enterAnimation.fromTo(t[i], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * i); if (this.$hero.querySelector(".intro__description")) for (var n = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), s = 0; s < n.length; s++)this.enterAnimation.fromTo(n[s], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * s), this.enterAnimation.fromTo(n[s], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * s); this.enterAnimation.set(this.$hero.querySelector(".image"), { y: "70%" }, 0), this.enterAnimation.to(this.$hero.querySelector(".image"), { y: "0%", ease: "expo.out", duration: 2, clearProps: "transform" }, 0), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = []; for (var e = 0; e < this.$posts.querySelectorAll(".post").length; e++)this.observerItems.push({ node: this.$posts.querySelectorAll(".post")[e], delay: 0, id: "post" }); this.$banner && this.observerItems.push({ node: this.$banner.querySelector(".banner"), delay: 0, id: "banner" }), this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerItems: this.observerItems }) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t.querySelector(".post__content"), { transformOrigin: "0% 0%", scaleX: 1.2, opacity: 1e-4 }), $.a.set(t.querySelector(".post__image"), { scaleX: 1.2, scaleY: 1.1 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".post__content"), { scaleX: 1, opacity: 1, ease: "expo.out", duration: 1.4, delay: .3 }), $.a.to(t.querySelector(".post__image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: 1.4, delay: 0 }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && Xi(i.prototype, n), s && Xi(i, s), a }(d), tn = i(8), nn = i.n(tn); i(42); function sn (e) { return (sn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function rn (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function an (e, t) { return !t || "object" !== sn(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function on () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function ln (e) { return (ln = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function un (e, t) { return (un = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var cn = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && un(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = ln(t); if (on()) { var n = ln(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return an(this, e) }); function a (e) { var t; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var i = Object.keys(te.appData.articulos).find((function (t) { return te.appData.articulos[t].slug === e.articulo })), n = te.appData.articulos[i], s = te.appData.articulos; return (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: nn.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, articulo: n, articulos: s, articulosInEdition: te.appData.articulos_editions[n.edition[0].slug].items, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.article_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 })).readingFinish = !1, t.readingTime = 60 * n.reading, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$scroll = this._parent.querySelector(".scroll"), this.$hero = this.$el.querySelector(".magazineSingle__hero"), this.$image = this.$el.querySelector(".magazineSingle__image"), this.$flexible = this.$el.querySelector(".magazineSingle__flexible"), this.$flexibleGallery = this.$flexible.querySelector(".gallery"), this.$flexibleVideo = this.$flexible.querySelector(".video"), this.$flexibleQuotes = this.$flexible.querySelectorAll(".quote"), this.$flexibleQuotesImage = this.$flexible.querySelectorAll(".quote-image"), this.$share = this.$el.querySelector(".magazineSingle__share"), this.$related = this.$el.querySelector(".magazineSingle__related"), this.$footer = this.$el.querySelector(".magazineSingle__footer") } }, { key: "setup", value: function (e) { var t = this; if (new Lt(this.$hero.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), new Lt(this.$related.querySelector(".button"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$related.querySelector(".button").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }), this.$hero.querySelector(".title").classList.add("split"), this.$flexibleQuotes) for (var i = 0; i < this.$flexibleQuotes.length; i++)new Lt(this.$flexibleQuotes[i].children[1], { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$flexibleQuotes[i].children[1].classList.add("split"); if (this.$flexibleQuotesImage) for (var n = 0; n < this.$flexibleQuotesImage.length; n++)new Lt(this.$flexibleQuotesImage[n].children[1], { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$flexibleQuotesImage[n].children[1].classList.add("split"); this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), this.$scroll && this.events.add(this.$scroll.querySelectorAll(".arrow"), "click", (function (e, i, n) { t.superScroller.scrollAnimate(0) })); for (var s = 0; s < this.$related.querySelectorAll(".post").length; s++) { var r = this.$related.querySelectorAll(".post")[s]; new Lt(r.querySelector(".post__content__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }); for (var a = 0; a < r.querySelectorAll(".post__content__title .line").length; a++)r.querySelectorAll(".post__content__title .line")[a].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>'); this.events.add(r, "mouseenter", (function (e, i, n) { t.router.postEnterSmall(e, i, n) })), this.events.add(r, "mouseleave", (function (e, i, n) { t.router.postLeaveSmall(e, i, n) })) } this.events.add(this.$related.querySelector(".button"), "mouseenter", (function (e, i, n) { t.router.buttonEnter(e, i, n) })), this.events.add(this.$related.querySelector(".button"), "mouseleave", (function (e, i, n) { t.router.buttonLeave(e, i, n) })), this.$flexibleGallery && this.galleryInit(), this.$flexibleVideo && this.videoInit(), this.init() } }, { key: "init", value: function () { var e = this; this.superScroller = new ii({ currentSection: this, scroll: !0, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0], onRaf: function () { e.$scroll && e.checkScroll() } }), this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$hero, delay: 0, id: "hero" }, { node: this.$flexible, delay: 0, id: "flexible" }, { node: this.$share, delay: 0, id: "share" }, { node: this.$related, delay: 0, id: "related" }, { node: this.$footer }], this.observerParallax = [{ node: this.$image, id: "image" }], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax }) } }, { key: "preloadItems", value: function (e) { return { main: [this._templateData.articulo.image.sizes["duendelandscape-large"]] } } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "image": e.timeline.set(e.node.querySelector(".image__bg"), { transformOrigin: "50% 50%", willChange: "transform", scale: 1.25 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), { scale: 1 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), {}, 1) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "checkScroll", value: function () { var e = this, t = this.$share.getBoundingClientRect().height + this.$related.getBoundingClientRect().height + this.$footer.getBoundingClientRect().height, i = Math.abs(this.superScroller._scroll.maxScroll.y) - t, n = Math.abs(this.superScroller._scroll.livePosition.y) / i, s = 1194 - 1194 * n, r = ((1 - n) * this.readingTime).toFixed(0), a = Math.floor(r / 60), o = Math.floor(r % 60), l = a < 10 ? "0" + a : a, u = o < 10 ? "0" + o : o; if (n >= 1) { if (!0 === this.readingFinish) return; $.a.to(this.$scroll.children[0], { y: "-30%", opacity: 1e-4, ease: "power4.out", duration: 1 }), $.a.set(this.$scroll.children[1], { display: "block" }), $.a.to(this.$scroll.children[1], { y: "0%", opacity: 1, ease: "power4.out", duration: 1, delay: .1 }), this.$scroll.classList.add("scroll--end"), this.readingFinish = !0 } else { if (this.$scroll.children[0].innerHTML = l + "'" + u + "''", this.$scroll.querySelector(".front").style.strokeDashoffset = s + "px", !1 === this.readingFinish) return; $.a.to(this.$scroll.children[1], { y: "30%", opacity: 1e-4, ease: "power4.out", duration: 1, onComplete: function () { $.a.set(e.$scroll.children[1], { display: "none" }) } }), $.a.to(this.$scroll.children[0], { y: "0%", opacity: 1, ease: "power4.out", duration: 1, delay: .1 }), this.$scroll.classList.remove("scroll--end"), this.readingFinish = !1 } } }, { key: "galleryInit", value: function () { var e = this; this.$galleryInner = this.$flexibleGallery.querySelector(".gallery__inner"), this.$galleryItems = this.$flexibleGallery.querySelectorAll(".gallery__item"), this.$galleryNavigation = this.$flexibleGallery.querySelector(".gallery__navigation"), this.$galleryCount = this.$flexibleGallery.querySelector(".gallery__count"), this.events.add(this.$galleryNavigation.children[0], "click", (function () { e.galleryMove(0) }), this), this.events.add(this.$galleryNavigation.children[1], "click", (function () { e.galleryMove(1) }), this), this.gallery = { total: 0, current: 0, loop: !0, isAnimating: !1 }, this.$flexibleGallery.classList.add("gallery--initialized"), this.gallery.total = this.$galleryItems.length, this.gallery.maxVisibles = this.$galleryItems.length, this.$galleryCount.children[1].innerHTML = "/" + this.gallery.total; for (var t = 0; t < this.$galleryItems.length; t++)$.a.set(this.$galleryItems[t], { display: "none" }); $.a.set(this.$galleryItems[0], { display: "block" }) } }, { key: "galleryMove", value: function (e) { var t = this; if (!this.gallery.isAnimating) { var i = this.gallery.loop, n = this.gallery.total, s = this.gallery.current, r = (this.gallery.current + 1) % n, a = 0 === s ? n - 1 : this.gallery.current - 1; if (1 === e) { if (0 === r && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = r + 1, this.gallery.current = r, $.a.set(this.$galleryItems[r], { display: "block" }), $.a.set(this.$galleryItems[r], { x: "100%" }), $.a.to(this.$galleryItems[s], { x: "-100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[r], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0], { x: "-50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } else { if (0 === s && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = a + 1, this.gallery.current = a, $.a.set(this.$galleryItems[a], { display: "block" }), $.a.set(this.$galleryItems[a], { x: "-100%" }), $.a.to(this.$galleryItems[s], { x: "100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "-50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[a], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0], { x: "50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } $.a.delayedCall(1.7, (function () { $.a.set(t.$galleryItems[s], { display: "none", clearProps: "transform" }), t.gallery.isAnimating = !1 })) } } }, { key: "videoInit", value: function () { var e = this; this.$videoInner = this.$flexibleVideo.querySelector(".video__inner"), this.$videoPlayer = this.$flexibleVideo.querySelector(".video__player"), this.$videoPoster = this.$flexibleVideo.querySelector(".video__poster"), this.$videoTrigger = this.$flexibleVideo.querySelector(".video__trigger"), this.$flexibleVideo.classList.contains("video--youtube") ? (this.videoYoutubeInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoYoutubePlay() }), this)) : (this.videoVimeoInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoVimeoPlay() }), this)) } }, { key: "videoYoutubeInit", value: function () { var e = this; if (window.YT.loaded) { var t = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new YT.Player(t, { playerVars: { rel: 0, showinfo: 0, ecver: 2 }, videoId: t, events: { onStateChange: function (t) { 0 === t.data && ($.a.to(e.$videoPoster, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoTrigger, .3, { opacity: 1, ease: "power2.inOut", delay: 0, onComplete: function () { $.a.set(e.$videoPlayer.children, { display: "none" }) } })) } } }) } else setTimeout((function () { e.videoYoutubeInit() }), 10) } }, { key: "videoYoutubePlay", value: function () { $.a.set(this.$videoPlayer.children, { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.playVideo() } }, { key: "videoYoutubeStop", value: function () { this.$videoPlayerObj.stopVideo() } }, { key: "videoVimeoInit", value: function () { var e = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new Vimeo.Player(e, { id: e, width: 640, loop: !0 }) } }, { key: "videoVimeoPlay", value: function () { $.a.set(this.$videoPlayer.children[0].children[0], { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", pointerEvents: "none", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.play() } }, { key: "videoVimeoStop", value: function () { this.$videoPlayerObj.pause() } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && rn(i.prototype, n), s && rn(i, s), a }(d); function dn (e) { return (dn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _n (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var hn = "ontouchstart" in document, pn = { VERTICAL: 1, HORIZONTAL: 2 }, vn = { DEFAULT: 1, CARD: 2 }, yn = function () { }, gn = function () { function e (t) { var i = this; if (function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), "object" !== dn(t)) throw new Error("touchSlider needs options to work."); this._target = t.target || window, this._touchDirection = t.touchDirection ? pn[t.touchDirection] : pn.HORIZONTAL, this._touchMode = t.touchMode ? vn[t.touchMode] : vn.DEFAULT, this._duration = t.duration || .75, this._ease = t && t.ease ? t.ease : "power4.out", this._touchMultiplier = t.touchMultiplier || 1, this._touchStartPosition = { x: 0, y: 0 }, this._touchInitialPosition = { x: 0, y: 0 }, this._touchPosition = { x: 0, y: 0 }, this._canSwipe = !1 !== t.canSwipe, this._swipeTime = 0, this._swipeLastPosition = { x: 0, y: 0 }, this._swipeVelocity = 0, this._swipeMinVelocity = t.swipeMinVelocity || 1, this._lastClosestNode = 0, this._onRaf = t.onRaf || yn, this._onTStart = t.onTouchStart || yn, this._onTMove = t.onTouchMove || yn, this._onTEnd = t.onTouchEnd || yn, this._animation = new $.a.delayedCall(0, yn), this._nodes = []; for (var n = t.nodes.length ? t.nodes : [t.nodes], s = 0; s < n.length; s++)this._nodes.push({ el: n[s], position: 0, sizes: { w: 0, h: 0 }, additionalTransform: "" }); this.enabled = !1 !== t.enabled, this._isScrolling = void 0, this._onTouchStart = function (e) { if (i.enabled) { i._animation.kill(); var t = e.targetTouches ? e.targetTouches[0] : e; i._touchStartPosition.x = t.clientX + i._touchPosition.x, i._touchStartPosition.y = t.clientY + i._touchPosition.y, i._touchInitialPosition.x = i._touchPosition.x, i._touchInitialPosition.y = i._touchPosition.y, i._onTStart() } }, this._onTouchMove = function (e) { if (!0 !== i._isScrolling) { var t = e.targetTouches ? e.targetTouches[0] : e; if (void 0 === i._isScrolling) { var n = (i._touchStartPosition.x - i._touchPosition.x - t.clientX) * i._touchMultiplier, s = (i._touchStartPosition.y - i._touchPosition.y - t.clientY) * i._touchMultiplier; if (i._touchDirection === pn.HORIZONTAL && 0 === Math.abs(s) || i._touchDirection === pn.VERTICAL && 0 === Math.abs(n)) i._isScrolling = !1; else if (n * n + s * s >= 25) { var r = 180 * Math.atan2(Math.abs(s), Math.abs(n)) / Math.PI; if (i._isScrolling = i._touchDirection === pn.HORIZONTAL ? r > 45 : 90 - r > 45, i._isScrolling) return } } i._touchPosition.x = (i._touchStartPosition.x - t.clientX) * i._touchMultiplier, i._touchPosition.y = (i._touchStartPosition.y - t.clientY) * i._touchMultiplier, i._onTMove(), e.preventDefault(), e.stopPropagation() } }, this._onTouchEnd = function (e) { var t, n = ["x", "y"], s = [{ x: 0, ease: i._ease, overwrite: "all" }, { y: 0, ease: i._ease, overwrite: "all" }], r = i._touchDirection === pn.HORIZONTAL ? 0 : 1, a = i._touchPosition[n[r]] < i._touchInitialPosition[n[r]] ? "left" : "right", o = i._canSwipe && i._swipeVelocity > i._swipeMinVelocity; t = i._touchPosition[n[r]] < 0 ? 0 : i._touchPosition[n[r]] > i._nodes[i._nodes.length - 1].position ? i._nodes.length - 1 : o ? "left" === a && 0 === i._lastClosestNode ? 0 : "right" === a && i._lastClosestNode === i._nodes.length - 1 ? i._nodes.length - 1 : "left" === a ? i._lastClosestNode - 1 : i._lastClosestNode + 1 : i._getClosestNode(n[r], ["w", "h"][r], a, .2), s[r][n[r]] = i._nodes[t].position, i._animation = $.a.to(i._touchPosition, i._duration, s[r]), i._lastClosestNode = t, i._isScrolling = void 0, i._onTEnd(t) }, this._update = function () { var e = ["x", "y"], t = i._touchDirection === pn.HORIZONTAL ? 0 : 1; if (i._canSwipe) { var n = performance.now(), s = Math.abs(i._touchPosition[e[t]] - i._swipeLastPosition[e[t]]); i._swipeVelocity = s / (n - i._swipeTime), i._swipeTime = n, i._swipeLastPosition.x = i._touchPosition.x, i._swipeLastPosition.y = i._touchPosition.y } if (i._touchMode === vn.DEFAULT) for (var r = 0; r < i._nodes.length; r++) { var a = -i._touchPosition.x * (1 - t), o = -i._touchPosition.y * t; i._nodes[r].el.style.transform = "translate3d(" + a.toString() + "px," + o.toString() + "px, 0px) " + i._nodes[r].additionalTransform } i._onRaf() }, hn && (this._target.addEventListener("touchstart", this._onTouchStart, { passive: !0, capture: !1 }), this._target.addEventListener("touchmove", this._onTouchMove, { passive: !1, capture: !1 }), this._target.addEventListener("touchend", this._onTouchEnd, { passive: !0, capture: !1 })), $.a.ticker.add(this._update) } var t, i, n; return t = e, (i = [{ key: "_getClosestNode", value: function (e, t, i, n) { for (var s = 0, r = 1 / 0, a = 0; a < this._nodes.length; a++) { var o = Math.abs(this._touchPosition[e] - this._nodes[a].position + ("right" === i ? this._nodes[a].sizes[t] * n : this._nodes[a].sizes[t] * -n)); o < r && (r = o, s = a) } return s } }, { key: "resize", value: function (e, t) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "", r = !(arguments.length > 5 && void 0 !== arguments[5]) || arguments[5], a = ["x", "y"], o = ["w", "h"], l = ["left", "top"], u = [{ css: { left: 0 } }, { css: { top: 0 } }], c = this._touchDirection === pn.HORIZONTAL ? 0 : 1; if (this._touchMode === vn.DEFAULT) { for (var d = this._getClosestNode(a[c], o[c], "right", 0) || 0, _ = null === i ? this._nodes : [this._nodes[i]], h = 0; h < _.length; h++)_[h].sizes[o[c]] = this._touchDirection === pn.HORIZONTAL ? e : t, _[h].position = null === i ? 0 === h ? 0 : this._nodes[h - 1].position + this._nodes[h - 1].sizes[o[c]] : 0 === i ? 0 : this._nodes[i - 1].position + this._nodes[i - 1].sizes[o[c]], r && (u[c].css[l[c]] = _[h].position + n, $.a.set(_[h].el, u[c])), _[h].additionalTransform = s; this._touchPosition[a[c]] = this._nodes[d].position } } }, { key: "removeTicker", value: function () { $.a.ticker.remove(this._update) } }, { key: "removeEvents", value: function () { hn && (this._target.removeEventListener("touchstart", this._onTouchStart), this._target.removeEventListener("touchmove", this._onTouchMove), this._target.removeEventListener("touchend", this._onTouchEnd)) } }, { key: "destroy", value: function () { this.removeTicker(), this.removeEvents(), this._nodes = [], this._target = null } }]) && _n(t.prototype, i), n && _n(t, n), e }(); i(43); function fn (e) { return (fn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function mn (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function bn (e, t) { return !t || "object" !== fn(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Dn () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function $n (e) { return ($n = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Sn (e, t) { return (Sn = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var wn = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Sn(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = $n(t); if (Dn()) { var n = $n(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return bn(this, e) }); function a (e) { var t; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var i = Object.keys(te.appData.articulos).find((function (t) { return te.appData.articulos[t].slug === e.articulo })), n = te.appData.articulos[i], s = te.appData.articulos; return (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: nn.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, articulo: n, articulos: s, articulosInEdition: te.appData.articulos_editions[n.edition[0].slug].items, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.article_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 })).readingFinish = !1, t.readingTime = 60 * n.reading, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".magazineSingle__hero"), this.$image = this.$el.querySelector(".magazineSingle__image"), this.$flexible = this.$el.querySelector(".magazineSingle__flexible"), this.$flexibleGallery = this.$flexible.querySelector(".gallery"), this.$flexibleVideo = this.$flexible.querySelector(".video"), this.$flexibleQuotes = this.$flexible.querySelectorAll(".quote"), this.$flexibleQuotesImage = this.$flexible.querySelectorAll(".quote-image"), this.$share = this.$el.querySelector(".magazineSingle__share"), this.$footer = this.$el.querySelector(".magazineSingle__footer"), this.$related = this.$el.querySelector(".magazineSingle__related"), this.$relatedList = this.$related.querySelector(".list"), this.$relatedPosts = this.$related.querySelectorAll(".post"), this.$carrousel = this.$related.querySelector(".spinelabel") } }, { key: "setup", value: function (e) { this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var t = 0; t < this.$relatedPosts.length; t++) { var i = this.$relatedPosts[0].getBoundingClientRect().height, n = this.$relatedPosts[1].getBoundingClientRect().height; i > n ? $.a.set(this.$relatedList, { height: i }) : $.a.set(this.$relatedList, { height: n }) } this.slider = new gn({ target: this.$relatedList.querySelector(".list__inner"), nodes: this.$relatedPosts, enable: !0 }), this.textCarrousel(), this.$flexibleGallery && this.galleryInit(), this.$flexibleVideo && this.videoInit(), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$hero, delay: 0, id: "hero" }, { node: this.$flexible, delay: 0, id: "flexible" }, { node: this.$share, delay: 0, id: "share" }, { node: this.$related, delay: 0, id: "related" }, { node: this.$footer }], this.observerParallax = [{ node: this.$image, id: "image" }], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax }) } }, { key: "preloadItems", value: function (e) { return { main: [this._templateData.articulo.image.sizes["duendelandscape-large"]] } } }, { key: "textCarrousel", value: function () { var e = this.$carrousel.offsetWidth / this.$carrousel.children[0].offsetWidth; this.carrousel = $.a.timeline({ paused: !1, repeat: -1, defaults: { duration: 3 / e, ease: "none" } }); for (var t = 0; t < this.$carrousel.children.length; t++)this.carrousel.to(this.$carrousel.children[t], { x: "-100%" }, 0) } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "image": e.timeline.set(e.node.querySelector(".image__bg"), { transformOrigin: "50% 50%", willChange: "transform", scale: 1.25 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), { scale: 1 }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "galleryInit", value: function () { var e = this; this.$galleryInner = this.$flexibleGallery.querySelector(".gallery__inner"), this.$galleryItems = this.$flexibleGallery.querySelectorAll(".gallery__item"), this.$galleryNavigation = this.$flexibleGallery.querySelector(".gallery__navigation"), this.$galleryCount = this.$flexibleGallery.querySelector(".gallery__count"), this.events.add(this.$galleryNavigation.children[0], "click", (function () { e.galleryMove(0) }), this), this.events.add(this.$galleryNavigation.children[1], "click", (function () { e.galleryMove(1) }), this), this.gallery = { total: 0, current: 0, loop: !0, isAnimating: !1 }, this.$flexibleGallery.classList.add("gallery--initialized"), this.gallery.total = this.$galleryItems.length, this.gallery.maxVisibles = this.$galleryItems.length, this.$galleryCount.children[1].innerHTML = "/" + this.gallery.total; for (var t = 0; t < this.$galleryItems.length; t++)$.a.set(this.$galleryItems[t], { display: "none" }); $.a.set(this.$galleryItems[0], { display: "block" }) } }, { key: "galleryMove", value: function (e) { var t = this; if (!this.gallery.isAnimating) { var i = this.gallery.loop, n = this.gallery.total, s = this.gallery.current, r = (this.gallery.current + 1) % n, a = 0 === s ? n - 1 : this.gallery.current - 1; if (1 === e) { if (0 === r && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = r + 1, this.gallery.current = r, $.a.set(this.$galleryItems[r], { display: "block" }), $.a.set(this.$galleryItems[r], { x: "100%" }), $.a.to(this.$galleryItems[s], { x: "-100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[r], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0], { x: "-50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } else { if (0 === s && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = a + 1, this.gallery.current = a, $.a.set(this.$galleryItems[a], { display: "block" }), $.a.set(this.$galleryItems[a], { x: "-100%" }), $.a.to(this.$galleryItems[s], { x: "100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "-50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[a], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0], { x: "50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } $.a.delayedCall(1.7, (function () { $.a.set(t.$galleryItems[s], { display: "none", clearProps: "transform" }), t.gallery.isAnimating = !1 })) } } }, { key: "videoInit", value: function () { var e = this; this.$videoInner = this.$flexibleVideo.querySelector(".video__inner"), this.$videoPlayer = this.$flexibleVideo.querySelector(".video__player"), this.$videoPoster = this.$flexibleVideo.querySelector(".video__poster"), this.$videoOverlay = this.$flexibleVideo.querySelector(".video__overlay"), this.$videoTrigger = this.$flexibleVideo.querySelector(".video__trigger"), this.$flexibleVideo.classList.contains("video--youtube") ? (this.videoYoutubeInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoYoutubePlay() }), this)) : (this.videoVimeoInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoVimeoPlay() }), this)) } }, { key: "videoYoutubeInit", value: function () { var e = this; if (window.YT.loaded) { var t = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new YT.Player(t, { playerVars: { rel: 0, showinfo: 0, ecver: 2 }, videoId: t, events: { onStateChange: function (t) { 0 === t.data && ($.a.to(e.$videoPoster, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoOverlay, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoTrigger, .3, { opacity: 1, ease: "power2.inOut", delay: 0, onComplete: function () { $.a.set(e.$videoPlayer.children, { display: "none" }) } })) } } }) } else setTimeout((function () { e.videoYoutubeInit() }), 10) } }, { key: "videoYoutubePlay", value: function () { $.a.set(this.$videoPlayer.children, { display: "block" }), $.a.to(this.$videoOverlay, { opacity: 1e-4, duration: 1, ease: "power2.out", delay: 0 }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.playVideo() } }, { key: "videoYoutubeStop", value: function () { this.$videoPlayerObj.stopVideo() } }, { key: "videoVimeoInit", value: function () { var e = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new Vimeo.Player(e, { id: e, width: 640, loop: !0 }) } }, { key: "videoVimeoPlay", value: function () { $.a.set(this.$videoPlayer.children[0].children[0], { display: "block" }), $.a.to(this.$videoOverlay, { opacity: 1e-4, duration: 1, ease: "power2.out", delay: 0 }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", pointerEvents: "none", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.play() } }, { key: "videoVimeoStop", value: function () { this.$videoPlayerObj.pause() } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize(), this.slider.resize(this.$relatedList.offsetWidth, this.$relatedList.offsetHeight) } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && mn(i.prototype, n), s && mn(i, s), a }(d), kn = i(9), xn = i.n(kn); i(44); function Cn (e) { return (Cn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function qn (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function On (e, t) { return !t || "object" !== Cn(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function An () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Pn (e) { return (Pn = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Tn (e, t) { return (Tn = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Fn = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Tn(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Pn(t); if (An()) { var n = Pn(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return On(this, e) }); function a (e) { return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: xn.a, templateData: { data: te.appData, content: te.appData.pages.planes, options: te.appData.options, footer: li.a, planes: te.appData.planes, planesFeatured: te.appData.pages.planes.planes, planesCategories: te.appData.planes_category, banners: te.appData.banners, bannersTop: te.appData.banners_locations.planes_top, bannersBottom: te.appData.banners_locations.planes_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 }) } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".plansFeatured__hero"), this.$filter = this.$el.querySelector(".plansFeatured__filter"), this.$featured = this.$el.querySelector(".plansFeatured__featured"), this.$list = this.$el.querySelector(".plansFeatured__list"), this.$bannerTop = this.$el.querySelector(".banner--planes_top"), this.$bannerBottom = this.$el.querySelector(".banner--planes_bottom"), this.$footer = this.$el.querySelector(".plansFeatured__footer") } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$hero.querySelector(".intro__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), new Lt(this.$featured.querySelector(".post__content__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }); for (var i = this.$featured.querySelectorAll(".post__content__title .line"), n = 0; n < i.length; n++)i[n].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>'); this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var s = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), r = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), a = this.$filter.querySelectorAll(".filter__item"), o = 0; o < s.length; o++)this.enterAnimation.fromTo(s[o], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * o); for (var l = 0; l < r.length; l++)this.enterAnimation.fromTo(r[l], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * l), this.enterAnimation.fromTo(r[l], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * l); for (var u = 0; u < a.length; u++)this.enterAnimation.fromTo(a[u], 1.8, { scale: .8, opacity: 0 }, { scale: 1, opacity: 1, ease: "power4.out" }, .8 + .02 * u); this.enterAnimation.set(this.$featured.querySelector(".mask"), { y: "45%" }, 0), this.enterAnimation.set(this.$featured.querySelector(".image"), { y: "70%" }, 0), this.enterAnimation.to(this.$featured.querySelector(".mask"), { y: "0%", ease: "expo.out", duration: 2, clearProps: "transform" }, 0), this.enterAnimation.to(this.$featured.querySelector(".image"), { y: "0%", ease: "expo.out", duration: 2, clearProps: "transform" }, 0), this.events.add(this.$featured.querySelector(".post--featured"), "mouseenter", (function (e, i, n) { t.router.postEnterFeatured(e, i, n) })), this.events.add(this.$featured.querySelector(".post--featured"), "mouseleave", (function (e, i, n) { t.router.postLeaveFeatured(e, i, n) })); for (var c = 0; c < this.$list.querySelectorAll(".post--default").length; c++) { new Lt(this.$list.querySelectorAll(".post--default")[c].querySelector(".post__content__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }); for (var d = this.$list.querySelectorAll(".post--default")[c].querySelectorAll(".post__content__title .line"), _ = 0; _ < d.length; _++)d[_].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>'); this.events.add(this.$list.querySelectorAll(".post--default")[c], "mouseenter", (function (e, i, n) { t.router.postEnter(e, i, n) })), this.events.add(this.$list.querySelectorAll(".post--default")[c], "mouseleave", (function (e, i, n) { t.router.postLeave(e, i, n) })) } for (var h = 0; h < this.$list.querySelectorAll(".post--large").length; h++)this.events.add(this.$list.querySelectorAll(".post--large")[h], "mouseenter", (function (e, i, n) { t.router.postEnterLarge(e, i, n) })), this.events.add(this.$list.querySelectorAll(".post--large")[h], "mouseleave", (function (e, i, n) { t.router.postLeaveLarge(e, i, n) })); for (var p = 0; p < this.$list.querySelectorAll(".post--small").length; p++) { new Lt(this.$list.querySelectorAll(".post--small")[p].querySelector(".post__content__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }); for (var v = this.$list.querySelectorAll(".post--small")[p].querySelectorAll(".post__content__title .line"), y = 0; y < v.length; y++)v[y].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>'); this.events.add(this.$list.querySelectorAll(".post--small")[p], "mouseenter", (function (e, i, n) { t.router.postEnterSmall(e, i, n) })), this.events.add(this.$list.querySelectorAll(".post--small")[p], "mouseleave", (function (e, i, n) { t.router.postLeaveSmall(e, i, n) })) } this.bannerInit(), this.init() } }, { key: "init", value: function () { var e = this; this.superScroller = new ii({ currentSection: this, scroll: !0, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0], onRaf: function (t) { var i = -1 * t.livePosition.y; e.bannerRaf(i) } }), this.observerSections = Object.values(this.$el.children).concat(Object.values(this.$list.children[0].children)), this.observerItems = [{ node: this.$list.querySelectorAll(".post")[0], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[1], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[2], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[3], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[4], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[5], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[6], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[7], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[8], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[9], duration: 2, delay: .3, id: "post" }], this.$bannerTop && this.observerItems.push({ node: this.$bannerTop, delay: 0, id: "banner" }), this.$bannerBottom && this.observerItems.push({ node: this.$bannerBottom, delay: 0, id: "banner" }), this.observerParallax = [], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerItems: this.observerItems }) } }, { key: "preloadItems", value: function (e) { return { main: [this._templateData.planes[this._templateData.planesFeatured[0]].image.sizes["duendelandscape-medium"]] } } }, { key: "bannerInit", value: function () { if (this.$bannerTop) { var e = this.$bannerTop.getBoundingClientRect(), t = Math.max(this.$list.querySelectorAll(".post")[0].offsetHeight, this.$list.querySelectorAll(".post")[1].offsetHeight) - e.height - .05 * window.innerWidth; this.bannerTop = { node: this.$bannerTop, scroll: t, start: e.y - .1 * window.innerWidth, end: e.y - .1 * window.innerWidth + t } } if (this.$bannerBottom) { var i = this.$bannerBottom.getBoundingClientRect(), n = Math.max(this.$list.querySelectorAll(".post")[8].offsetHeight, this.$list.querySelectorAll(".post")[9].offsetHeight) - i.height - .05 * window.innerWidth; this.bannerBottom = { node: this.$bannerBottom, scroll: n, start: i.y - .1 * window.innerWidth, end: i.y - .1 * window.innerWidth + n } } } }, { key: "bannerRaf", value: function (e) { this.$bannerTop && e > this.bannerTop.start && e < this.bannerTop.end && $.a.set(this.bannerTop.node, { y: e - this.bannerTop.start + "px", ease: "power4.out", delay: 0 }), this.$bannerBottom && e > this.bannerBottom.start && e < this.bannerBottom.end && $.a.set(this.bannerBottom.node, { y: e - this.bannerBottom.start + "px", ease: "power4.out", delay: 0 }) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t, { pointerEvents: "none" }), $.a.set(t.querySelector(".mask"), { y: "40%", scaleY: 1.4 }), $.a.set(t.querySelector(".image"), { y: "80%", scaleY: 1.4 }), $.a.set(t.querySelector(".post__content"), { y: "100%", scaleY: 1.2 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".mask"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: 0, clearProps: "transform" }), $.a.to(t.querySelector(".image"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: .15, clearProps: "transform" }), $.a.to(t.querySelector(".post__content"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: .3, clearProps: "transform" }), $.a.set(t, { pointerEvents: "", delay: 1.5 }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.to(this.$el, 2, { opacity: 1e-4, ease: "power4.in" }), $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && qn(i.prototype, n), s && qn(i, s), a }(d); i(45); function En (e) { return (En = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function In (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function jn (e, t) { return !t || "object" !== En(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Rn () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function zn (e) { return (zn = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Ln (e, t) { return (Ln = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Nn = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Ln(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = zn(t); if (Rn()) { var n = zn(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return jn(this, e) }); function a (e) { return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: xn.a, templateData: { data: te.appData, content: te.appData.pages.planes, options: te.appData.options, footer: li.a, planes: te.appData.planes, planesFeatured: te.appData.pages.planes.planes, planesCategories: te.appData.planes_category, banners: te.appData.banners, bannersTop: te.appData.banners_locations.planes_top, bannersBottom: te.appData.banners_locations.planes_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 }) } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".plansFeatured__hero"), this.$filter = this.$el.querySelector(".plansFeatured__filter"), this.$featured = this.$el.querySelector(".plansFeatured__featured"), this.$list = this.$el.querySelector(".plansFeatured__list"), this.$footer = this.$el.querySelector(".plansFeatured__footer"), this.$carrousel = this.$hero.querySelector(".intro__title") } }, { key: "setup", value: function (e) { new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.fromTo(this.$hero.querySelector(".filter"), { scrollLeft: window.innerWidth, opacity: 1e-4 }, { scrollLeft: window.innerWidth / 4, opacity: 1, duration: 3, ease: "power4.inOut" }); for (var t = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), i = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), n = 0; n < t.length; n++)this.enterAnimation.fromTo(t[n], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * n); for (var s = 0; s < i.length; s++)this.enterAnimation.fromTo(i[s], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * s), this.enterAnimation.fromTo(i[s], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * s); this.enterAnimation.set(this.$featured.querySelector(".mask"), { y: "45%" }, 0), this.enterAnimation.set(this.$featured.querySelector(".image"), { y: "70%" }, 0), this.enterAnimation.to(this.$featured.querySelector(".mask"), { y: "0%", ease: "expo.out", duration: 2, clearProps: "transform" }, 0), this.enterAnimation.to(this.$featured.querySelector(".image"), { y: "0%", ease: "expo.out", duration: 2, clearProps: "transform" }, 0), this.textCarrousel(), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$list.querySelectorAll(".post")[0], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[1], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[2], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[3], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[4], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[5], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[6], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[7], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[8], duration: 2, delay: .3, id: "post" }, { node: this.$list.querySelectorAll(".post")[9], duration: 2, delay: .3, id: "post" }], this.$bannerTop && this.observerItems.push({ node: this.$bannerTop, delay: 0, id: "banner" }), this.$bannerBottom && this.observerItems.push({ node: this.$bannerBottom, delay: 0, id: "banner" }), this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerItems: this.observerItems }) } }, { key: "preloadItems", value: function (e) { var t = []; t.push(this._templateData.planes[this._templateData.planesFeatured[0]].image.sizes["duendelandscape-medium"]); for (var i = 1; i < this._templateData.planesFeatured.length; i++)t.push(this._templateData.planes[this._templateData.planesFeatured[i]].image.sizes["duendelandscape-small"]); return { main: t } } }, { key: "textCarrousel", value: function () { var e = this.$carrousel.offsetWidth / this.$carrousel.children[0].offsetWidth; this.carrousel = $.a.timeline({ paused: !1, repeat: -1, defaults: { duration: 3 / e, ease: "none" } }); for (var t = 0; t < this.$carrousel.children.length; t++)this.carrousel.to(this.$carrousel.children[t], { x: "-100%" }, 0) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t.querySelector(".mask"), { y: "40%", scaleY: 1.2 }), $.a.set(t.querySelector(".image"), { y: "80%", scaleY: 1.2 }), $.a.set(t.querySelector(".post__content"), { y: "100%", scaleY: 1.2 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".mask"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: 0, clearProps: "transform" }), $.a.to(t.querySelector(".image"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: .15, clearProps: "transform" }), $.a.to(t.querySelector(".post__content"), { y: "0%", scaleY: 1, ease: "expo.out", duration: 2, delay: .3, clearProps: "transform" }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && In(i.prototype, n), s && In(i, s), a }(d), Bn = i(10), Mn = i.n(Bn); i(46); function Hn (e) { return (Hn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Vn (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Yn (e, t) { return !t || "object" !== Hn(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Un () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Gn (e) { return (Gn = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Wn (e, t) { return (Wn = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Xn = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Wn(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Gn(t); if (Un()) { var n = Gn(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Yn(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: Mn.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, planes: te.appData.planes, category: te.appData.planes_category[e.category], categoryItems: te.appData.planes_category[e.category].all, categories: te.appData.planes_category, page: e.page || 1, pageItems: 12, banners: te.appData.banners, bannersBottom: te.appData.planes_category[e.category].bannerBottom }, insertPosition: "FIRST", initialRenderDelay: 0 })).category = e.category, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".plansCategory__hero"), this.$filter = this.$el.querySelector(".plansCategory__hero .filter"), this.$featured = this.$el.querySelector(".plansCategory__featured"), this.$posts = this.$el.querySelector(".plansCategory__posts"), this.$banner = this.$el.querySelector(".plansCategory__banner"), this.$footer = this.$el.querySelector(".plansCategory__footer") } }, { key: "preloadItems", value: function (e) { var t = []; t.push(te.appData.planes[te.appData.planes_category[this.category].all[0]].image.url); for (var i = 1; i < te.appData.planes_category[this.category].all.length; i++)t.push(te.appData.planes[te.appData.planes_category[this.category].all[i]].image.sizes["duendehorizontal-medium"]); return { main: t } } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$hero.querySelector(".intro__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), new Lt(this.$featured.querySelector(".post__content__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$featured.querySelector(".post__content__title").classList.add("split"), new Lt(this.$posts.querySelector(".button"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$posts.querySelector(".button").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }); for (var i = this.$featured.querySelectorAll(".post__content__title .line"), n = 0; n < i.length; n++)i[n].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>'); this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var s = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), r = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), a = this.$filter.querySelectorAll(".filter__item"), o = 0; o < a.length; o++)this.enterAnimation.fromTo(a[o], 1.8, { scale: .8, opacity: 0 }, { scale: 1, opacity: 1, ease: "duende.inOut" }, 0 + .02 * o); for (var l = 0; l < s.length; l++)this.enterAnimation.fromTo(s[l], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * l); for (var u = 0; u < r.length; u++)this.enterAnimation.fromTo(r[u], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * u), this.enterAnimation.fromTo(r[u], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * u); this.events.add(this.$featured.querySelector(".post--featured"), "mouseenter", (function (e, i, n) { t.router.postEnterFeatured(e, i, n) })), this.events.add(this.$featured.querySelector(".post--featured"), "mouseleave", (function (e, i, n) { t.router.postLeaveFeatured(e, i, n) })); for (var c = 0; c < this.$posts.querySelectorAll(".post").length; c++)this.events.add(this.$posts.querySelectorAll(".post")[c], "mouseenter", (function (e, i, n) { t.router.postEnterList(e, i, n) })), this.events.add(this.$posts.querySelectorAll(".post")[c], "mouseleave", (function (e, i, n) { t.router.postLeaveList(e, i, n) })); this.events.add(this.$posts.querySelector(".button"), "mouseenter", (function (e, i, n) { t.router.buttonEnter(e, i, n) })), this.events.add(this.$posts.querySelector(".button"), "mouseleave", (function (e, i, n) { t.router.buttonLeave(e, i, n) })), this.init() } }, { key: "init", value: function () { this.superScroller = new ii({ currentSection: this, scroll: !0, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0] }), this.observerSections = Object.values(this.$el.children), this.observerItems = []; for (var e = 0; e < this.$posts.querySelectorAll(".post").length; e++)this.observerItems.push({ node: this.$posts.querySelectorAll(".post")[e], delay: 0, id: "post" }); this.$banner && this.observerItems.push({ node: this.$banner.querySelector(".banner"), delay: 0, id: "banner" }), this.observerParallax = []; for (var t = 0; t < this.$posts.querySelectorAll(".post__line").length; t++)this.observerParallax.push({ node: this.$posts.querySelectorAll(".post__line")[t], id: "line" }); this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax, observerItems: this.observerItems }) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t, { pointerEvents: "none" }), $.a.set(t.querySelector(".post__content__title"), { transformOrigin: "0% 0%", scaleX: 1.2, opacity: 1e-4 }), $.a.set(t.querySelector(".post__content__description"), { opacity: 1e-4 }), $.a.set(t.querySelector(".post__image"), { scaleX: 1.2, scaleY: 1.1 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".post__content__title"), { scaleX: 1, opacity: 1, ease: "expo.out", duration: 1.4, delay: .15 }), $.a.to(t.querySelector(".post__content__description"), { opacity: 1, ease: "power4.out", duration: 1, delay: .3 }), $.a.to(t.querySelector(".post__image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: 1.4, delay: 0 }), $.a.set(t, { pointerEvents: "", delay: 1 }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "observerParallaxInit", value: function (e, t) { var i = this.observerParallax[t].id; switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), i) { case "line": e.timeline.set(e.node, { willChange: "transform", x: "40vw" }, 0), e.timeline.to(e.node, { x: "40vw" }, 0), e.timeline.to(e.node, { x: "0vw", duration: 2 }, 1), e.timeline.to(e.node, { x: "0vw" }, 3) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && Vn(i.prototype, n), s && Vn(i, s), a }(d); i(47); function Qn (e) { return (Qn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Zn (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Kn (e, t) { return !t || "object" !== Qn(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Jn () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function es (e) { return (es = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function ts (e, t) { return (ts = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var is = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && ts(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = es(t); if (Jn()) { var n = es(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Kn(this, e) }); function a (e) { return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: Mn.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, planes: te.appData.planes, category: te.appData.planes_category[e.category], categoryItems: te.appData.planes_category[e.category].all, categories: te.appData.planes_category, page: e.page || 1, pageItems: 12, banners: te.appData.banners, bannersBottom: te.appData.planes_category[e.category].bannerBottom }, insertPosition: "FIRST", initialRenderDelay: 0 }) } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".plansCategory__hero"), this.$filter = this.$el.querySelector(".plansCategory__hero .filter"), this.$featured = this.$el.querySelector(".plansCategory__featured"), this.$posts = this.$el.querySelector(".plansCategory__posts"), this.$banner = this.$el.querySelector(".plansCategory__banner"), this.$footer = this.$el.querySelector(".plansCategory__footer"), this.$carrousel = this.$hero.querySelector(".intro__title") } }, { key: "setup", value: function (e) { if (this.router.isDesktop && new Lt(this.$hero.querySelector(".intro__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), this.$hero.querySelector(".intro__title")) for (var t = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), i = 0; i < t.length; i++)this.enterAnimation.fromTo(t[i], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * i); if (this.$hero.querySelector(".intro__description")) for (var n = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), s = 0; s < n.length; s++)this.enterAnimation.fromTo(n[s], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * s), this.enterAnimation.fromTo(n[s], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * s); if (this.$filter.querySelectorAll(".filter__item")) for (var r = this.$filter.querySelectorAll(".filter__item"), a = 0; a < r.length; a++)this.enterAnimation.fromTo(r[a], 1.8, { scale: .8, opacity: 0 }, { scale: 1, opacity: 1, ease: "duende.inOut" }, 0 + .02 * a); this.textCarrousel(), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = []; for (var e = 0; e < this.$posts.querySelectorAll(".post").length; e++)this.observerItems.push({ node: this.$posts.querySelectorAll(".post")[e], delay: 0, id: "post" }); this.$banner && this.observerItems.push({ node: this.$banner.querySelector(".banner"), delay: 0, id: "banner" }), this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerItems: this.observerItems }) } }, { key: "preloadItems", value: function (e) { var t = []; t.push(this._templateData.planes[this._templateData.categoryItems[0]].image.sizes["duendelandscape-medium"]); for (var i = 1; i < this._templateData.categoryItems.length; i++)t.push(this._templateData.planes[this._templateData.categoryItems[i]].image.sizes["duendelandscape-small"]); return { main: t } } }, { key: "textCarrousel", value: function () { var e = this.$carrousel.offsetWidth / this.$carrousel.children[0].offsetWidth; this.carrousel = $.a.timeline({ paused: !1, repeat: -1, defaults: { duration: 3 / e, ease: "none" } }); for (var t = 0; t < this.$carrousel.children.length; t++)this.carrousel.to(this.$carrousel.children[t], { x: "-100%" }, 0) } }, { key: "observerAnimationInit", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.set(t.querySelector(".post__content"), { transformOrigin: "0% 0%", scaleX: 1.2, opacity: 1e-4 }), $.a.set(t.querySelector(".post__image"), { scaleX: 1.2, scaleY: 1.1 }); break; case "banner": this.events.add(t, "click", (function () { window.dataLayer.push({ event: "click", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) })) } } }, { key: "observerAnimationTrigger", value: function (e) { var t = this.observerItems[e].node; switch (this.observerItems[e].id) { case "post": $.a.to(t.querySelector(".post__content"), { scaleX: 1, opacity: 1, ease: "expo.out", duration: 1.4, delay: .3 }), $.a.to(t.querySelector(".post__image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: 1.4, delay: 0 }); break; case "banner": window.dataLayer.push({ event: "view", eAction: t.getAttribute("banner-id"), eLabel: t.getAttribute("banner-campaign") }) } } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && Zn(i.prototype, n), s && Zn(i, s), a }(d), ns = i(11), ss = i.n(ns); i(48); function rs (e) { return (rs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function as (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function os (e, t) { return !t || "object" !== rs(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function ls () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function us (e) { return (us = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function cs (e, t) { return (cs = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var ds = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && cs(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = us(t); if (ls()) { var n = us(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return os(this, e) }); function a (e) { var t; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var i = Object.keys(te.appData.planes).find((function (t) { return te.appData.planes[t].slug === e.plan })), n = te.appData.planes[i], s = te.appData.planes; return (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: ss.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, plan: n, planes: s, planesInCategory: te.appData.planes_category[n.category[0].slug].items, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.plan_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 })).readingFinish = !1, t.readingTime = 60 * n.reading, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$scroll = this._parent.querySelector(".scroll"), this.$hero = this.$el.querySelector(".plansSingle__hero"), this.$image = this.$el.querySelector(".plansSingle__image"), this.$flexible = this.$el.querySelector(".plansSingle__flexible"), this.$flexibleGallery = this.$flexible.querySelector(".gallery"), this.$flexibleVideo = this.$flexible.querySelector(".video"), this.$flexibleQuotes = this.$flexible.querySelectorAll(".quote"), this.$flexibleQuotesImage = this.$flexible.querySelectorAll(".quote-image"), this.$share = this.$el.querySelector(".plansSingle__share"), this.$related = this.$el.querySelector(".plansSingle__related"), this.$footer = this.$el.querySelector(".plansSingle__footer") } }, { key: "setup", value: function (e) { var t = this; if (new Lt(this.$hero.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), new Lt(this.$related.querySelector(".button"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$related.querySelector(".button").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }), this.$hero.querySelector(".title").classList.add("split"), this.$flexibleQuotes) for (var i = 0; i < this.$flexibleQuotes.length; i++)new Lt(this.$flexibleQuotes[i].children[1], { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$flexibleQuotes[i].children[1].classList.add("split"); if (this.$flexibleQuotesImage) for (var n = 0; n < this.$flexibleQuotesImage.length; n++)new Lt(this.$flexibleQuotesImage[n].children[1], { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$flexibleQuotesImage[n].children[1].classList.add("split"); this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), this.$scroll && this.events.add(this.$scroll.querySelectorAll(".arrow"), "click", (function (e, i, n) { t.superScroller.scrollAnimate(0) })); for (var s = 0; s < this.$related.querySelectorAll(".post").length; s++) { var r = this.$related.querySelectorAll(".post")[s]; new Lt(r.querySelector(".post__content__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }); for (var a = 0; a < r.querySelectorAll(".post__content__title .line").length; a++)r.querySelectorAll(".post__content__title .line")[a].insertAdjacentHTML("beforeend", '<span class="hoverline"></div>'); this.events.add(r, "mouseenter", (function (e, i, n) { t.router.postEnterSmall(e, i, n) })), this.events.add(r, "mouseleave", (function (e, i, n) { t.router.postLeaveSmall(e, i, n) })) } this.events.add(this.$related.querySelector(".button"), "mouseenter", (function (e, i, n) { t.router.buttonEnter(e, i, n) })), this.events.add(this.$related.querySelector(".button"), "mouseleave", (function (e, i, n) { t.router.buttonLeave(e, i, n) })), this.$flexibleGallery && this.galleryInit(), this.$flexibleVideo && this.videoInit(), this.init() } }, { key: "preloadItems", value: function (e) { return { main: [this._templateData.plan.image.sizes["duendelandscape-large"]] } } }, { key: "init", value: function () { var e = this; this.superScroller = new ii({ currentSection: this, scroll: !0, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0], onRaf: function () { e.$scroll && e.checkScroll() } }), this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$hero, delay: 0, id: "hero" }, { node: this.$flexible, delay: 0, id: "flexible" }, { node: this.$share, delay: 0, id: "share" }, { node: this.$related, delay: 0, id: "related" }, { node: this.$footer }], this.observerParallax = [{ node: this.$image, id: "image" }], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax }) } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "image": e.timeline.set(e.node.querySelector(".image__bg"), { transformOrigin: "50% 50%", willChange: "transform", scale: 1.25 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), { scale: 1 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), {}, 1) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "checkScroll", value: function () { var e = this, t = this.$share.getBoundingClientRect().height + this.$related.getBoundingClientRect().height + this.$footer.getBoundingClientRect().height, i = Math.abs(this.superScroller._scroll.maxScroll.y) - t, n = Math.abs(this.superScroller._scroll.livePosition.y) / i, s = 1194 - 1194 * n, r = ((1 - n) * this.readingTime).toFixed(0), a = Math.floor(r / 60), o = Math.floor(r % 60), l = a < 10 ? "0" + a : a, u = o < 10 ? "0" + o : o; if (n >= 1) { if (!0 === this.readingFinish) return; $.a.to(this.$scroll.children[0], { y: "-30%", opacity: 1e-4, ease: "power4.out", duration: 1 }), $.a.set(this.$scroll.children[1], { display: "block" }), $.a.to(this.$scroll.children[1], { y: "0%", opacity: 1, ease: "power4.out", duration: 1, delay: .1 }), this.$scroll.classList.add("scroll--end"), this.readingFinish = !0 } else { if (this.$scroll.children[0].innerHTML = l + "'" + u + "''", this.$scroll.querySelector(".front").style.strokeDashoffset = s + "px", !1 === this.readingFinish) return; $.a.to(this.$scroll.children[1], { y: "30%", opacity: 1e-4, ease: "power4.out", duration: 1, onComplete: function () { $.a.set(e.$scroll.children[1], { display: "none" }) } }), $.a.to(this.$scroll.children[0], { y: "0%", opacity: 1, ease: "power4.out", duration: 1, delay: .1 }), this.$scroll.classList.remove("scroll--end"), this.readingFinish = !1 } } }, { key: "galleryInit", value: function () { var e = this; this.$galleryInner = this.$flexibleGallery.querySelector(".gallery__inner"), this.$galleryItems = this.$flexibleGallery.querySelectorAll(".gallery__item"), this.$galleryNavigation = this.$flexibleGallery.querySelector(".gallery__navigation"), this.$galleryCount = this.$flexibleGallery.querySelector(".gallery__count"), this.events.add(this.$galleryNavigation.children[0], "click", (function () { e.galleryMove(0) }), this), this.events.add(this.$galleryNavigation.children[1], "click", (function () { e.galleryMove(1) }), this), this.gallery = { total: 0, current: 0, loop: !0, isAnimating: !1 }, this.$flexibleGallery.classList.add("gallery--initialized"), this.gallery.total = this.$galleryItems.length, this.gallery.maxVisibles = this.$galleryItems.length, this.$galleryCount.children[1].innerHTML = "/" + this.gallery.total; for (var t = 0; t < this.$galleryItems.length; t++)$.a.set(this.$galleryItems[t], { display: "none" }); $.a.set(this.$galleryItems[0], { display: "block" }) } }, { key: "galleryMove", value: function (e) { var t = this; if (!this.gallery.isAnimating) { var i = this.gallery.loop, n = this.gallery.total, s = this.gallery.current, r = (this.gallery.current + 1) % n, a = 0 === s ? n - 1 : this.gallery.current - 1; if (1 === e) { if (0 === r && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = r + 1, this.gallery.current = r, $.a.set(this.$galleryItems[r], { display: "block" }), $.a.set(this.$galleryItems[r], { x: "100%" }), $.a.to(this.$galleryItems[s], { x: "-100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[r], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0], { x: "-50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } else { if (0 === s && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = a + 1, this.gallery.current = a, $.a.set(this.$galleryItems[a], { display: "block" }), $.a.set(this.$galleryItems[a], { x: "-100%" }), $.a.to(this.$galleryItems[s], { x: "100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "-50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[a], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0], { x: "50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } $.a.delayedCall(1.7, (function () { $.a.set(t.$galleryItems[s], { display: "none", clearProps: "transform" }), t.gallery.isAnimating = !1 })) } } }, { key: "videoInit", value: function () { var e = this; this.$videoInner = this.$flexibleVideo.querySelector(".video__inner"), this.$videoPlayer = this.$flexibleVideo.querySelector(".video__player"), this.$videoPoster = this.$flexibleVideo.querySelector(".video__poster"), this.$videoTrigger = this.$flexibleVideo.querySelector(".video__trigger"), this.$flexibleVideo.classList.contains("video--youtube") ? (this.videoYoutubeInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoYoutubePlay() }), this)) : (this.videoVimeoInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoVimeoPlay() }), this)) } }, { key: "videoYoutubeInit", value: function () { var e = this; if (window.YT.loaded) { var t = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new YT.Player(t, { playerVars: { rel: 0, showinfo: 0, ecver: 2 }, videoId: t, events: { onStateChange: function (t) { 0 === t.data && ($.a.to(e.$videoPoster, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoTrigger, .3, { opacity: 1, ease: "power2.inOut", delay: 0, onComplete: function () { $.a.set(e.$videoPlayer.children, { display: "none" }) } })) } } }) } else setTimeout((function () { e.videoYoutubeInit() }), 10) } }, { key: "videoYoutubePlay", value: function () { $.a.set(this.$videoPlayer.children, { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.playVideo() } }, { key: "videoYoutubeStop", value: function () { this.$videoPlayerObj.stopVideo() } }, { key: "videoVimeoInit", value: function () { var e = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new Vimeo.Player(e, { id: e, width: 640, loop: !0 }), this.$videoPlayerObj.getEnded().then((function (e) { console.log(e) })).catch((function (e) { console.log(e) })) } }, { key: "videoVimeoPlay", value: function () { $.a.set(this.$videoPlayer.children[0].children[0], { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", pointerEvents: "none", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.play() } }, { key: "videoVimeoStop", value: function () { this.$videoPlayerObj.pause() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && as(i.prototype, n), s && as(i, s), a }(d); i(49); function _s (e) { return (_s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function hs (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function ps (e, t) { return !t || "object" !== _s(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function vs () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function ys (e) { return (ys = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function gs (e, t) { return (gs = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var fs = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && gs(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = ys(t); if (vs()) { var n = ys(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return ps(this, e) }); function a (e) { var t; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var i = Object.keys(te.appData.planes).find((function (t) { return te.appData.planes[t].slug === e.plan })), n = te.appData.planes[i], s = te.appData.planes; return (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: ss.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, plan: n, planes: s, planesInCategory: te.appData.planes_category[n.category[0].slug].items, banners: te.appData.banners, bannersBottom: te.appData.banners_locations.plan_bottom }, insertPosition: "FIRST", initialRenderDelay: 0 })).readingFinish = !1, t.readingTime = 60 * n.reading, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".plansSingle__hero"), this.$image = this.$el.querySelector(".plansSingle__image"), this.$flexible = this.$el.querySelector(".plansSingle__flexible"), this.$flexibleGallery = this.$flexible.querySelector(".gallery"), this.$flexibleVideo = this.$flexible.querySelector(".video"), this.$flexibleQuotes = this.$flexible.querySelectorAll(".quote"), this.$flexibleQuotesImage = this.$flexible.querySelectorAll(".quote-image"), this.$share = this.$el.querySelector(".plansSingle__share"), this.$footer = this.$el.querySelector(".plansSingle__footer"), this.$related = this.$el.querySelector(".plansSingle__related"), this.$relatedList = this.$related.querySelector(".list"), this.$relatedPosts = this.$related.querySelectorAll(".post"), this.$carrousel = this.$related.querySelector(".spinelabel") } }, { key: "setup", value: function (e) { this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var t = 0; t < this.$relatedPosts.length; t++) { var i = this.$relatedPosts[0].getBoundingClientRect().height, n = this.$relatedPosts[1].getBoundingClientRect().height; i > n ? $.a.set(this.$relatedList, { height: i }) : $.a.set(this.$relatedList, { height: n }) } this.slider = new gn({ target: this.$relatedList.querySelector(".list__inner"), nodes: this.$relatedPosts, enable: !0 }), this.textCarrousel(), this.$flexibleGallery && this.galleryInit(), this.$flexibleVideo && this.videoInit(), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$hero, delay: 0, id: "hero" }, { node: this.$flexible, delay: 0, id: "flexible" }, { node: this.$share, delay: 0, id: "share" }, { node: this.$related, delay: 0, id: "related" }, { node: this.$footer }], this.observerParallax = [{ node: this.$image, id: "image" }], this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax }) } }, { key: "preloadItems", value: function (e) { return { main: [this._templateData.plan.image.sizes["duendelandscape-large"]] } } }, { key: "textCarrousel", value: function () { var e = this.$carrousel.offsetWidth / this.$carrousel.children[0].offsetWidth; this.carrousel = $.a.timeline({ paused: !1, repeat: -1, defaults: { duration: 3 / e, ease: "none" } }); for (var t = 0; t < this.$carrousel.children.length; t++)this.carrousel.to(this.$carrousel.children[t], { x: "-100%" }, 0) } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "image": e.timeline.set(e.node.querySelector(".image__bg"), { transformOrigin: "50% 50%", willChange: "transform", scale: 1.25 }, 0), e.timeline.to(e.node.querySelector(".image__bg"), { scale: 1 }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "galleryInit", value: function () { var e = this; this.$galleryInner = this.$flexibleGallery.querySelector(".gallery__inner"), this.$galleryItems = this.$flexibleGallery.querySelectorAll(".gallery__item"), this.$galleryNavigation = this.$flexibleGallery.querySelector(".gallery__navigation"), this.$galleryCount = this.$flexibleGallery.querySelector(".gallery__count"), this.events.add(this.$galleryNavigation.children[0], "click", (function () { e.galleryMove(0) }), this), this.events.add(this.$galleryNavigation.children[1], "click", (function () { e.galleryMove(1) }), this), this.gallery = { total: 0, current: 0, loop: !0, isAnimating: !1 }, this.$flexibleGallery.classList.add("gallery--initialized"), this.gallery.total = this.$galleryItems.length, this.gallery.maxVisibles = this.$galleryItems.length, this.$galleryCount.children[1].innerHTML = "/" + this.gallery.total; for (var t = 0; t < this.$galleryItems.length; t++)$.a.set(this.$galleryItems[t], { display: "none" }); $.a.set(this.$galleryItems[0], { display: "block" }) } }, { key: "galleryMove", value: function (e) { var t = this; if (!this.gallery.isAnimating) { var i = this.gallery.loop, n = this.gallery.total, s = this.gallery.current, r = (this.gallery.current + 1) % n, a = 0 === s ? n - 1 : this.gallery.current - 1; if (1 === e) { if (0 === r && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = r + 1, this.gallery.current = r, $.a.set(this.$galleryItems[r], { display: "block" }), $.a.set(this.$galleryItems[r], { x: "100%" }), $.a.to(this.$galleryItems[s], { x: "-100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[r], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0], { x: "-50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[r].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } else { if (0 === s && !0 !== i) return; this.gallery.isAnimating = !0, this.$galleryCount.children[0].innerHTML = a + 1, this.gallery.current = a, $.a.set(this.$galleryItems[a], { display: "block" }), $.a.set(this.$galleryItems[a], { x: "-100%" }), $.a.to(this.$galleryItems[s], { x: "100%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[s].children[0], { x: "0%" }, { x: "-50%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.to(this.$galleryItems[a], { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0], { x: "50%" }, { x: "0%", ease: "expo.inOut", duration: 1.7, delay: 0 }), $.a.fromTo(this.$galleryItems[a].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3.4, delay: 0 }) } $.a.delayedCall(1.7, (function () { $.a.set(t.$galleryItems[s], { display: "none", clearProps: "transform" }), t.gallery.isAnimating = !1 })) } } }, { key: "videoInit", value: function () { var e = this; this.$videoInner = this.$flexibleVideo.querySelector(".video__inner"), this.$videoPlayer = this.$flexibleVideo.querySelector(".video__player"), this.$videoPoster = this.$flexibleVideo.querySelector(".video__poster"), this.$videoOverlay = this.$flexibleVideo.querySelector(".video__overlay"), this.$videoTrigger = this.$flexibleVideo.querySelector(".video__trigger"), this.$flexibleVideo.classList.contains("video--youtube") ? (this.videoYoutubeInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoYoutubePlay() }), this)) : (this.videoVimeoInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoVimeoPlay() }), this)) } }, { key: "videoYoutubeInit", value: function () { var e = this; if (window.YT.loaded) { var t = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new YT.Player(t, { playerVars: { rel: 0, showinfo: 0, ecver: 2 }, videoId: t, events: { onStateChange: function (t) { 0 === t.data && ($.a.to(e.$videoPoster, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoOverlay, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoTrigger, .3, { opacity: 1, ease: "power2.inOut", delay: 0, onComplete: function () { $.a.set(e.$videoPlayer.children, { display: "none" }) } })) } } }) } else setTimeout((function () { e.videoYoutubeInit() }), 10) } }, { key: "videoYoutubePlay", value: function () { $.a.set(this.$videoPlayer.children, { display: "block" }), $.a.to(this.$videoOverlay, { opacity: 1e-4, duration: 1, ease: "power2.out", delay: 0 }), $.a.to(this.$videoPoster, { opacity: 1e-4, duration: 1, ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, { opacity: 1e-4, duration: 1, ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.playVideo() } }, { key: "videoYoutubeStop", value: function () { this.$videoPlayerObj.stopVideo() } }, { key: "videoVimeoInit", value: function () { var e = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new Vimeo.Player(e, { id: e, width: 640, loop: !0 }) } }, { key: "videoVimeoPlay", value: function () { $.a.set(this.$videoPlayer.children[0].children[0], { display: "block" }), $.a.to(this.$videoOverlay, { opacity: 1e-4, duration: 1, ease: "power2.out", delay: 0 }), $.a.to(this.$videoPoster, { opacity: 1e-4, duration: 1, ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, { opacity: 1e-4, duration: 1, pointerEvents: "none", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.play() } }, { key: "videoVimeoStop", value: function () { this.$videoPlayerObj.pause() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize(), this.slider.resize(this.$relatedList.offsetWidth, this.$relatedList.offsetHeight) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && hs(i.prototype, n), s && hs(i, s), a }(d), ms = i(12), bs = i.n(ms), Ds = i(13), $s = i.n(Ds); i(50); function Ss (e) { return (Ss = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function ws (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function ks (e, t) { return !t || "object" !== Ss(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function xs () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Cs (e) { return (Cs = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function qs (e, t) { return (qs = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Os = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && qs(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Cs(t); if (xs()) { var n = Cs(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return ks(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: $s.a, templateData: { content: te.appData.pages["rutas-destacadas"], destacadas: te.appData.pages["rutas-destacadas"].rutas, rutas: te.appData.rutas, categories: te.appData.rutas_category, options: te.appData.options }, insertPosition: "FIRST", initialRenderDelay: 0 })).goToSingle = !1, t } return i = a, (n = [{ key: "preloadItems", value: function (e) { return { main: this.router.isDesktop ? [this._templateData.rutas[this._templateData.destacadas[0]].image.sizes["duendelandscape-large"]] : [this._templateData.rutas[this._templateData.destacadas[0]].image_mobile.sizes["duendevertical-medium"]] } } }, { key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$slider = this.$el.querySelector(".routesFeatured__slider"), this.$sliderTexts = this.$slider.querySelector(".sliders__texts"), this.$sliderButton = this.$slider.querySelector(".sliders__button") } }, { key: "setup", value: function (e) { new Lt(this.$sliderButton.querySelector(".button"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$sliderButton.querySelector(".button").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), this.slider || this.sliderInit() } }, { key: "init", value: function () { } }, { key: "sliderDotsEnter", value: function () { $.a.to(document.getElementById("cursor").children[0], { scale: 1.6, duration: .5, ease: "expo.inOut", delay: 0 }) } }, { key: "sliderDotsLeave", value: function () { $.a.to(document.getElementById("cursor").children[0], { scale: 1, duration: .5, ease: "expo.inOut", delay: 0 }) } }, { key: "sliderEnter", value: function (e, t, i) { this.slider.autoplay = !1, this.goToSingle = !0, this.slider.autoplayController.pause(), this.categoryAnimation[this.slider.current].pause(), $.a.to(this.$sliderCategoriesItems[this.slider.current].children[0].children[0], { rotation: 360, ease: "expo.out", duration: 1 }), $.a.to(this.$sliderImages.children[this.slider.current].children[0].children[0], { scale: 1.05, duration: 1, ease: "expo.out", delay: 0 }) } }, { key: "sliderLeave", value: function (e, t, i) { this.goToSingle = !1, $.a.to(this.$sliderImages.children[this.slider.current].children[0].children[0], { scale: 1, duration: 1, ease: "expo.out", delay: 0 }), this.slider.autoplay = !0, this.slider.autoplayController.play(), this.categoryAnimation[this.slider.current].restart() } }, { key: "sliderInit", value: function () { var e = this; this.slider = { total: 0, current: 0, navigationProgress1: 0, navigationProgress2: 0, autoplay: !0, autoplaySpeed: 6, autoplayController: null, animationDuration: 1.8, animationActive: !1 }, this.$sliderContainer = this.$el.querySelector(".sliders"), this.$sliderNavigation = this.$el.querySelectorAll(".bullets"), this.$sliderNavigationDots = this.$el.querySelectorAll(".bullets .dot"), this.$sliderController = this.$el.querySelector(".sliders__controller"), this.$sliderImages = this.$el.querySelector(".sliders__images"), this.$sliderGradient = this.$el.querySelector(".sliders__gradient"), this.$sliderInfo = this.$el.querySelector(".sliders__info"), this.$sliderTexts = this.$el.querySelector(".sliders__texts"), this.$sliderTextsTitles = this.$sliderTexts.querySelectorAll(".title"), this.$sliderCategories = this.$el.querySelector(".sliders__categories"), this.$sliderCategoriesItems = this.$sliderCategories.querySelectorAll(".category"), this.enterAnimation.set(this.$sliderImages, { scale: 1.2 }, 0), this.enterAnimation.to(this.$sliderImages, 2, { scale: 1, ease: "power4.out", clearProps: "all" }, 0), this.events.add(this.$sliderButton.querySelector(".button"), "mouseenter", (function (t, i, n) { e.router.buttonEnter(t, i, n) })), this.events.add(this.$sliderButton.querySelector(".button"), "mouseleave", (function (t, i, n) { e.router.buttonLeave(t, i, n) })); for (var t = 0; t < this.$sliderTexts.children.length; t++)this.events.add(this.$sliderTexts.children[t], "mousemove", (function (t, i, n) { e.sliderEnter(t, i, n) })), this.events.add(this.$sliderTexts.children[t], "mouseleave", (function (t, i, n) { e.sliderLeave(t, i, n) })); for (var i = function (t) { e.events.add(e.$sliderNavigationDots[t], "mouseenter", (function (t, i, n) { e.sliderDotsEnter(t, i, n) })), e.events.add(e.$sliderNavigationDots[t], "mouseleave", (function (t, i, n) { e.sliderDotsLeave(t, i, n) })), e.events.add(e.$sliderNavigationDots[t], "click", (function (i, n, s) { e.sliderChange(null, t) })) }, n = 0; n < this.$sliderNavigationDots.length; n++)i(n); this.scrollIndicatorGlobal = new bs.a({ elem: this.$el, callback: function (t) { e.sliderNavigationGo("down" === t.direction ? 1 : 0) } }), this.slider.total = this.$sliderController.children.length, this.categoryAnimation = []; for (var s = 0; s < this.$sliderController.children.length; s++) { var r = this.$sliderTextsTitles[s]; new Lt(r, { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), r.classList.add("split"), this.categoryAnimation[s] = $.a.timeline({ paused: !1, delay: 0 }), this.categoryAnimation[s].to(this.$sliderCategoriesItems[s].children[0].children[0], { rotation: 360, ease: "linear", repeat: -1, duration: 10 }), this.$sliderImages.children[s].style.display = "none", this.$sliderTexts.children[s].style.display = "none", this.$sliderInfo.children[s].style.display = "none", this.$sliderCategories.children[s].style.display = "none", this.$sliderNavigationDots[s].children[1].style.display = "none", this.$sliderNavigationDots[s].children[1].style.opacity = "0.0001" } this.$sliderImages.children[0].style.display = "block", this.$sliderTexts.children[0].style.display = "block", this.$sliderInfo.children[0].style.display = "block", this.$sliderCategories.children[0].style.display = "block", this.$sliderNavigationDots[0].children[1].display = "block", this.$sliderNavigationDots[0].children[0].style.opacity = "0.0001", this.$sliderNavigationDots[0].children[0].style.scale = "0.8", this.$sliderNavigationDots[0].children[1].style.opacity = "1", this.$sliderNavigationDots[0].children[1].style.display = "block", this.$sliderImages.classList.add("slider--initialized"), this.$sliderTexts.classList.add("slider--initialized"), this.$sliderCategories.classList.add("slider--initialized"), this.slider.autoplay && (this.slider.autoplayController = $.a.timeline({ paused: !0, delay: 0 }), this.slider.autoplayController.fromTo(this.slider, { navigationProgress1: 1 }, { navigationProgress1: 0, duration: this.slider.autoplaySpeed - 1, ease: "none", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.sliderChange(1), e.slider.autoplayController.fromTo(e.slider, { navigationProgress1: e.slider.progress, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.slider.autoplayController.restart() } }) } }), this.slider.autoplayController.play()) } }, { key: "sliderPlay", value: function () { this.slider.autoplay = !0, this.slider.autoplayController.play() } }, { key: "sliderPause", value: function () { this.slider.autoplay = !1, this.slider.autoplayController.pause() } }, { key: "sliderChange", value: function (e, t) { var i = this; if (!(this.slider.animationActive || null === e && t === this.slider.current)) { var n, s, r; this.slider.autoplay && (this.slider.autoplayController.pause(), $.a.fromTo(this.slider, { navigationProgress1: this.slider.navigationProgress1, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { i.sliderNavigationUpdate() }, onComplete: function () { i.slider.autoplayController.restart() } })), this.slider.animationActive = !0, null === e ? (n = t > this.slider.current ? 1 : -1, s = t, r = this.slider.current) : 1 === e ? (n = 1, s = (this.slider.current + 1) % this.slider.total, r = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current) : (n = -1, s = 0 === this.slider.current ? this.slider.total - 1 : this.slider.current - 1, r = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current), $.a.set(this.$sliderImages.children[s], { display: "block", x: 100 * n + "%" }), $.a.fromTo(this.$sliderImages.children[r], { x: "0%" }, { x: -100 * n + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[r].children[0].children[0], { x: "0%" }, { x: 70 * n + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[s], { x: 100 * n + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0, clearProps: "transform" }), $.a.fromTo(this.$sliderImages.children[s].children[0].children[0], { x: -70 * n + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[s].children[0].children[0], { scale: 1.1 }, { scale: 1, duration: 4, ease: "expo.out", delay: 0 }), $.a.set(this.$sliderNavigationDots[s].children[1], { display: "block" }), $.a.to(this.$sliderNavigationDots[s].children[0], { opacity: 1, scale: 1, duration: 1, ease: "duende.inOut", delay: 0 }), $.a.to(this.$sliderNavigationDots[r].children[0], { opacity: 1, scale: 1, duration: 1, ease: "duende.inOut", delay: 0 }), $.a.to(this.$sliderNavigationDots[s].children[0], { opacity: 1e-4, scale: .8, duration: 1, ease: "duende.inOut", delay: 0 }), $.a.to(this.$sliderNavigationDots[r].children[1], { opacity: 1e-4, duration: this.slider.animationDuration, ease: "power4.out", delay: .5 }), $.a.to(this.$sliderNavigationDots[s].children[1], { opacity: 1, duration: 2 * this.slider.animationDuration, ease: "power4.out", delay: .5 }), $.a.set(this.$sliderTexts.children[s], { display: "block" }); for (var a = 0; a < this.$sliderTextsTitles[r].children.length; a++)for (var o = this.$sliderTextsTitles[r].children[a].querySelectorAll(".char"), l = 0; l < o.length; l++)$.a.fromTo(o[l], { opacity: 1 }, { opacity: 1e-4, duration: .6, ease: "power2.out", delay: 0 }); for (var u = 0; u < this.$sliderTextsTitles[s].children.length; u++)for (var c = this.$sliderTextsTitles[s].children[u].querySelectorAll(".char"), d = 0; d < c.length; d++)$.a.set(c[d], { y: "100%", opacity: 1 }), $.a.fromTo(c[d], { y: "100%" }, { y: "0%", duration: 1.8, ease: "duende.inOut", delay: .02 * d }); $.a.set(this.$sliderInfo.children[s], { display: "block" }); for (var _ = this.$sliderInfo.children[r].querySelector(".info").children, h = this.$sliderInfo.children[s].querySelector(".info").children, p = 0; p < h.length; p++)$.a.set(h[p].children[0], { opacity: 0, y: "10%" }), $.a.set(h[p].children[0].children[0], { scale: .8 }), $.a.set(h[p].children[1], { opacity: 0 }); for (var v = 0; v < _.length; v++)$.a.to(_[v].children[0], { opacity: 0, duration: .8, ease: "duende.inOut", delay: 0 }), $.a.to(_[v].children[0].children[0], { scale: .8, duration: .8, ease: "duende.inOut", delay: 0 }), $.a.to(_[v].children[1], { opacity: 0, ease: "duende.inOut", delay: 0 }); for (var y = 0; y < h.length; y++)$.a.to(h[y].children[0], { opacity: 1, y: 0, duration: 1, ease: "duende.inOut", delay: .5 + .05 * y }), $.a.to(h[y].children[1], { opacity: 1, duration: 1, ease: "duende.inOut", delay: .5 + .05 * y }), $.a.to(h[y].children[0].children[0], { scale: 1, duration: 1, ease: "duende.inOut", delay: .5 + .05 * y }); $.a.set(this.$sliderCategories.children[s], { display: "block" }), $.a.set(this.$sliderCategories.children[s].children[0].children[1].children[0], { opacity: 0, scale: .8 }), $.a.set(this.$sliderCategories.children[s].children[0].children[0], { opacity: 0, rotation: -360 }), $.a.to(this.$sliderCategories.children[r].children[0].children[1].children[0], { scale: .8, opacity: 0, duration: .6, ease: "expo.in" }), $.a.to(this.$sliderCategories.children[r].children[0].children[0], { rotation: 360, opacity: 0, duration: .6, ease: "expo.in", onComplete: function () { $.a.to(i.$sliderCategories.children[s].children[0].children[0], { rotation: 0, opacity: 1, duration: 1.2, ease: "expo.out", delay: .2 }), $.a.to(i.$sliderCategories.children[s].children[0].children[1].children[0], { scale: 1, opacity: 1, duration: .6, ease: "expo.out", delay: .2 }) } }); for (var g = 1194 * this.slider.navigationProgress1, f = 360 * this.slider.navigationProgress2, m = 0; m < this.$sliderNavigationDots.length; m++)this.$sliderNavigationDots[m].children[1].querySelector("svg").style.transform = "rotate(" + f + "deg)", this.$sliderNavigationDots[m].children[1].querySelector("svg .front").style.strokeDashoffset = g + "px"; $.a.delayedCall(this.slider.animationDuration, (function () { $.a.set(i.$sliderInfo.children[r], { display: "none" }), $.a.set(i.$sliderImages.children[r], { display: "none" }), $.a.set(i.$sliderTexts.children[r], { display: "none" }), $.a.set(i.$sliderCategories.children[r], { display: "none" }), $.a.set(i.$sliderNavigationDots[r].children[1], { display: "block" }), i.slider.animationActive = !1, i.slider.current = s })) } } }, { key: "sliderNavigationGo", value: function (e) { !this.slider.animationActive && this.slider.autoplay && this.sliderChange(e) } }, { key: "sliderNavigationUpdate", value: function () { for (var e = 1194 * this.slider.navigationProgress1, t = 360 * this.slider.navigationProgress2, i = 0; i < this.$sliderNavigationDots.length; i++)this.$sliderNavigationDots[i].children[1].querySelector("svg").style.transform = "rotate(" + t + "deg)", this.$sliderNavigationDots[i].children[1].querySelector("svg .front").style.strokeDashoffset = e + "px" } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { } }, { key: "leave", value: function (e) { this.slider.autoplay = !1; var t = this.goToSingle ? .2 : 1; $.a.to(this.$sliderNavigation, { opacity: 1e-4, duration: t, ease: "power4.out" }), $.a.to(this.$sliderButton, { opacity: 1e-4, duration: t, ease: "power4.out" }), $.a.to(this.$sliderInfo, { opacity: 1e-4, duration: t, ease: "power4.out" }), this.goToSingle && $.a.to(this.$sliderImages.children[this.slider.current].children[0].children[0], { scale: 1.05, duration: t, ease: "power4.out", delay: 0 }), $.a.delayedCall(t, (function () { e() })) } }, { key: "afterLeave", value: function () { } }]) && ws(i.prototype, n), s && ws(i, s), a }(d); i(51); function As (e) { return (As = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Ps (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Ts (e, t) { return !t || "object" !== As(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Fs () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Es (e) { return (Es = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Is (e, t) { return (Is = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var js = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Is(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Es(t); if (Fs()) { var n = Es(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Ts(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: $s.a, templateData: { destacadas: te.appData.pages["rutas-destacadas"].rutas, rutas: te.appData.rutas, categories: te.appData.rutas_category, options: te.appData.options }, insertPosition: "FIRST", initialRenderDelay: 0 })).goToArchive = !1, t.touchPosition = 0, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$slider = this.$el.querySelector(".routesFeatured__slider"), this.$sliderButton = this.$slider.querySelector(".sliders__button") } }, { key: "setup", value: function (e) { var t = this; this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), this.events.add(this.$sliderButton.querySelector(".button"), "touchstart", (function (e, i, n) { t.goToArchive = !0 })), this.slider || this.sliderInit() } }, { key: "sliderInit", value: function () { var e = this; this.slider = { total: 0, current: 0, navigationProgress1: 0, navigationProgress2: 0, autoplay: !0, autoplaySpeed: 6, autoplayController: null, animationDuration: 1.8, animationActive: !1 }, this.$sliderContainer = this.$el.querySelector(".sliders"), this.$sliderNavigationDots = this.$el.querySelectorAll(".bullets .dot"), this.$sliderController = this.$el.querySelector(".sliders__controller"), this.$sliderImages = this.$el.querySelector(".sliders__images"), this.$sliderGradient = this.$el.querySelector(".sliders__gradient"), this.$sliderInfo = this.$el.querySelector(".sliders__info"), this.$sliderTexts = this.$el.querySelector(".sliders__texts"), this.$sliderTextsTitles = this.$sliderTexts.querySelectorAll(".title"), this.$sliderCategories = this.$el.querySelector(".sliders__categories"), this.$sliderCategoriesItems = this.$sliderCategories.querySelectorAll(".category"), this.$button = this.$el.querySelector(".button"), this.enterAnimation.set(this.$sliderImages, { scale: 1.2 }, 0), this.enterAnimation.to(this.$sliderImages, 2, { scale: 1, ease: "power4.out", clearProps: "all" }, 0); for (var t = function (t) { e.events.add(e.$sliderNavigationDots[t], "click", (function (i, n, s) { e.sliderChange(null, t) })) }, i = 0; i < this.$sliderNavigationDots.length; i++)t(i); this.events.add(this.$sliderContainer, "touchstart", (function (t, i, n) { e.touchPosition = t.touches[0].clientX })), this.events.add(this.$sliderContainer, "touchend", (function (t, i, n) { t.changedTouches[0].clientX > e.touchPosition + 20 && e.sliderChange(0), t.changedTouches[0].clientX < e.touchPosition - 20 && e.sliderChange(1) })), this.scrollIndicatorGlobal = new bs.a({ elem: this.$el, callback: function (t) { e.sliderNavigationGo("down" === t.direction ? 1 : 0) } }), this.slider.total = this.$sliderController.children.length, this.categoryAnimation = []; for (var n = 0; n < this.$sliderController.children.length; n++) { var s = this.$sliderTextsTitles[n]; new Lt(s, { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), s.classList.add("split"), this.categoryAnimation[n] = $.a.timeline({ paused: !1, delay: 0 }), this.categoryAnimation[n].to(this.$sliderCategoriesItems[n].children[0].children[0], { rotation: 360, ease: "linear", repeat: -1, duration: 10 }), this.$sliderImages.children[n].style.display = "none", this.$sliderTexts.children[n].style.display = "none", this.$sliderInfo.children[n].style.display = "none", this.$sliderCategories.children[n].style.display = "none", this.$sliderNavigationDots[n].children[1].style.display = "none", this.$sliderNavigationDots[n].children[1].style.opacity = "0.0001" } this.$sliderImages.children[0].style.display = "block", this.$sliderTexts.children[0].style.display = "block", this.$sliderInfo.children[0].style.display = "block", this.$sliderCategories.children[0].style.display = "block", this.$sliderNavigationDots[0].children[1].display = "block", this.$sliderNavigationDots[0].children[0].style.opacity = "0.0001", this.$sliderNavigationDots[0].children[0].style.scale = "0.8", this.$sliderNavigationDots[0].children[1].style.opacity = "1", this.$sliderNavigationDots[0].children[1].style.display = "block", this.$sliderImages.classList.add("slider--initialized"), this.$sliderTexts.classList.add("slider--initialized"), this.$sliderCategories.classList.add("slider--initialized"), this.slider.autoplay && (this.slider.autoplayController = $.a.timeline({ paused: !0, delay: 0 }), this.slider.autoplayController.fromTo(this.slider, { navigationProgress1: 1 }, { navigationProgress1: 0, duration: this.slider.autoplaySpeed - 1, ease: "none", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.sliderChange(1), e.slider.autoplayController.fromTo(e.slider, { navigationProgress1: e.slider.progress, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { e.sliderNavigationUpdate() }, onComplete: function () { e.slider.autoplayController.restart() } }) } }), this.slider.autoplayController.play()) } }, { key: "sliderPlay", value: function () { this.slider.autoplay = !0, this.slider.autoplayController.play() } }, { key: "sliderPause", value: function () { this.slider.autoplay = !1, this.slider.autoplayController.pause() } }, { key: "sliderChange", value: function (e, t) { var i = this; if (!(this.slider.animationActive || null === e && t === this.slider.current)) { var n, s, r; this.slider.autoplay && (this.slider.autoplayController.pause(), $.a.fromTo(this.slider, { navigationProgress1: this.slider.navigationProgress1, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { i.sliderNavigationUpdate() }, onComplete: function () { i.slider.autoplayController.restart() } })), this.slider.animationActive = !0, null === e ? (n = t > this.slider.current ? 1 : -1, s = t, r = this.slider.current) : 1 === e ? (n = 1, s = (this.slider.current + 1) % this.slider.total, r = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current) : (n = -1, s = 0 === this.slider.current ? this.slider.total - 1 : this.slider.current - 1, r = -1 === this.slider.current ? this.slider.total - 1 : this.slider.current), $.a.set(this.$sliderImages.children[s], { display: "block", x: 100 * n + "%" }), $.a.fromTo(this.$sliderImages.children[r], { x: "0%" }, { x: -100 * n + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[r].children[0].children[0], { x: "0%" }, { x: 70 * n + "%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[s], { x: 100 * n + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0, clearProps: "transform" }), $.a.fromTo(this.$sliderImages.children[s].children[0].children[0], { x: -70 * n + "%" }, { x: "0%", duration: 1.8, ease: "duende.inOut", delay: 0 }), $.a.fromTo(this.$sliderImages.children[s].children[0].children[0], { scale: 1.1 }, { scale: 1, duration: 4, ease: "expo.out", delay: 0 }), $.a.set(this.$sliderNavigationDots[s].children[1], { display: "block" }), $.a.to(this.$sliderNavigationDots[s].children[0], { opacity: 1, scale: 1, duration: 1, ease: "duende.inOut", delay: 0 }), $.a.to(this.$sliderNavigationDots[r].children[0], { opacity: 1, scale: 1, duration: 1, ease: "duende.inOut", delay: 0 }), $.a.to(this.$sliderNavigationDots[s].children[0], { opacity: 1e-4, scale: .8, duration: 1, ease: "duende.inOut", delay: 0 }), $.a.to(this.$sliderNavigationDots[r].children[1], { opacity: 1e-4, duration: this.slider.animationDuration, ease: "power4.out", delay: .5 }), $.a.to(this.$sliderNavigationDots[s].children[1], { opacity: 1, duration: 2 * this.slider.animationDuration, ease: "power4.out", delay: .5 }), $.a.set(this.$sliderTexts.children[s], { display: "block" }); for (var a = 0; a < this.$sliderTextsTitles[r].children.length; a++)for (var o = this.$sliderTextsTitles[r].children[a].querySelectorAll(".char"), l = 0; l < o.length; l++)$.a.fromTo(o[l], { opacity: 1 }, { opacity: 1e-4, duration: .6, ease: "power2.out", delay: 0 }); for (var u = 0; u < this.$sliderTextsTitles[s].children.length; u++)for (var c = this.$sliderTextsTitles[s].children[u].querySelectorAll(".char"), d = 0; d < c.length; d++)$.a.set(c[d], { y: "100%", opacity: 1 }), $.a.fromTo(c[d], { y: "100%" }, { y: "0%", duration: 1.8, ease: "duende.inOut", delay: .02 * d }); $.a.set(this.$sliderInfo.children[s], { display: "block" }); for (var _ = this.$sliderInfo.children[r].querySelector(".info").children, h = this.$sliderInfo.children[s].querySelector(".info").children, p = 0; p < h.length; p++)$.a.set(h[p].children[0], { opacity: 0, y: "10%" }), $.a.set(h[p].children[0].children[0], { scale: .8 }), $.a.set(h[p].children[1], { opacity: 0 }); for (var v = 0; v < _.length; v++)$.a.to(_[v].children[0], { opacity: 0, duration: .8, ease: "duende.inOut", delay: 0 }), $.a.to(_[v].children[0].children[0], { scale: .8, duration: .8, ease: "duende.inOut", delay: 0 }), $.a.to(_[v].children[1], { opacity: 0, ease: "duende.inOut", delay: 0 }); for (var y = 0; y < h.length; y++)$.a.to(h[y].children[0], { opacity: 1, y: 0, duration: 1, ease: "duende.inOut", delay: .5 + .05 * y }), $.a.to(h[y].children[1], { opacity: 1, duration: 1, ease: "duende.inOut", delay: .5 + .05 * y }), $.a.to(h[y].children[0].children[0], { scale: 1, duration: 1, ease: "duende.inOut", delay: .5 + .05 * y }); $.a.set(this.$sliderCategories.children[s], { display: "block" }), $.a.set(this.$sliderCategories.children[s].children[0].children[1].children[0], { opacity: 0, scale: .8 }), $.a.set(this.$sliderCategories.children[s].children[0].children[0], { opacity: 0, rotation: -360 }), $.a.to(this.$sliderCategories.children[r].children[0].children[1].children[0], { scale: .8, opacity: 0, duration: .6, ease: "expo.in" }), $.a.to(this.$sliderCategories.children[r].children[0].children[0], { rotation: 360, opacity: 0, duration: .6, ease: "expo.in", onComplete: function () { $.a.to(i.$sliderCategories.children[s].children[0].children[0], { rotation: 0, opacity: 1, duration: 1.2, ease: "expo.out", delay: .2 }), $.a.to(i.$sliderCategories.children[s].children[0].children[1].children[0], { scale: 1, opacity: 1, duration: .6, ease: "expo.out", delay: .2 }) } }); for (var g = 1194 * this.slider.navigationProgress1, f = 360 * this.slider.navigationProgress2, m = 0; m < this.$sliderNavigationDots.length; m++)this.$sliderNavigationDots[m].children[1].querySelector("svg").style.transform = "rotate(" + f + "deg)", this.$sliderNavigationDots[m].children[1].querySelector("svg .front").style.strokeDashoffset = g + "px"; $.a.delayedCall(this.slider.animationDuration, (function () { $.a.set(i.$sliderInfo.children[r], { display: "none" }), $.a.set(i.$sliderImages.children[r], { display: "none" }), $.a.set(i.$sliderTexts.children[r], { display: "none" }), $.a.set(i.$sliderCategories.children[r], { display: "none" }), $.a.set(i.$sliderNavigationDots[r].children[1], { display: "block" }), i.slider.animationActive = !1, i.slider.current = s })) } } }, { key: "sliderNavigationGo", value: function (e) { var t = this; this.slider.animationActive || (this.sliderChange(e), this.slider.autoplay && (this.slider.autoplayController.pause(), $.a.fromTo(this.slider, { navigationProgress1: this.slider.navigationProgress1, navigationProgress2: 0 }, { navigationProgress1: 1, navigationProgress2: 1, duration: 1, ease: "duende.inOut", delay: 0, onUpdate: function () { t.sliderNavigationUpdate() }, onComplete: function () { t.slider.autoplayController.restart() } }))) } }, { key: "sliderNavigationUpdate", value: function () { for (var e = 1194 * this.slider.navigationProgress1, t = 360 * this.slider.navigationProgress2, i = 0; i < this.$sliderNavigationDots.length; i++)this.$sliderNavigationDots[i].children[1].querySelector("svg").style.transform = "rotate(" + t + "deg)", this.$sliderNavigationDots[i].children[1].querySelector("svg .front").style.strokeDashoffset = e + "px" } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }]) && Ps(i.prototype, n), s && Ps(i, s), a }(d), Rs = i(14), zs = i.n(Rs); i(52); function Ls (e) { return (Ls = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Ns (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Bs (e, t) { return !t || "object" !== Ls(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Ms () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Hs (e) { return (Hs = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Vs (e, t) { return (Vs = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Ys = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Vs(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Hs(t); if (Ms()) { var n = Hs(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Bs(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: zs.a, templateData: { data: te.appData, content: te.appData.pages.rutas, options: te.appData.options, rutas: te.appData.rutas, categories: te.appData.rutas_category }, insertPosition: "FIRST", initialRenderDelay: 0 })).windowWidth = window.innerWidth, t.windowHeight = window.innerHeight, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this._parent.querySelector(".routesArchive__hero"), this.$items = this._parent.querySelector(".routesArchive__items"), this.$progress = document.querySelector(".progress"), this.$progressCount = this.$progress.children[0], this.$progressBar = this.$progress.children[1] } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$hero.querySelector(".intro__title"), { type: "lines, words, chars", linesClass: "line line--++", wordsClass: "word word--++", charsClass: "char char--++" }), new Lt(this.$hero.querySelectorAll(".intro__description p"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var i = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), n = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), s = 0; s < i.length; s++)this.enterAnimation.fromTo(i[s], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * s); for (var r = 0; r < n.length; r++)this.enterAnimation.fromTo(n[r], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * r), this.enterAnimation.fromTo(n[r], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * r); for (var a = 0; a < this.$items.querySelectorAll(".route").length; a++)this.events.add(this.$items.querySelectorAll(".route")[a], "mousemove", (function (e, i, n) { t.router.routeEnter(e, i, n) })), this.events.add(this.$items.querySelectorAll(".route")[a], "mouseleave", (function (e, i, n) { t.router.routeLeave(e, i, n) })); this.initSlider(), this.init() } }, { key: "init", value: function () { var e = this; this.superScroller = new ii({ mode: "horizontal", currentSection: this, scroll: !0, scrollTarget: this.$el, onRaf: function (t) { var i = -1 * t.livePosition.x; e.checkSlider(i) } }), this.$progressCount.children[1].innerHTML = this.routes.total } }, { key: "initSlider", value: function () { this.routes = { current: 4, total: document.querySelector(".routesArchive__items").children[0].children.length, width: document.querySelector(".routesArchive__items").children[0].getBoundingClientRect().width } } }, { key: "checkSlider", value: function (e) { var t = (e + this.windowWidth) / this.routes.width, i = 4 + Math.round(e / ((this.routes.width - this.windowWidth) / (this.routes.total - 4)) || 0); this.$progressCount.children[0].innerHTML = i, $.a.to(document.querySelector(".progress__bar__inner"), { scaleX: t, ease: "ease0.none", delay: 0 }) } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.to(this.$el, 2, { opacity: 1e-4, ease: "power4.in" }), $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && Ns(i.prototype, n), s && Ns(i, s), a }(d); i(53); function Us (e) { return (Us = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Gs (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Ws (e, t) { return !t || "object" !== Us(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Xs () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Qs (e) { return (Qs = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Zs (e, t) { return (Zs = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Ks = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Zs(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Qs(t); if (Xs()) { var n = Qs(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Ws(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: zs.a, templateData: { rutas: te.appData.rutas, categories: te.appData.rutas_category, footer: li.a, options: te.appData.options }, insertPosition: "FIRST", initialRenderDelay: 0 })).windowWidth = window.innerWidth, t.windowHeight = window.innerHeight, t.sliders = [], t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this._parent.querySelector(".routesArchive__hero"), this.$items = this._parent.querySelector(".routesArchive__items"), this.$progress = document.querySelector(".progress"), this.$progressCount = this.$progress.children[0], this.$progressBar = this.$progress.children[1], this.$routesContainer = this._parent.querySelectorAll(".slider") } }, { key: "setup", value: function (e) { new Lt(this.$hero.querySelectorAll(".intro__description"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var t = this.$hero.querySelector(".intro__title").querySelectorAll(".char"), i = this.$hero.querySelector(".intro__description").querySelectorAll(".line"), n = 0; n < t.length; n++)this.enterAnimation.fromTo(t[n], 1.8, { y: "100%" }, { y: "0%", ease: "duende.inOut" }, 0 + .02 * n); for (var s = 0; s < i.length; s++)this.enterAnimation.fromTo(i[s], 1.8, { y: "100%" }, { y: "0%", ease: "power4.out" }, .8 + .08 * s), this.enterAnimation.fromTo(i[s], 1.2, { opacity: 0 }, { opacity: 1, ease: "power2.out" }, .8 + .08 * s); for (var r = 0; r < this.$routesContainer.length; r++) { var a = new gn({ target: this.$routesContainer[r], nodes: this.$routesContainer[r].querySelectorAll(".route"), enable: !0 }); this.sliders.push(a) } this.init() } }, { key: "init", value: function () { } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize(); for (var i = 0; i < this.$routesContainer.length; i++)this.sliders[i].resize(this.$routesContainer[i].offsetWidth + 15, this.$routesContainer[i].offsetHeight) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && Gs(i.prototype, n), s && Gs(i, s), a }(d), Js = i(15), er = i.n(Js); i(54); function tr (e) { return (tr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function ir (e) { return function (e) { if (Array.isArray(e)) return nr(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, t) { if (!e) return; if ("string" == typeof e) return nr(e, t); var i = Object.prototype.toString.call(e).slice(8, -1); "Object" === i && e.constructor && (i = e.constructor.name); if ("Map" === i || "Set" === i) return Array.from(i); if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return nr(e, t) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function nr (e, t) { (null == t || t > e.length) && (t = e.length); for (var i = 0, n = new Array(t); i < t; i++)n[i] = e[i]; return n } function sr (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function rr (e, t) { return !t || "object" !== tr(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function ar () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function or (e) { return (or = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function lr (e, t) { return (lr = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var ur = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && lr(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = or(t); if (ar()) { var n = or(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return rr(this, e) }); function a (e) { var t; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var i = Object.keys(te.appData.rutas).find((function (t) { return te.appData.rutas[t].slug === e.ruta })), n = te.appData.rutas[i], s = te.appData.rutas, o = te.appData.rutas_category; return (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: er.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, ruta: n, rutas: s, categories: o }, insertPosition: "FIRST", initialRenderDelay: 0 })).ruta = n, t.initDelay = null === t.router.lastNavigation ? 0 : 1, t.fromSlider = "/rutas-destacadas" === t.router.lastNavigation ? 0 : 1, t.superScroller = null, t.superObserver = null, t.windowWidth = window.innerWidth, t.windowHeight = window.innerHeight, t.navigationOpened = !1, t.navigationExpanded = !1, t.info = { distance: n.info.distance, duration: n.info.duration }, t.spots = [], t.galleries = [], t.ticking = !1, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".routesSingle__hero"), this.$heroImage = this.$hero.querySelector(".image"), this.$heroTitle = this.$hero.querySelector(".title"), this.$heroCategory = this.$hero.querySelector(".category"), this.$intro = this.$el.querySelector(".routesSingle__intro"), this.$content = this.$el.querySelector(".routesSingle__content"), this.$share = this.$el.querySelector(".routesSingle__share"), this.$related = this.$el.querySelector(".routesSingle__related"), this.$items = this.$el.querySelector(".routesSingle__items"), this.$footer = this.$el.querySelector(".routesSingle__footer"), this.$video = this.$el.querySelector(".video"), this.$video && (this.$videoInner = this.$video.querySelector(".video__inner"), this.$videoPlayer = this.$video.querySelector(".video__player"), this.$videoPoster = this.$video.querySelector(".video__poster"), this.$videoTrigger = this.$video.querySelector(".video__trigger")), this.$spots = this.$el.querySelectorAll(".spot"), this.$spotsGalleries = this.$el.querySelectorAll(".gallery"), this.$navigation = document.querySelector(".routesNavigation"), this.$navigationSpots = this.$navigation.querySelectorAll(".spot"), this.$navigationTrigger = this.$navigation.querySelector(".routesNavigation__trigger"), this.$navigationDistance = this.$navigation.querySelector(".distance strong"), this.$navigationTime = this.$navigation.querySelector(".time strong") } }, { key: "setup", value: function (e) { var t = this; new Lt(this.$hero.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$hero.querySelector(".title").classList.add("split"), new Lt(this.$intro.querySelector(".quote__title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$intro.querySelector(".quote__title").classList.add("split"), new Lt(this.$related.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$related.querySelector(".title").classList.add("split"), $.a.to(this.$related.querySelector(".category").children[0], { rotation: 360, ease: "linear", repeat: -1, duration: 20, paused: !1, delay: .6 }), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, this.initDelay, { opacity: 1, ease: "power4.out" }, 0), this.$video && this.enterAnimation.to(this.$video, { y: "0vw", ease: "expo.inOut", duration: 2 }, 0), this.enterAnimation.to(this.$heroCategory.children[0].children[0], { rotation: 720, ease: "linear", repeat: -1, duration: 20, paused: !1 }, 1), this.enterAnimation.to(this.$navigation, { y: 0, ease: "expo.inOut", duration: 1 }, .6), this.enterAnimation.to(this.$navigation, { y: 0, ease: "expo.inOut", duration: 1 }, .6), this.enterAnimation.add((function () { t.superScroller._scroll.enable = !0, t.superScroller.scrollAnimate(.21 * window.innerHeight, 2, "expo.inOut", !0) }), 0); for (var i = 0; i < this.$navigationSpots.length; i++)this.events.add(this.$navigationSpots[i], "click", (function (e, i, n) { t.clickedNavigation(e, i, n) })); this.events.add(this.$navigationTrigger, "click", (function () { t.navigationOpened ? t.closeNavigation() : t.openNavigation() })); for (var n = 0; n < this.$spotsGalleries.length; n++)this.galleryInit(n, this.$spotsGalleries[n]); for (var s = 0; s < this.$items.querySelectorAll(".route").length; s++)this.events.add(this.$items.querySelectorAll(".route")[s], "mousemove", (function (e, i, n) { t.router.routeEnter(e, i, n) })), this.events.add(this.$items.querySelectorAll(".route")[s], "mouseleave", (function (e, i, n) { t.router.routeLeave(e, i, n) })); this.init(), $.a.delayedCall(this.initDelay, (function () { t.spotsInit(), t.resize() })) } }, { key: "preloadItems", value: function (e) { return { main: this.router.isDesktop ? [this.ruta.image.sizes["duendelandscape-large"]] : [this.ruta.image_mobile.sizes["duendevertical-medium"]] } } }, { key: "init", value: function () { var e = this; this.superScroller = new ii({ currentSection: this, scroll: !0, enable: !1, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0], onRaf: function (t) { var i = -1 * t.livePosition.y; e.heroRaf(i), e.spotsRaf(i), e.navigationRaf(i) } }), this.observerSections = Object.values(this.$el.children).concat(Object.values(this.$spots)), this.observerItems = [], this.observerParallax = [], this.observerParallax.push({ node: this.$hero.querySelector(".title"), id: "title" }), this.$intro.querySelector(".video") && this.observerParallax.push({ node: this.$intro.querySelector(".video"), id: "video" }); for (var t = 0; t < this.$spots.length; t++)this.observerParallax.push({ node: this.$spots[t].querySelector(".spot__hero"), id: "spotImage" }); this.observerParallax.push({ node: this.$items.querySelector(".reveal__detector"), id: "reveal" }), this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax }) } }, { key: "observerParallaxInit", value: function (e, t) { switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "video": e.timeline.set(e.node.children[0], { transformOrigin: "50% 50%", willChange: "transform", y: "0vw" }, 0), e.timeline.to(e.node.children[0], { y: "5vw" }, 0); break; case "spotImage": e.timeline.set(e.node.querySelector(".image"), { scaleX: 1.4285, scaleY: 1.4285 }, 0), e.timeline.to(e.node.querySelector(".image"), { scaleX: 1, scaleY: 1 }, 0), e.timeline.to(e.node.querySelector(".image"), { scaleX: 1, scaleY: 1 }, 1); break; case "reveal": window.innerHeight, e.node.parentNode.querySelector(".reveal__inner").offsetHeight, window.innerHeight, e.timeline.set(e.node.parentNode.querySelector(".reveal__inner"), { y: -e.node.parentNode.querySelector(".reveal__inner").offsetHeight }, 0), e.timeline.to(e.node.parentNode.querySelector(".reveal__inner"), { y: e.node.parentNode.querySelector(".reveal__inner").offsetHeight }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "routeEnter", value: function (e, t, i) { $.a.to(this.$related.querySelector(".route").children[0], { scale: 1.05, duration: 1, ease: "expo.out", delay: 0 }), $.a.to(this.$related.querySelector(".route").children[2], { scale: .9, duration: .8, ease: "expo.out", delay: 0 }) } }, { key: "routeLeave", value: function (e, t, i) { $.a.to(this.$related.querySelector(".route").children[0], { scale: 1, duration: 1, ease: "expo.out", delay: 0 }), $.a.to(this.$related.querySelector(".route").children[2], { scale: 1, duration: 1, ease: "expo.out", delay: 0 }) } }, { key: "scrollRaf", value: function (e) { this.infoAnimation.progress(this.superScroller._global.percent.y); var t = this.info.duration, i = Math.floor(t / 60), n = Math.floor(t % 60); this.$navigationDistance.innerHTML = this.info.distance.toFixed(2), this.$navigationTime.innerHTML = i + "h " + n + "'" } }, { key: "navigationRaf", value: function (e) { var t = -e / this.superScroller._scroll.maxScroll.y; $.a.set(document.querySelector(".routesNavigation .walker"), { x: document.querySelector(".routesNavigation .spots").offsetWidth * t + "px" }), $.a.set(document.querySelector(".routesNavigation .front"), { x: -100 - -100 * t + "%" }), $.a.set(document.querySelector(".routesNavigation .front .front__inner"), { x: 100 - 100 * t + "%" }) } }, { key: "clickedNavigation", value: function (e, t, i) { this.closeNavigation(), this.superScroller._scroll.enable = !0; var n = ir(i.parentElement.querySelectorAll(".spot")).indexOf(i); this.superScroller.scrollAnimate(this.spots[n].start, 2.8) } }, { key: "openNavigation", value: function () { this.superScroller._scroll.enable = !1, $.a.set(this.$navigation.children[0], { display: "block" }), $.a.to(this.$navigation.children[0], { opacity: 1, duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$navigation.children[1], { y: "0px", ease: "expo.inOut", duration: 1 }), this.navigationOpened = !0 } }, { key: "closeNavigation", value: function () { var e = this; $.a.to(this.$navigation.children[0], { opacity: 0, ease: "power2.out", duration: .8, onComplete: function () { $.a.set(e.$navigation.children[0], { display: "none" }), e.superScroller._scroll.enable = !0 } }), this.navigationExpanded ? $.a.to(this.$navigation.children[1], { y: -window.innerHeight + .05 * window.innerWidth, ease: "expo.inOut", duration: 1 }) : $.a.to(this.$navigation.children[1], { y: "-100%", ease: "expo.inOut", duration: .8, delay: 0 }), this.navigationOpened = !1 } }, { key: "heroRaf", value: function (e) { var t = e / this.windowHeight, i = .1 * window.innerHeight * t, n = 1.05 + t / 8, s = 1 - t; e < this.windowHeight && ($.a.to(this.$heroTitle, { y: i, ease: "power4.out", duration: .5, delay: 0 }), $.a.to(this.$heroCategory, { y: i, ease: "power4.out", duration: .5, delay: 0 }), $.a.to(this.$heroImage.children[0], { scale: n, opacity: s, ease: "power4.out", duration: .5, delay: 0 })) } }, { key: "spotsInit", value: function () { var e = this; this.spots = []; for (var t = 0; t < this.$spots.length; t++) { var i = this.$spots[t].getBoundingClientRect(), n = this.$spots[t].querySelector(".spot__hero").getBoundingClientRect(), s = this.$spots[t].querySelector(".columns__left").getBoundingClientRect(), r = { node: this.$spots[t], megatitle: this.$spots[t].querySelector(".megatitle"), sidebar: this.$spots[t].querySelector(".columns__left"), start: i.y, end: i.y + i.height, height: i.height, endHero: i.y + n.height, heightHero: n.height, heightSidebar: s.height, scrollSidebar: s.height - this.$spots[t].querySelector(".columns__left__inner").offsetHeight, startSidebar: s.y, endSidebar: s.y + s.height }; this.spots.push(r); var a = 100 * (this.$spots[t].getBoundingClientRect().y - .05 * this.windowHeight) / (this.$el.offsetHeight - this.windowHeight); document.querySelectorAll(".routesNavigation .back .spot")[t].style.left = a + "%", document.querySelectorAll(".routesNavigation .front .spot")[t].style.left = a + "%", this.$spots[t].querySelector(".actions__audio") && this.events.add(this.$spots[t].querySelector(".actions__audio"), "click", (function (t, i, n) { e.spotsAudio(t, i, n) })) } } }, { key: "spotsAudio", value: function (e, t, i) { for (var n = 0; n < this.$spots.length; n++)this.$spots[n].querySelector(".actions__audio.is--playing") && (this.$spots[n].querySelector(".actions__audio audio").pause(), this.$spots[n].querySelector(".actions__audio").classList.remove("is--playing"), this.$spots[n].querySelector(".actions__audio").classList.add("link"), this.$spots[n].querySelector(".actions__audio").setAttribute("alt", "Escuchar audio")); i.children[0].paused && (i.classList.add("is--playing"), i.classList.remove("link"), i.children[0].play(), i.setAttribute("alt", "Pausar audio"), document.getElementById("cursor").children[2].children[0].innerHTML = "Pausar audio") } }, { key: "spotsRaf", value: function (e) { for (var t = 0; t < this.spots.length; t++) { if (e + this.windowHeight > this.spots[t].start && e + this.windowHeight < this.spots[t].endHero + this.windowHeight) { var i = -100 * (e - this.spots[t].start) / (this.spots[t].heightHero + this.windowHeight); this.spots[t].megatitle.children[0].style.transform = "translateX(" + i + "%)" } e > this.spots[t].startSidebar - .05 * this.windowWidth && e - this.spots[t].startSidebar < this.spots[t].scrollSidebar - .05 * this.windowWidth && (this.spots[t].sidebar.children[0].style.transform = "translateY(" + (e - this.spots[t].startSidebar + .05 * this.windowWidth) + "px)") } } }, { key: "galleryInit", value: function (e, t) { var i = this, n = { total: 0, current: 0, maxVisibles: 0, loop: !0, isAnimating: !1, parent: t, items: t.querySelectorAll(".gallery__item"), dots: t.querySelectorAll(".dots__item") }; this.galleries.push(n), this.galleries[e].total = this.galleries[e].items.length, this.galleries[e].maxVisibles = this.galleries[e].items.length; for (var s = 0; s < this.galleries[e].items.length; s++)$.a.set(this.galleries[e].items[s], { display: "none" }); $.a.set(this.galleries[e].items[0], { display: "block" }), this.galleries[e].parent.classList.add("gallery--initialized"), this.galleries[e].dots.length > 0 && this.galleries[e].dots[0].classList.add("dots__item--active"); for (var r = function (t) { i.events.add(i.galleries[e].dots[t], "click", (function () { i.galleryMove(t, e) })) }, a = 0; a < this.galleries[e].dots.length; a++)r(a) } }, { key: "galleryMove", value: function (e, t) { var i = this; if (!this.galleries[t].isAnimating && this.galleries[t].current !== e) { var n = e, s = this.galleries[t].current; this.galleries[t].isAnimating = !0, this.galleries[t].current = n, this.galleries[t].dots[s].classList.remove("dots__item--active"), this.galleries[t].dots[n].classList.add("dots__item--active"), $.a.set(this.galleries[t].items[n], { display: "block" }), $.a.set(this.galleries[t].items[n], { x: "100%" }), $.a.to(this.galleries[t].items[s], { x: "-100%", ease: "expo.inOut", duration: 1.5, delay: 0 }), $.a.fromTo(this.galleries[t].items[s].children[0], { x: "0%" }, { x: "50%", ease: "expo.inOut", duration: 1.5, delay: 0 }), $.a.to(this.galleries[t].items[n], { x: "0%", ease: "expo.inOut", duration: 1.5, delay: 0 }), $.a.fromTo(this.galleries[t].items[n].children[0], { x: "-50%" }, { x: "0%", ease: "expo.inOut", duration: 1.5, delay: 0 }), $.a.fromTo(this.galleries[t].items[n].children[0].children[0], { scale: 1.2 }, { scale: 1, ease: "power4.out", duration: 3, delay: 0 }), $.a.delayedCall(1.5, (function () { $.a.set(i.galleries[t].items[s], { display: "none", clearProps: "transform" }), i.galleries[t].isAnimating = !1 })) } } }, { key: "videoInit", value: function () { var e = this; this.$video.classList.contains("video--youtube") ? (this.videoYoutubeInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoYoutubePlay() }), this)) : (this.videoVimeoInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoVimeoPlay() }), this)) } }, { key: "videoYoutubeInit", value: function () { var e = this; if (window.YT.loaded) { var t = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new YT.Player(t, { playerVars: { rel: 0, showinfo: 0, ecver: 2 }, videoId: t, events: { onStateChange: function (t) { 0 === t.data && ($.a.to(e.$videoPoster, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoTrigger, .3, { opacity: 1, ease: "power2.inOut", delay: 0, onComplete: function () { $.a.set(e.$videoPlayer.children, { display: "none" }) } })) } } }) } else setTimeout((function () { e.videoYoutubeInit() }), 10) } }, { key: "videoYoutubePlay", value: function () { $.a.set(this.$videoPlayer.children, { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.playVideo() } }, { key: "videoYoutubeStop", value: function () { this.$videoPlayerObj.stopVideo() } }, { key: "videoVimeoInit", value: function () { var e = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new Vimeo.Player(e, { id: e, width: 640, loop: !0 }) } }, { key: "videoVimeoPlay", value: function () { $.a.set(this.$videoPlayer.children[0].children[0], { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", pointerEvents: "none", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.play() } }, { key: "videoVimeoStop", value: function () { this.$videoPlayerObj.pause() } }, { key: "enter", value: function (e, t) { var i = this; $.a.delayedCall(this.fromSlider, (function () { i.enterAnimation.play(), $.a.delayedCall(1, e) })) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.spots = [], this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && sr(i.prototype, n), s && sr(i, s), a }(d); i(55); function cr (e) { return (cr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function dr (e) { return function (e) { if (Array.isArray(e)) return _r(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, t) { if (!e) return; if ("string" == typeof e) return _r(e, t); var i = Object.prototype.toString.call(e).slice(8, -1); "Object" === i && e.constructor && (i = e.constructor.name); if ("Map" === i || "Set" === i) return Array.from(i); if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return _r(e, t) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _r (e, t) { (null == t || t > e.length) && (t = e.length); for (var i = 0, n = new Array(t); i < t; i++)n[i] = e[i]; return n } function hr (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function pr (e, t) { return !t || "object" !== cr(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function vr () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function yr (e) { return (yr = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function gr (e, t) { return (gr = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var fr = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && gr(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = yr(t); if (vr()) { var n = yr(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return pr(this, e) }); function a (e) { var t; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a); var i = Object.keys(te.appData.rutas).find((function (t) { return te.appData.rutas[t].slug === e.ruta })), n = te.appData.rutas[i], s = te.appData.rutas, o = te.appData.rutas_category; return (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: er.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, ruta: n, rutas: s, categories: o }, insertPosition: "FIRST", initialRenderDelay: 0 })).ruta = n, t.fromSlider = "/rutas" === t.router.lastNavigation, t.initDelay = null === t.router.lastNavigation ? 0 : 1, t.superScroller = null, t.superObserver = null, t.windowWidth = window.innerWidth, t.windowHeight = window.innerHeight, t.navigationOpened = !1, t.navigationExpanded = !1, t.playlistOpened = !1, t.playlistExpanded = !1, t.$playlistAudioElement = null, t.lastScroll = 0, t.info = { distance: n.info.distance, duration: n.info.duration }, t.spots = [], t.galleries = [], t.ticking = !1, t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".routesSingle__hero"), this.$heroImage = this.$hero.querySelector(".image"), this.$heroCategory = this.$hero.querySelector(".category"), this.$intro = this.$el.querySelector(".routesSingle__intro"), this.$content = this.$el.querySelector(".routesSingle__content"), this.$share = this.$el.querySelector(".routesSingle__share"), this.$related = this.$el.querySelector(".routesSingle__related"), this.$items = this.$el.querySelector(".routesSingle__items"), this.$footer = this.$el.querySelector(".routesSingle__footer"), this.$video = this.$el.querySelector(".video"), this.$video && (this.$videoInner = this.$video.querySelector(".video__inner"), this.$videoPlayer = this.$video.querySelector(".video__player"), this.$videoPoster = this.$video.querySelector(".video__poster"), this.$videoTrigger = this.$video.querySelector(".video__trigger")), this.$spots = this.$content.querySelectorAll(".spot"), this.$spotsGalleries = this.$el.querySelectorAll(".gallery"), this.$navigation = document.querySelector(".routesNavigation"), this.$navigationSpots = this.$navigation.querySelectorAll(".spot"), this.$navigationTrigger = this.$navigation.querySelector(".routesNavigation__trigger"), this.$navigationDistance = this.$navigation.querySelector(".distance strong"), this.$navigationTime = this.$navigation.querySelector(".time strong"), this.$itemsList = this.$items.querySelector(".related"), this.$itemsPosts = this.$items.querySelectorAll(".route"), this.$playlist = document.querySelector(".routesPlaylist"), this.$playlistHeader = this.$playlist.querySelector(".header"), this.$playlistExpander = this.$playlist.querySelector(".expander"), this.$playlistTrigger = this.$playlist.querySelector(".trigger"), this.$playlistAudio = this.$playlist.querySelector(".audio"), this.$playlistItems = this.$playlist.querySelectorAll(".spot"), this.$carrousel = this.$items.querySelector(".label"), this.$carrouselNavigation = this.$navigation.querySelector(".back__inner") } }, { key: "setup", value: function (e) { var t = this; $.a.ticker.add((function () { t.spotsMobile(), t.router.contentScrollPosition > t.lastScroll && t.playlistOpened && t.closePlaylist(), t.router.contentScrollPosition < t.lastScroll && !t.playlistOpened && t.playlistStarted && t.openPlaylist(), t.lastScroll = t.router.contentScrollPosition })), new Lt(this.$hero.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$hero.querySelector(".title").classList.add("split"), $.a.to(this.$hero.querySelector(".category").children[0].children[0], { rotation: 360, ease: "linear", repeat: -1, duration: 20, paused: !1 }), new Lt(this.$related.querySelector(".title"), { type: "lines, words", linesClass: "line line--++", wordsClass: "word word--++" }), this.$related.querySelector(".title").classList.add("split"), $.a.to(this.$related.querySelector(".category").children[0].children[0], { rotation: 360, ease: "linear", repeat: -1, duration: 20, paused: !1 }), this.$video && ($.a.to(this.$video, { y: "0%", ease: "expo.out", duration: 2 }, 1), $.a.set(this.$hero.querySelector(".info"), { bottom: "35vw" })), this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0); for (var i = 0; i < this.$navigationSpots.length; i++)this.events.add(this.$navigationSpots[i], "click", (function (e, i, n) { t.clickedNavigation(e, i, n) })); this.events.add(this.$navigationTrigger, "click", (function () { t.navigationOpened ? t.closeNavigation() : t.openNavigation() })), this.events.add(this.$playlistExpander, "click", (function () { t.playlistExpanded ? t.compressPlaylist() : t.expandPlaylist() })), this.events.add(this.$playlistHeader, "click", (function () { t.compressPlaylist() })); for (var n = 0; n < this.$playlistItems.length; n++)this.events.add(this.$playlistItems[n], "click", (function (e, i, n) { t.changePlaylist(e, i, n) })); for (var s = 0; s < this.$spotsGalleries.length; s++)this.galleryInitMobile(s, this.$spotsGalleries[s]); $.a.delayedCall(null === this.router.lastNavigation ? 0 : 1, (function () { t.spotsInit() })), this.$video && this.videoInit(), this.slider = new gn({ target: this.$itemsList, nodes: this.$itemsPosts, enable: !0 }), this.textCarrousel(), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = [], this.observerParallax = [], this.observerParallax.push({ node: this.$hero.querySelector(".title"), id: "title" }), this.$intro.querySelector(".video") && this.observerParallax.push({ node: this.$intro.querySelector(".video"), id: "video" }); for (var e = 0; e < this.$spots.length; e++)this.observerParallax.push({ node: this.$spots[e].querySelector(".spot__hero"), id: "spotImage" }); this.observerParallax.push({ node: this.$items.querySelector(".reveal__detector"), id: "reveal" }), this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax }) } }, { key: "textCarrousel", value: function () { var e = this.$carrousel.offsetWidth / this.$carrousel.children[0].offsetWidth; this.carrousel = $.a.timeline({ paused: !1, repeat: -1, defaults: { duration: 3 / e, ease: "none" } }); for (var t = 0; t < this.$carrousel.children.length; t++)this.carrousel.to(this.$carrousel.children[t], { x: "-100%" }, 0) } }, { key: "observerParallaxInit", value: function (e, t) { var i = this; switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), this.observerParallax[t].id) { case "video": e.timeline.set(e.node.children[0], { transformOrigin: "50% 50%", willChange: "transform", y: "0vw" }, 0), e.timeline.to(e.node.children[0], { y: "5vw" }, 0); break; case "spotImage": e.timeline.set(e.node.querySelector(".image"), { scale: 1.8 }, 0), e.timeline.to(e.node.querySelector(".image"), { scale: 1 }, 0), e.timeline.call((function () { var t = Object.values(i.$spots).indexOf(e.node.closest(".spot")), n = i.$navigationSpots[t].offsetLeft, s = (window.innerWidth - i.$navigationSpots[t].children[0].offsetWidth) / 2; i.$navigation.querySelector(".text__inner").scrollLeft = i.$navigation.querySelector(".text__inner").parentNode.scrollLeft + n - s }), 0), e.timeline.to(e.node.querySelector(".image"), { scale: 1 }, 1); break; case "reveal": e.timeline.set(e.node.parentNode.querySelector(".reveal__inner"), { y: -e.node.parentNode.querySelector(".reveal__inner").offsetHeight }, 0), e.timeline.to(e.node.parentNode.querySelector(".reveal__inner"), { y: e.node.parentNode.querySelector(".reveal__inner").offsetHeight }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "clickedNavigation", value: function (e, t, i) { this.closeNavigation(); var n = dr(i.parentElement.querySelectorAll(".spot")).indexOf(i); $.a.to(this._parent, { scrollTop: this.spots[n].start, duration: 2, ease: "expo.inOut" }); var s = this.$navigationSpots[n].offsetLeft, r = (window.innerWidth - this.$navigationSpots[n].children[0].offsetWidth) / 2; $.a.to(this.$navigation.querySelector(".text__inner"), { scrollLeft: this.$navigation.querySelector(".text__inner").parentNode.scrollLeft + s - r, duration: 2.8 }) } }, { key: "openPlaylist", value: function (e, t, i) { this.playlistOpened = !0, i && this.$playlistItems[i.getAttribute("data-rel")].click(), $.a.to(this.$playlist, { y: window.innerHeight - .21 * window.innerWidth, ease: "expo.inOut", duration: 1 }) } }, { key: "expandPlaylist", value: function () { $.a.to(this.$playlist, { y: 0, ease: "expo.inOut", duration: 1 }), $.a.to(this.$playlistAudio, { y: window.innerHeight - .21 * window.innerWidth, ease: "expo.inOut", duration: 1 }), this.playlistExpanded = !0 } }, { key: "compressPlaylist", value: function () { $.a.to(this.$playlist, { y: window.innerHeight - .21 * window.innerWidth, ease: "expo.inOut", duration: 1 }), $.a.to(this.$playlistAudio, { y: 0, ease: "expo.inOut", duration: 1 }), this.playlistExpanded = !1 } }, { key: "closePlaylist", value: function () { this.playlistOpened = !1, this.playlistExpanded = !1, $.a.to(this.$playlist, { y: "100%", ease: "expo.inOut", duration: 1 }), $.a.to(this.$playlistAudio, { y: 0, ease: "expo.inOut", duration: 1 }) } }, { key: "changePlaylist", value: function (e, t, i) { var n = this; this.playlistStarted = !0, i.classList.contains("active") || (this.$playlist.querySelector(".active") && this.$playlist.querySelector(".active").classList.remove("active"), i.classList.add("active"), this.$playlistAudio.querySelector("audio") && (this.$playlistAudio.querySelector("audio").pause(), this.$playlistAudio.querySelector("audio").remove()), $.a.delayedCall(.1, (function () { n.$playlistAudioElement = i.querySelector("audio").cloneNode(!0), n.$playlistAudio.insertBefore(n.$playlistAudioElement, n.$playlistExpander); var e = n.$playlistAudioElement.play(); void 0 !== e && e.then().catch((function (e) { n.$playlistAudioElement.play() })), n.$playlistAudioElement.addEventListener("ended", (function (e) { i.classList.remove("active"), n.closePlaylist(), n.playlistStarted = !1 })) }))) } }, { key: "openNavigation", value: function () { $.a.set(this.$navigation.children[0], { display: "block" }), $.a.to(this.$navigation.children[0], { opacity: 1, duration: .8, ease: "power2.out", delay: 0 }), $.a.to(this.$navigation.children[1], { y: "0px", ease: "expo.inOut", duration: 1 }), this.navigationOpened = !0 } }, { key: "closeNavigation", value: function () { var e = this; $.a.to(this.$navigation.children[0], { opacity: 0, ease: "power2.out", duration: .8, onComplete: function () { $.a.set(e.$navigation.children[0], { display: "none" }) } }), this.navigationExpanded ? $.a.to(this.$navigation.children[1], { y: -window.innerHeight + .05 * window.innerWidth, ease: "expo.inOut", duration: 1 }) : $.a.to(this.$navigation.children[1], { y: "-100%", ease: "expo.inOut", duration: .8, delay: 0 }), this.navigationOpened = !1 } }, { key: "spotsInit", value: function () { var e = this; $.a.set(this.$navigationSpots[0], { paddingLeft: (window.innerWidth - this.$navigationSpots[0].offsetWidth) / 2 }), $.a.set(this.$navigationSpots[this.$navigationSpots.length - 1], { paddingRight: (window.innerWidth - this.$navigationSpots[this.$navigationSpots.length - 1].offsetWidth) / 2 }); for (var t = 0; t < this.$spots.length; t++) { var i = this.$spots[t].getBoundingClientRect(), n = this.$spots[t].querySelector(".spot__hero").getBoundingClientRect(), s = this.$spots[t].querySelector(".columns__left").getBoundingClientRect(), r = { node: this.$spots[t], megatitle: this.$spots[t].querySelector(".megatitle"), sidebar: this.$spots[t].querySelector(".columns__left"), start: i.y, end: i.y + i.height, height: i.height, endHero: i.y + n.height, heightHero: n.height, heightSidebar: s.height, scrollSidebar: s.height - this.$spots[t].querySelector(".columns__left__inner").offsetHeight, startSidebar: s.y, endSidebar: s.y + s.height }; this.spots.push(r), this.$spots[t].querySelector(".actions__audio") && this.events.add(this.$spots[t].querySelector(".actions__audio"), "click", (function (t, i, n) { e.openPlaylist(t, i, n) })) } } }, { key: "spotsAudio", value: function (e, t, i) { i.children[0].paused ? (i.classList.add("is--playing"), i.classList.remove("link"), i.children[0].play(), i.setAttribute("alt", "Pausar audio"), document.getElementById("cursor").children[2].children[0].innerHTML = "Pausar audio") : (i.classList.remove("is--playing"), i.classList.remove("link"), i.children[0].pause(), i.setAttribute("alt", "Escuchar audio"), document.getElementById("cursor").children[2].children[0].innerHTML = "Escuchar audio") } }, { key: "spotsMobile", value: function () { for (var e = 0; e < this.spots.length; e++)if (this.router.contentScrollPosition + this.windowHeight > this.spots[e].start && this.router.contentScrollPosition + this.windowHeight < this.spots[e].endHero + this.windowHeight) { var t = -100 * (this.router.contentScrollPosition - this.spots[e].start) / (this.spots[e].heightHero + this.windowHeight); $.a.set(this.spots[e].megatitle.children[0], { x: t + "%" }) } } }, { key: "galleryInitMobile", value: function (e, t) { for (var i = t.querySelector(".gallery__inner"), n = t.querySelectorAll(".gallery__item"), s = 0; s < n.length; s++)n.length > 1 ? n[s].classList.add("initialized") : i.style.margin = "auto"; var r = t.querySelectorAll(".gallery__item.initialized"); if (n.length > 1) { var a = new gn({ target: i, nodes: r, enable: !0 }); this.galleries.push(a) } } }, { key: "videoInit", value: function () { var e = this; this.$video.classList.contains("video--youtube") ? (this.videoYoutubeInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoYoutubePlay() }), this)) : (this.videoVimeoInit(), this.events.add(this.$videoTrigger, "click", (function () { e.videoVimeoPlay() }), this)) } }, { key: "videoYoutubeInit", value: function () { var e = this; if (window.YT.loaded) { var t = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new YT.Player(t, { playerVars: { rel: 0, showinfo: 0, ecver: 2 }, videoId: t, events: { onStateChange: function (t) { 0 === t.data && ($.a.to(e.$videoPoster, .3, { opacity: 1, ease: "power2.inOut", delay: 0 }), $.a.to(e.$videoTrigger, .3, { opacity: 1, ease: "power2.inOut", delay: 0, onComplete: function () { $.a.set(e.$videoPlayer.children, { display: "none" }) } })) } } }) } else setTimeout((function () { e.videoYoutubeInit() }), 10) } }, { key: "videoYoutubePlay", value: function () { $.a.set(this.$videoPlayer.children, { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.playVideo() } }, { key: "videoYoutubeStop", value: function () { this.$videoPlayerObj.stopVideo() } }, { key: "videoVimeoInit", value: function () { var e = this.$videoPlayer.children[0].id; this.$videoPlayerObj = new Vimeo.Player(e, { id: e, width: 640, loop: !0 }) } }, { key: "videoVimeoPlay", value: function () { $.a.set(this.$videoPlayer.children[0].children[0], { display: "block" }), $.a.to(this.$videoPoster, 1, { opacity: "0.0001", ease: "power2.inOut", delay: 0 }), $.a.to(this.$videoTrigger, 1, { opacity: "0.0001", pointerEvents: "none", ease: "power2.inOut", delay: 0 }), this.$videoPlayerObj.play() } }, { key: "videoVimeoStop", value: function () { this.$videoPlayerObj.pause() } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize(); for (var i = 0; i < this.galleries.length; i++)this.galleries[i].resize(this.galleries[i]._target.offsetWidth + 15, this.galleries[i]._target.offsetHeight); this.slider.resize(this.$itemsList.offsetWidth + 15, this.$itemsList.offsetHeight) } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && hr(i.prototype, n), s && hr(i, s), a }(d), mr = i(16), br = i.n(mr); i(56); function Dr (e) { return (Dr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function $r (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Sr (e, t) { return !t || "object" !== Dr(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function wr () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function kr (e) { return (kr = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function xr (e, t) { return (xr = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Cr = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && xr(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = kr(t); if (wr()) { var n = kr(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Sr(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: br.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, search: e.search, categories: e.categories, items: null, page: e.page || 1, pageItems: 30 }, insertPosition: "FIRST", initialRenderDelay: 0 })).preSearch(e.categories, e.search), t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$scrollbar = this._parent.querySelector(".scrollbar"), this.$hero = this.$el.querySelector(".searchArchive__hero"), this.$posts = this.$el.querySelector(".searchArchive__posts"), this.$footer = this.$el.querySelector(".searchArchive__footer"), this.$form = this.$hero.querySelector(".form"), this.$formInput = this.$hero.querySelector(".input input"), this.$formOptions = this.$hero.querySelectorAll(".options .checkbox"), this.$formOptionsInputs = this.$hero.querySelectorAll('.options input[type="checkbox"]'), this.$results = this.$hero.querySelector(".results"), this.$noresults = this.$hero.querySelector(".noresults") } }, { key: "setup", value: function (e) { var t = this; this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), new Lt(this.$posts.querySelector(".button"), { type: "chars", charsClass: "char char--++" }), $.a.set(this.$posts.querySelector(".button").children[1].children, { y: "100%", opacity: 1e-4, stagger: .05 }); for (var i = 0; i < this.$posts.querySelectorAll(".post").length; i++)this.events.add(this.$posts.querySelectorAll(".post")[i], "mouseenter", (function (e, i, n) { t.router.postEnterList(e, i, n) })), this.events.add(this.$posts.querySelectorAll(".post")[i], "mouseleave", (function (e, i, n) { t.router.postLeaveList(e, i, n) })); this.events.add(this.$posts.querySelector(".button"), "mouseenter", (function (e, i, n) { t.router.buttonEnter(e, i, n) })), this.events.add(this.$posts.querySelector(".button"), "mouseleave", (function (e, i, n) { t.router.buttonLeave(e, i, n) })), this.events.add(this.$formInput, "input", (function () { t.search() })); for (var n = 0; n < this.$formOptions.length; ++n)this.events.add(this.$formOptions[n], "click", (function () { t.search() })); this.search(this._templateData.categories, this._templateData.search), this.init() } }, { key: "init", value: function () { this.superScroller = new ii({ currentSection: this, scroll: !0, scrollTarget: this.$el, bar: !0, barTarget: this.$scrollbar.children[0] }), this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$hero, delay: 0, id: "hero" }, { node: this.$featured, delay: 0, id: "featured" }, { node: this.$posts, delay: 0, id: "posts" }, { node: this.$footer, delay: 0, id: "footer" }], this.observerParallax = []; for (var e = 0; e < this.$posts.querySelectorAll(".post__line").length; e++)this.observerParallax.push({ node: this.$posts.querySelectorAll(".post__line")[e], id: "line" }); this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections, observerParallax: this.observerParallax }) } }, { key: "preSearch", value: function (e, t) { var i = t, n = e.split("+"), s = this.store.appData.articulos, r = this.store.appData.planes, a = this.store.appData.rutas, o = []; if (n.includes("all") ? o = o.concat(Object.values(s)).concat(Object.values(r)).concat(Object.values(a)) : (n.includes("revista") && (o = o.concat(Object.values(s).reverse())), n.includes("planes") && (o = o.concat(Object.values(r).reverse())), n.includes("rutas") && (o = o.concat(Object.values(a).reverse()))), "" !== i && void 0 !== i) for (var l = o.length - 1; l >= 0; l--)"revista" === o[l].type || "planes" === o[l].type ? o[l].title.toUpperCase().includes(i.toUpperCase()) || o[l].intro.toUpperCase().includes(i.toUpperCase()) || o.splice(l, 1) : o[l].title.toUpperCase().includes(i.toUpperCase()) || o[l].excerpt.toUpperCase().includes(i.toUpperCase()) || o.splice(l, 1); this._templateData.items = o } }, { key: "search", value: function (e, t) { var i, n; i = t ? t || "" : this.$formInput.value, n = e ? e.split("+") : []; for (var s = this.store.appData.articulos, r = this.store.appData.planes, a = this.store.appData.rutas, o = 0; o < this.$formOptionsInputs.length; ++o)this.$formOptionsInputs[o].checked && n.push(this.$formOptionsInputs[o].value); var l = []; if (0 === n.length ? l = l.concat(Object.values(s)).concat(Object.values(r)).concat(Object.values(a)) : (n.includes("revista") && (l = l.concat(Object.values(s).reverse())), n.includes("planes") && (l = l.concat(Object.values(r).reverse())), n.includes("rutas") && (l = l.concat(Object.values(a).reverse()))), "" !== i && void 0 !== i) for (var u = l.length - 1; u >= 0; u--)"revista" === l[u].type || "planes" === l[u].type ? l[u].title.toUpperCase().includes(i.toUpperCase()) || l[u].intro.toUpperCase().includes(i.toUpperCase()) || l.splice(u, 1) : l[u].title.toUpperCase().includes(i.toUpperCase()) || l[u].excerpt.toUpperCase().includes(i.toUpperCase()) || l.splice(u, 1); 0 === l.length ? (this.$results.style.display = "none", this.$noresults.style.display = "block") : (this.$results.style.display = "block", this.$noresults.style.display = "none", this._templateData.items = l, this.$results.querySelector("a span").innerHTML = l.length, 0 === n.length || n.length === this.$formOptionsInputs.length ? this.$results.querySelector("a").href = "/buscar/all/" + i.toLowerCase() : this.$results.querySelector("a").href = "/buscar/" + n.join("+") + "/" + i.toLowerCase()) } }, { key: "observerParallaxInit", value: function (e, t) { var i = this.observerParallax[t].id; switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), i) { case "line": e.timeline.set(e.node, { willChange: "transform", x: "40vw" }, 0), e.timeline.to(e.node, { x: "0vw" }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superScroller && this.superScroller.resize(), this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superScroller && this.superScroller.destroy(), this.superObserver && this.superObserver.destroy() } }]) && $r(i.prototype, n), s && $r(i, s), a }(d); i(57); function qr (e) { return (qr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Or (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Ar (e, t) { return !t || "object" !== qr(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Pr () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Tr (e) { return (Tr = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Fr (e, t) { return (Fr = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Er = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Fr(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Tr(t); if (Pr()) { var n = Tr(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Ar(this, e) }); function a (e) { var t; return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), (t = r.call(this, { eventHub: ne, store: te, router: jr, templateFunction: br.a, templateData: { data: te.appData, options: te.appData.options, footer: li.a, search: e.search, categories: e.categories, items: null, page: e.page || 1, pageItems: 12 }, insertPosition: "FIRST", initialRenderDelay: 0 })).search(e.categories, e.search), t } return i = a, (n = [{ key: "selectors", value: function () { this.$el = this._parent.querySelector(".inner"), this.$hero = this.$el.querySelector(".searchArchive__hero"), this.$posts = this.$el.querySelector(".searchArchive__posts"), this.$footer = this.$el.querySelector(".searchArchive__footer"), this.$closer = this.$el.querySelector(".closer"), this.$logo = document.getElementById("logo"), this.$opener = document.querySelector(".opener") } }, { key: "setup", value: function (e) { this.enterAnimation = $.a.timeline({ paused: !0, delay: 0 }), this.enterAnimation.to(this.$el, null === this.router.lastNavigation ? 1 : 0, { opacity: 1, ease: "power4.out" }, 0), $.a.set(this.$opener, { display: "block" }), $.a.set(this.$logo, { display: "block" }), this.init() } }, { key: "init", value: function () { this.observerSections = Object.values(this.$el.children), this.observerItems = [{ node: this.$hero, delay: 0, id: "hero" }, { node: this.$featured, delay: 0, id: "featured" }, { node: this.$posts, delay: 0, id: "posts" }, { node: this.$footer, delay: 0, id: "footer" }], this.observerParallax = []; for (var e = 0; e < this.$posts.querySelectorAll(".post__line").length; e++)this.observerParallax.push({ node: this.$posts.querySelectorAll(".post__line")[e], id: "line" }); this.superObserver = new si({ currentSection: this, observer: !0, observerTarget: this.router.isDesktop ? this.$el.parentNode : null, observerSections: this.observerSections }) } }, { key: "search", value: function (e, t) { var i = t, n = e.split("+"), s = this.store.appData.articulos, r = this.store.appData.planes, a = this.store.appData.rutas, o = []; if (n.includes("all") ? o = o.concat(Object.values(s)).concat(Object.values(r)).concat(Object.values(a)) : (n.includes("revista") && (o = o.concat(Object.values(s).reverse())), n.includes("planes") && (o = o.concat(Object.values(r).reverse())), n.includes("rutas") && (o = o.concat(Object.values(a).reverse()))), "" !== i && void 0 !== i) for (var l = o.length - 1; l >= 0; l--)o[l].title.toUpperCase().includes(i.toUpperCase()) || o.splice(l, 1); this._templateData.items = o } }, { key: "observerParallaxInit", value: function (e, t) { var i = this.observerParallax[t].id; switch (e.timeline = $.a.timeline({ paused: !0, ease: "none", defaults: { duration: 1, ease: "none" } }), i) { case "line": e.timeline.set(e.node, { willChange: "transform", x: "40vw" }, 0), e.timeline.to(e.node, { x: "0vw" }, 0) }e.timeline.progress(.001) } }, { key: "observerParallaxTrigger", value: function (e, t, i) { e.timeline.progress(i) } }, { key: "enter", value: function (e, t) { this.enterAnimation.play(), $.a.delayedCall(1, e) } }, { key: "resize", value: function (e, t) { this.superObserver && this.superObserver.resize() } }, { key: "leave", value: function (e) { $.a.set(this.$opener, { display: "none" }), $.a.set(this.$logo, { display: "none" }), $.a.delayedCall(1, (function () { e() })) } }, { key: "afterLeave", value: function () { this.superObserver && this.superObserver.destroy() } }]) && Or(i.prototype, n), s && Or(i, s), a }(d); function Ir (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var jr = new (function () { function e () { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e) } var t, i, n; return t = e, (i = [{ key: "init", value: function () { this.isDesktop = "desktop" === te.client.device; var e = [{ path: "/", name: "home", category: "default", component: this.isDesktop ? vi : $i }, { path: "/revista", name: "magazineFeatured", category: "revista", component: this.isDesktop ? Pi : zi }, { path: "/revista/:edition", name: "magazineArchive", category: "revista", component: this.isDesktop ? Gi : en }, { path: "/revista/:edition/page/:page", name: "magazineArchive", category: "revista", component: this.isDesktop ? Gi : en }, { path: "/revista/:edition/:articulo", name: "magazineSingle", category: "revista", component: this.isDesktop ? cn : wn }, { path: "/planes", name: "plansFeatured", category: "planes", component: this.isDesktop ? Fn : Nn }, { path: "/planes/:category", name: "plansCategory", category: "planes", component: this.isDesktop ? Xn : is }, { path: "/planes/:category/page/:page", name: "plansCategory", category: "planes", component: this.isDesktop ? Xn : is }, { path: "/planes/:category/:plan", name: "plansSingle", category: "planes", component: this.isDesktop ? ds : fs }, { path: "/rutas-destacadas", name: "routesFeatured", category: "rutas", component: this.isDesktop ? Os : js }, { path: "/rutas", name: "routesArchive", category: "rutas", component: this.isDesktop ? Ys : Ks }, { path: "/rutas/:category/:ruta", name: "routesSingle", category: "rutas", component: this.isDesktop ? ur : fr }, { path: "/buscar/:categories/:search?", name: "searchArchive", category: "default", component: this.isDesktop ? Cr : Er }, { path: "/buscar/:categories/:search?/page/:page", name: "searchArchive", category: "default", component: this.isDesktop ? Cr : Er }]; this.firstNavigation = !0, this.lastNavigation = null, this.search = null, this.searchReady = !1, this.menu = null, this.menuReady = !1, this.firstResize = !0, this.searchItems = null, this.contentScrollPosition = 0, this.buttonEnter = function (e, t, i) { arguments.length > 3 && void 0 !== arguments[3] && arguments[3], arguments.length > 4 && void 0 !== arguments[4] && arguments[4], $.a.to(i.children[0].children, { y: "-100%", opacity: 1e-4, stagger: .02, duration: .85, ease: "duende.inOut" }), $.a.to(i.children[1].children, { y: "0%", opacity: 1, stagger: .02, duration: .85, ease: "duende.inOut" }) }, this.buttonLeave = function (e, t, i) { arguments.length > 3 && void 0 !== arguments[3] && arguments[3], arguments.length > 4 && void 0 !== arguments[4] && arguments[4], $.a.to(i.children[0].children, { y: "0%", opacity: 1, stagger: .02, duration: .85, ease: "duende.inOut" }), $.a.to(i.children[1].children, { y: "100%", opacity: 1e-4, stagger: .02, duration: .85, ease: "duende.inOut" }) }, this.postSet = function (e, t, i) { arguments.length > 3 && void 0 !== arguments[3] && arguments[3]; var n = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.set(i.querySelector(".image"), { scaleX: .9, scaleY: .92, delay: n }), $.a.set(i.querySelector(".image__bg"), { transformOrigin: "50% 50%", scaleX: 1.2, scaleY: 1.16, delay: n }) }, this.postEnter = function (e, t, i) { for (var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, r = i.querySelectorAll(".hoverline"), a = 0; a < r.length; a++)$.a.to(r[a], { scaleX: 1, transformOrigin: "0 0", duration: .7, ease: "power4.inOut", delay: 0 + .1 * a }); $.a.to(i.querySelector(".image"), { scaleX: .9, scaleY: .92, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { transformOrigin: "50% 50%", scaleX: 1.2, scaleY: 1.16, ease: "expo.out", duration: n, delay: s }) }, this.postLeave = function (e, t, i) { for (var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, r = i.querySelectorAll(".hoverline"), a = 0; a < r.length; a++)$.a.to(r[a], { scaleX: 0, transformOrigin: "100% 100%", duration: .7, ease: "power4.inOut", delay: 0 + .1 * a }); $.a.to(i.querySelector(".image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }) }, this.postEnterFeatured = function (e, t, i) { for (var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, r = i.querySelectorAll(".hoverline"), a = 0; a < r.length; a++)$.a.to(r[a], { scaleX: 0, transformOrigin: "100% 100%", duration: .7, ease: "power4.inOut", delay: 0 + .1 * a }), $.a.to(r[a], { scaleX: 1, transformOrigin: "0 0", duration: .7, ease: "power4.inOut", delay: .7 + .1 * a }); $.a.to(i.querySelector(".image"), { scaleX: .95, scaleY: .92, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { transformOrigin: "50% 50%", scaleX: 1.1, scaleY: 1.16, ease: "expo.out", duration: n, delay: s }) }, this.postLeaveFeatured = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i.querySelector(".image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }) }, this.postEnterLarge = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i.querySelector(".image"), { scaleX: .95, scaleY: .92, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { transformOrigin: "50% 50%", scaleX: 1.1, scaleY: 1.16, ease: "expo.out", duration: n, delay: s }) }, this.postLeaveLarge = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i.querySelector(".image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }) }, this.postEnterSmall = function (e, t, i) { for (var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, r = i.querySelectorAll(".hoverline"), a = 0; a < r.length; a++)$.a.to(r[a], { scaleX: 1, transformOrigin: "0 0", duration: .7, ease: "power4.inOut", delay: 0 + .1 * a }); $.a.to(i.querySelector(".image"), { scaleX: .9, scaleY: .9, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { transformOrigin: "50% 50%", scaleX: 1.2, scaleY: 1.2, ease: "expo.out", duration: n, delay: s }) }, this.postLeaveSmall = function (e, t, i) { for (var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, r = i.querySelectorAll(".hoverline"), a = 0; a < r.length; a++)$.a.to(r[a], { scaleX: 0, transformOrigin: "100% 100%", duration: .7, ease: "power4.inOut", delay: 0 + .1 * a }); $.a.to(i.querySelector(".image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }) }, this.postEnterList = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i.querySelector(".image"), { scaleX: .93, scaleY: .9, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { transformOrigin: "50% 50%", scaleX: 1.14, scaleY: 1.2, ease: "expo.out", duration: n, delay: s }) }, this.postLeaveList = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i.querySelector(".image"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".image__bg"), { scaleX: 1, scaleY: 1, ease: "expo.out", duration: n, delay: s }) }, this.magazineEnter = function (e, t, i) { arguments.length > 3 && void 0 !== arguments[3] && arguments[3], arguments.length > 4 && void 0 !== arguments[4] && arguments[4]; var n = i.getBoundingClientRect().left + i.getBoundingClientRect().width / 2 - e.pageX, s = i.getBoundingClientRect().top + i.getBoundingClientRect().height / 2 - e.pageY; $.a.to(i, { x: -.14 * n, y: -.1 * s, ease: "expo.out", duration: 1 }) }, this.magazineLeave = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i, { x: 0, y: 0, ease: "expo.out", duration: n, delay: s }) }, this.routeEnter = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i.querySelector(".image__bg"), { transformOrigin: "50% 50%", scale: 1.1, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".mask"), { opacity: 1, ease: "power2.out", duration: n, delay: s }) }, this.routeLeave = function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0; $.a.to(i.querySelector(".image__bg"), { scale: 1, ease: "expo.out", duration: n, delay: s }), $.a.to(i.querySelector(".mask"), { opacity: .5, ease: "power2.out", duration: n, delay: s }) }, this.interviewEnter = function (e, t, i) { arguments.length > 3 && void 0 !== arguments[3] && arguments[3], arguments.length > 4 && void 0 !== arguments[4] && arguments[4]; for (var n = i.querySelectorAll(".hoverline"), s = 0; s < n.length; s++)$.a.to(n[s], { scaleX: 0, transformOrigin: "100% 100%", duration: .7, ease: "power4.inOut", delay: 0 + .1 * s }), $.a.to(n[s], { scaleX: 1, transformOrigin: "0 0", duration: .7, ease: "power4.inOut", delay: .7 + .1 * s }) }, this.instance = new ee({ eventHub: ne, store: te, routes: e, allowNavigation: !0, allowSectionUpdate: !0, onSameRoute: function (e) { } }), this.addGuards(), this.vh = .01 * window.innerHeight, document.documentElement.style.setProperty("--vh", "".concat(this.vh, "px")), this.instance.init() } }, { key: "addGuards", value: function () { var e = this; this.instance.addGuard("preloadHide", (function (t, i, n, s) { if (e.firstNavigation) { var r = new V; return r.add("appData", e.instance.store.rootUrl + "/wp-content/uploads/data.json?" + Math.round(1e10 * Math.random()).toString(), { loadType: V.Resource.LOAD_TYPE.XHR, xhrType: V.Resource.XHR_RESPONSE_TYPE.JSON }), r.onComplete.once((function (t) { e.instance.store.appData = t.resources.appData.data, s() }), e), void r.load() } s() })), this.instance.addGuard("preloadHide", (function (t, i, n, s) { document.body.className = "", document.body.classList.add(t.name), null === e.instance.currentSection && (e.menu = new yt, e.menu.render((function () { e.menuReady = !0 })), e.search = new Wt, e.search.render((function () { e.searchReady = !0 }))), "home" === t.name ? (e.menu.expand(), e.search.show()) : (e.menu.compress(), e.search.hide()), document.querySelector("#menu").querySelector(".active") && document.querySelector("#menu").querySelector(".active").classList.remove("active"), document.querySelector("#menu").querySelector("a." + t.name) && document.querySelector("#menu").querySelector("a." + t.name).classList.add("active"), s() })), this.instance.addGuard("preloadHide", (function (t, i, n, s) { e.menu.update(t.category), e.firstNavigation ? (e.firstNavigation = !1, s()) : (!0 === e.search.isOpened && e.search.close(), !0 === e.menu.isOpened ? e.menu.openFull() : "routesSingle" === t.name && "routesFeatured" === e.instance._routes[e.instance.currentRoute.index].name && e.isDesktop || e.menu.pageTransition(), e.menu.cursorViewing && (e.menu.cursorViewing = !1, $.a.to(e.menu.$cursor.children[1], { scale: 0, duration: .6, ease: "expo.out" }), $.a.to(e.menu.$cursor.children[2], { scale: 0, duration: .6, ease: "expo.out" })), s()) })), this.isDesktop || this.instance.addGuard("show", (function (t, i, n, s) { document.getElementById("content").scrollTop = 0, e.contentScrollPosition = e.lerp(e.contentScrollPosition, 0, .1), s() })), this.instance.addGuard("show", (function (t, i, n, s) { e.lastNavigation && (document.title = "Revista El Duende"), s() })), this.instance.addGuard("after", (function (t, i, n, s) { e.lastNavigation = location.pathname, s() })) } }, { key: "lerp", value: function (e, t, i) { return e + (t - e) * (i = (i = i < 0 ? 0 : i) > 1 ? 1 : i) } }, { key: "resize", value: function (e, t) { var i = this; this.instance && this.instance.currentSection && this.instance.currentSection.resize(e, t), this.searchReady && this.search.resize(e, t), this.menuReady && this.menu.resize(e, t), $.a.to(this, { vh: .01 * t, duration: 1, ease: "expo.out", overwrite: "all", onUpdate: function () { document.documentElement.style.setProperty("--vh", "".concat(i.vh, "px")) } }) } }]) && Ir(t.prototype, i), n && Ir(t, n), e }()), Rr = i(24), zr = i.n(Rr); i(58); function Lr (e) { return (Lr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function Nr (e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function Br (e, t) { return !t || "object" !== Lr(t) && "function" != typeof t ? function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function Mr () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (e) { return !1 } } function Hr (e) { return (Hr = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function Vr (e, t) { return (Vr = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } var Yr = function (e) { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Vr(e, t) }(a, e); var t, i, n, s, r = (t = a, function () { var e, i = Hr(t); if (Mr()) { var n = Hr(this).constructor; e = Reflect.construct(i, arguments, n) } else e = i.apply(this, arguments); return Br(this, e) }); function a (e, t, i) { return function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, a), r.call(this, { eventHub: ne, store: te, router: jr, appType: "DESKTOP", templateFunction: zr.a, templateData: {} }) } return i = a, (n = [{ key: "createEasings", value: function () { $.a.registerPlugin(H), H.create("duende.inOut", "M0,0 C0,0 0.07765,0.00173 0.12357,0.00864 0.15475,0.01334 0.17689,0.01832 0.20469,0.03083 0.23583,0.04484 0.25885,0.05889 0.28442,0.08099 0.30693,0.10045 0.32296,0.1187 0.33693,0.14516 0.36308,0.1947 0.38225,0.23285 0.39438,0.28932 0.43419,0.47455 0.44165,0.60892 0.4759,0.79178 0.47932,0.81001 0.48701,0.82206 0.49714,0.83786 0.51162,0.86044 0.52248,0.87761 0.54196,0.8948 0.56627,0.91624 0.58766,0.93023 0.61767,0.94421 0.65222,0.96031 0.67828,0.96748 0.71672,0.97624 0.76017,0.98614 0.78782,0.98952 0.83315,0.99332 0.89747,0.99872 1,1 1,1 ") } }, { key: "preloadFonts", value: function (e) { e() } }, { key: "preloadCommon", value: function (e) { e() } }, { key: "enter", value: function () { var e = this; this.router.init(), this.router.isDesktop || this.events.add(document.getElementById("content"), "scroll", (function () { var t = document.getElementById("content").scrollTop; e.router.contentScrollPosition = e.router.lerp(e.router.contentScrollPosition, t, .05), t > 0 ? (e.router.menu.hideLogo(), e.router.search.hideTrigger()) : (e.router.menu.showLogo(), e.router.search.showTrigger()) }), this), this.$guides = document.getElementById("guides"), this.$guides && (this.$guidesSwitcher = this.$guides.querySelector(".guides__switcher"), this.$guidesHr = this.$guides.querySelector(".guides__horizontal"), this.$guidesVr = this.$guides.querySelector(".guides__vertical"), this.events.add(this.$guidesSwitcher, "click", (function () { e.guidesSwitcher() }))) } }, { key: "guidesSwitcher", value: function () { "block" === this.$guidesHr.style.display ? ($.a.set(this.$guidesHr, { display: "none" }), $.a.set(this.$guidesVr, { display: "none" })) : ($.a.set(this.$guidesHr, { display: "block" }), $.a.set(this.$guidesVr, { display: "block" })) } }]) && Nr(i.prototype, n), s && Nr(i, s), a }(D); "loading" !== document.readyState ? (new Yr).render() : document.addEventListener("DOMContentLoaded", (function () { (new Yr).render() }), !1) }]);